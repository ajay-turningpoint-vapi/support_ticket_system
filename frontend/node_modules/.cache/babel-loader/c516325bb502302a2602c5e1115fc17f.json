{"ast":null,"code":"/**\r\n * DevExtreme (data/data_source/utils.js)\r\n * Version: 20.1.7\r\n * Build date: Tue Aug 25 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.normalizeDataSourceOptions = exports.normalizeLoadResult = exports.mapDataRespectingGrouping = exports.normalizeStoreLoadOptionAccessorArguments = exports.isPending = exports.CANCELED_TOKEN = void 0;\n\nvar _ajax = require(\"../../core/utils/ajax\");\n\nvar _abstract_store = require(\"../abstract_store\");\n\nvar _abstract_store2 = _interopRequireDefault(_abstract_store);\n\nvar _array_store = require(\"../array_store\");\n\nvar _array_store2 = _interopRequireDefault(_array_store);\n\nvar _iterator = require(\"../../core/utils/iterator\");\n\nvar _custom_store = require(\"../custom_store\");\n\nvar _custom_store2 = _interopRequireDefault(_custom_store);\n\nvar _extend = require(\"../../core/utils/extend\");\n\nvar _type = require(\"../../core/utils/type\");\n\nvar _utils = require(\"../utils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else {\n      if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (null == source) {\n    return {};\n  }\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n\n      if (excluded.indexOf(key) >= 0) {\n        continue;\n      }\n\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) {\n        continue;\n      }\n\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (null == source) {\n    return {};\n  }\n\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n\n    if (excluded.indexOf(key) >= 0) {\n      continue;\n    }\n\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar CANCELED_TOKEN = exports.CANCELED_TOKEN = \"canceled\";\n\nvar isPending = exports.isPending = function (deferred) {\n  return \"pending\" === deferred.state();\n};\n\nvar normalizeStoreLoadOptionAccessorArguments = exports.normalizeStoreLoadOptionAccessorArguments = function (originalArguments) {\n  switch (originalArguments.length) {\n    case 0:\n      return;\n\n    case 1:\n      return originalArguments[0];\n  }\n\n  return [].slice.call(originalArguments);\n};\n\nvar mapGroup = function (group, level, mapper) {\n  return (0, _iterator.map)(group, function (item) {\n    var items = item.items,\n        restItem = _objectWithoutProperties(item, [\"items\"]);\n\n    return _objectSpread(_objectSpread({}, restItem), {}, {\n      items: mapRecursive(items, level - 1, mapper)\n    });\n  });\n};\n\nvar mapRecursive = function (items, level, mapper) {\n  if (!Array.isArray(items)) {\n    return items;\n  }\n\n  return level ? mapGroup(items, level, mapper) : (0, _iterator.map)(items, mapper);\n};\n\nvar mapDataRespectingGrouping = exports.mapDataRespectingGrouping = function (items, mapper, groupInfo) {\n  var level = groupInfo ? (0, _utils.normalizeSortingInfo)(groupInfo).length : 0;\n  return mapRecursive(items, level, mapper);\n};\n\nvar normalizeLoadResult = exports.normalizeLoadResult = function (data, extra) {\n  var _data;\n\n  if (null === (_data = data) || void 0 === _data ? void 0 : _data.data) {\n    extra = data;\n    data = data.data;\n  }\n\n  if (!Array.isArray(data)) {\n    data = [data];\n  }\n\n  return {\n    data: data,\n    extra: extra\n  };\n};\n\nvar createCustomStoreFromLoadFunc = function (options) {\n  var storeConfig = {};\n  (0, _iterator.each)([\"useDefaultSearch\", \"key\", \"load\", \"loadMode\", \"cacheRawData\", \"byKey\", \"lookup\", \"totalCount\", \"insert\", \"update\", \"remove\"], function () {\n    storeConfig[this] = options[this];\n    delete options[this];\n  });\n  return new _custom_store2.default(storeConfig);\n};\n\nvar createStoreFromConfig = function (storeConfig) {\n  var alias = storeConfig.type;\n  delete storeConfig.type;\n  return _abstract_store2.default.create(alias, storeConfig);\n};\n\nvar createCustomStoreFromUrl = function (url, normalizationOptions) {\n  return new _custom_store2.default({\n    load: function () {\n      return (0, _ajax.sendRequest)({\n        url: url,\n        dataType: \"json\"\n      });\n    },\n    loadMode: null === normalizationOptions || void 0 === normalizationOptions ? void 0 : normalizationOptions.fromUrlLoadMode\n  });\n};\n\nvar normalizeDataSourceOptions = exports.normalizeDataSourceOptions = function (options, normalizationOptions) {\n  var store;\n\n  if (\"string\" === typeof options) {\n    options = {\n      paginate: false,\n      store: createCustomStoreFromUrl(options, normalizationOptions)\n    };\n  }\n\n  if (void 0 === options) {\n    options = [];\n  }\n\n  if (Array.isArray(options) || options instanceof _abstract_store2.default) {\n    options = {\n      store: options\n    };\n  } else {\n    options = (0, _extend.extend)({}, options);\n  }\n\n  if (void 0 === options.store) {\n    options.store = [];\n  }\n\n  store = options.store;\n\n  if (\"load\" in options) {\n    store = createCustomStoreFromLoadFunc(options);\n  } else {\n    if (Array.isArray(store)) {\n      store = new _array_store2.default(store);\n    } else {\n      if ((0, _type.isPlainObject)(store)) {\n        store = createStoreFromConfig((0, _extend.extend)({}, store));\n      }\n    }\n  }\n\n  options.store = store;\n  return options;\n};","map":{"version":3,"sources":["C:/Users/ASUS/Desktop/ticketSystem/frontend/node_modules/devextreme/data/data_source/utils.js"],"names":["Object","defineProperty","exports","value","normalizeDataSourceOptions","normalizeLoadResult","mapDataRespectingGrouping","normalizeStoreLoadOptionAccessorArguments","isPending","CANCELED_TOKEN","_ajax","require","_abstract_store","_abstract_store2","_interopRequireDefault","_array_store","_array_store2","_iterator","_custom_store","_custom_store2","_extend","_type","_utils","obj","__esModule","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","configurable","writable","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","prototype","propertyIsEnumerable","call","sourceKeys","deferred","state","originalArguments","slice","mapGroup","group","level","mapper","map","item","items","restItem","mapRecursive","Array","isArray","groupInfo","normalizeSortingInfo","data","extra","_data","createCustomStoreFromLoadFunc","options","storeConfig","each","default","createStoreFromConfig","alias","type","create","createCustomStoreFromUrl","url","normalizationOptions","load","sendRequest","dataType","loadMode","fromUrlLoadMode","store","paginate","extend","isPlainObject"],"mappings":"AAAA;;;;;;;;AAQA;;AACAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AACzCC,EAAAA,KAAK,EAAE;AADkC,CAA7C;AAGAD,OAAO,CAACE,0BAAR,GAAqCF,OAAO,CAACG,mBAAR,GAA8BH,OAAO,CAACI,yBAAR,GAAoCJ,OAAO,CAACK,yCAAR,GAAoDL,OAAO,CAACM,SAAR,GAAoBN,OAAO,CAACO,cAAR,GAAyB,KAAK,CAA7M;;AACA,IAAIC,KAAK,GAAGC,OAAO,CAAC,uBAAD,CAAnB;;AACA,IAAIC,eAAe,GAAGD,OAAO,CAAC,mBAAD,CAA7B;;AACA,IAAIE,gBAAgB,GAAGC,sBAAsB,CAACF,eAAD,CAA7C;;AACA,IAAIG,YAAY,GAAGJ,OAAO,CAAC,gBAAD,CAA1B;;AACA,IAAIK,aAAa,GAAGF,sBAAsB,CAACC,YAAD,CAA1C;;AACA,IAAIE,SAAS,GAAGN,OAAO,CAAC,2BAAD,CAAvB;;AACA,IAAIO,aAAa,GAAGP,OAAO,CAAC,iBAAD,CAA3B;;AACA,IAAIQ,cAAc,GAAGL,sBAAsB,CAACI,aAAD,CAA3C;;AACA,IAAIE,OAAO,GAAGT,OAAO,CAAC,yBAAD,CAArB;;AACA,IAAIU,KAAK,GAAGV,OAAO,CAAC,uBAAD,CAAnB;;AACA,IAAIW,MAAM,GAAGX,OAAO,CAAC,UAAD,CAApB;;AAEA,SAASG,sBAAT,CAAgCS,GAAhC,EAAqC;AACjC,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AACjC,eAAWA;AADsB,GAArC;AAGH;;AAED,SAASE,OAAT,CAAiBC,MAAjB,EAAyBC,cAAzB,EAAyC;AACrC,MAAIC,IAAI,GAAG5B,MAAM,CAAC4B,IAAP,CAAYF,MAAZ,CAAX;;AACA,MAAI1B,MAAM,CAAC6B,qBAAX,EAAkC;AAC9B,QAAIC,OAAO,GAAG9B,MAAM,CAAC6B,qBAAP,CAA6BH,MAA7B,CAAd;;AACA,QAAIC,cAAJ,EAAoB;AAChBG,MAAAA,OAAO,GAAGA,OAAO,CAACC,MAAR,CAAe,UAASC,GAAT,EAAc;AACnC,eAAOhC,MAAM,CAACiC,wBAAP,CAAgCP,MAAhC,EAAwCM,GAAxC,EAA6CE,UAApD;AACH,OAFS,CAAV;AAGH;;AACDN,IAAAA,IAAI,CAACO,IAAL,CAAUC,KAAV,CAAgBR,IAAhB,EAAsBE,OAAtB;AACH;;AACD,SAAOF,IAAP;AACH;;AAED,SAASS,aAAT,CAAuBC,MAAvB,EAA+B;AAC3B,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AACvC,QAAIG,MAAM,GAAG,QAAQF,SAAS,CAACD,CAAD,CAAjB,GAAuBC,SAAS,CAACD,CAAD,CAAhC,GAAsC,EAAnD;;AACA,QAAIA,CAAC,GAAG,CAAR,EAAW;AACPd,MAAAA,OAAO,CAACzB,MAAM,CAAC0C,MAAD,CAAP,EAAiB,IAAjB,CAAP,CAA8BC,OAA9B,CAAsC,UAASC,GAAT,EAAc;AAChDC,QAAAA,eAAe,CAACP,MAAD,EAASM,GAAT,EAAcF,MAAM,CAACE,GAAD,CAApB,CAAf;AACH,OAFD;AAGH,KAJD,MAIO;AACH,UAAI5C,MAAM,CAAC8C,yBAAX,EAAsC;AAClC9C,QAAAA,MAAM,CAAC+C,gBAAP,CAAwBT,MAAxB,EAAgCtC,MAAM,CAAC8C,yBAAP,CAAiCJ,MAAjC,CAAhC;AACH,OAFD,MAEO;AACHjB,QAAAA,OAAO,CAACzB,MAAM,CAAC0C,MAAD,CAAP,CAAP,CAAwBC,OAAxB,CAAgC,UAASC,GAAT,EAAc;AAC1C5C,UAAAA,MAAM,CAACC,cAAP,CAAsBqC,MAAtB,EAA8BM,GAA9B,EAAmC5C,MAAM,CAACiC,wBAAP,CAAgCS,MAAhC,EAAwCE,GAAxC,CAAnC;AACH,SAFD;AAGH;AACJ;AACJ;;AACD,SAAON,MAAP;AACH;;AAED,SAASO,eAAT,CAAyBtB,GAAzB,EAA8BqB,GAA9B,EAAmCzC,KAAnC,EAA0C;AACtC,MAAIyC,GAAG,IAAIrB,GAAX,EAAgB;AACZvB,IAAAA,MAAM,CAACC,cAAP,CAAsBsB,GAAtB,EAA2BqB,GAA3B,EAAgC;AAC5BzC,MAAAA,KAAK,EAAEA,KADqB;AAE5B+B,MAAAA,UAAU,EAAE,IAFgB;AAG5Bc,MAAAA,YAAY,EAAE,IAHc;AAI5BC,MAAAA,QAAQ,EAAE;AAJkB,KAAhC;AAMH,GAPD,MAOO;AACH1B,IAAAA,GAAG,CAACqB,GAAD,CAAH,GAAWzC,KAAX;AACH;;AACD,SAAOoB,GAAP;AACH;;AAED,SAAS2B,wBAAT,CAAkCR,MAAlC,EAA0CS,QAA1C,EAAoD;AAChD,MAAI,QAAQT,MAAZ,EAAoB;AAChB,WAAO,EAAP;AACH;;AACD,MAAIJ,MAAM,GAAGc,6BAA6B,CAACV,MAAD,EAASS,QAAT,CAA1C;;AACA,MAAIP,GAAJ,EAASL,CAAT;;AACA,MAAIvC,MAAM,CAAC6B,qBAAX,EAAkC;AAC9B,QAAIwB,gBAAgB,GAAGrD,MAAM,CAAC6B,qBAAP,CAA6Ba,MAA7B,CAAvB;;AACA,SAAKH,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGc,gBAAgB,CAACZ,MAAjC,EAAyCF,CAAC,EAA1C,EAA8C;AAC1CK,MAAAA,GAAG,GAAGS,gBAAgB,CAACd,CAAD,CAAtB;;AACA,UAAIY,QAAQ,CAACG,OAAT,CAAiBV,GAAjB,KAAyB,CAA7B,EAAgC;AAC5B;AACH;;AACD,UAAI,CAAC5C,MAAM,CAACuD,SAAP,CAAiBC,oBAAjB,CAAsCC,IAAtC,CAA2Cf,MAA3C,EAAmDE,GAAnD,CAAL,EAA8D;AAC1D;AACH;;AACDN,MAAAA,MAAM,CAACM,GAAD,CAAN,GAAcF,MAAM,CAACE,GAAD,CAApB;AACH;AACJ;;AACD,SAAON,MAAP;AACH;;AAED,SAASc,6BAAT,CAAuCV,MAAvC,EAA+CS,QAA/C,EAAyD;AACrD,MAAI,QAAQT,MAAZ,EAAoB;AAChB,WAAO,EAAP;AACH;;AACD,MAAIJ,MAAM,GAAG,EAAb;AACA,MAAIoB,UAAU,GAAG1D,MAAM,CAAC4B,IAAP,CAAYc,MAAZ,CAAjB;AACA,MAAIE,GAAJ,EAASL,CAAT;;AACA,OAAKA,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAGmB,UAAU,CAACjB,MAA3B,EAAmCF,CAAC,EAApC,EAAwC;AACpCK,IAAAA,GAAG,GAAGc,UAAU,CAACnB,CAAD,CAAhB;;AACA,QAAIY,QAAQ,CAACG,OAAT,CAAiBV,GAAjB,KAAyB,CAA7B,EAAgC;AAC5B;AACH;;AACDN,IAAAA,MAAM,CAACM,GAAD,CAAN,GAAcF,MAAM,CAACE,GAAD,CAApB;AACH;;AACD,SAAON,MAAP;AACH;;AACD,IAAI7B,cAAc,GAAGP,OAAO,CAACO,cAAR,GAAyB,UAA9C;;AACA,IAAID,SAAS,GAAGN,OAAO,CAACM,SAAR,GAAoB,UAASmD,QAAT,EAAmB;AACnD,SAAO,cAAcA,QAAQ,CAACC,KAAT,EAArB;AACH,CAFD;;AAGA,IAAIrD,yCAAyC,GAAGL,OAAO,CAACK,yCAAR,GAAoD,UAASsD,iBAAT,EAA4B;AAC5H,UAAQA,iBAAiB,CAACpB,MAA1B;AACI,SAAK,CAAL;AACI;;AACJ,SAAK,CAAL;AACI,aAAOoB,iBAAiB,CAAC,CAAD,CAAxB;AAJR;;AAMA,SAAO,GAAGC,KAAH,CAASL,IAAT,CAAcI,iBAAd,CAAP;AACH,CARD;;AASA,IAAIE,QAAQ,GAAG,UAASC,KAAT,EAAgBC,KAAhB,EAAuBC,MAAvB,EAA+B;AAC1C,SAAO,CAAC,GAAGjD,SAAS,CAACkD,GAAd,EAAmBH,KAAnB,EAA0B,UAASI,IAAT,EAAe;AAC5C,QAAIC,KAAK,GAAGD,IAAI,CAACC,KAAjB;AAAA,QACIC,QAAQ,GAAGpB,wBAAwB,CAACkB,IAAD,EAAO,CAAC,OAAD,CAAP,CADvC;;AAEA,WAAO/B,aAAa,CAACA,aAAa,CAAC,EAAD,EAAKiC,QAAL,CAAd,EAA8B,EAA9B,EAAkC;AAClDD,MAAAA,KAAK,EAAEE,YAAY,CAACF,KAAD,EAAQJ,KAAK,GAAG,CAAhB,EAAmBC,MAAnB;AAD+B,KAAlC,CAApB;AAGH,GANM,CAAP;AAOH,CARD;;AASA,IAAIK,YAAY,GAAG,UAASF,KAAT,EAAgBJ,KAAhB,EAAuBC,MAAvB,EAA+B;AAC9C,MAAI,CAACM,KAAK,CAACC,OAAN,CAAcJ,KAAd,CAAL,EAA2B;AACvB,WAAOA,KAAP;AACH;;AACD,SAAOJ,KAAK,GAAGF,QAAQ,CAACM,KAAD,EAAQJ,KAAR,EAAeC,MAAf,CAAX,GAAoC,CAAC,GAAGjD,SAAS,CAACkD,GAAd,EAAmBE,KAAnB,EAA0BH,MAA1B,CAAhD;AACH,CALD;;AAMA,IAAI5D,yBAAyB,GAAGJ,OAAO,CAACI,yBAAR,GAAoC,UAAS+D,KAAT,EAAgBH,MAAhB,EAAwBQ,SAAxB,EAAmC;AACnG,MAAIT,KAAK,GAAGS,SAAS,GAAG,CAAC,GAAGpD,MAAM,CAACqD,oBAAX,EAAiCD,SAAjC,EAA4CjC,MAA/C,GAAwD,CAA7E;AACA,SAAO8B,YAAY,CAACF,KAAD,EAAQJ,KAAR,EAAeC,MAAf,CAAnB;AACH,CAHD;;AAIA,IAAI7D,mBAAmB,GAAGH,OAAO,CAACG,mBAAR,GAA8B,UAASuE,IAAT,EAAeC,KAAf,EAAsB;AAC1E,MAAIC,KAAJ;;AACA,MAAI,UAAUA,KAAK,GAAGF,IAAlB,KAA2B,KAAK,CAAL,KAAWE,KAAtC,GAA8C,KAAK,CAAnD,GAAuDA,KAAK,CAACF,IAAjE,EAAuE;AACnEC,IAAAA,KAAK,GAAGD,IAAR;AACAA,IAAAA,IAAI,GAAGA,IAAI,CAACA,IAAZ;AACH;;AACD,MAAI,CAACJ,KAAK,CAACC,OAAN,CAAcG,IAAd,CAAL,EAA0B;AACtBA,IAAAA,IAAI,GAAG,CAACA,IAAD,CAAP;AACH;;AACD,SAAO;AACHA,IAAAA,IAAI,EAAEA,IADH;AAEHC,IAAAA,KAAK,EAAEA;AAFJ,GAAP;AAIH,CAbD;;AAcA,IAAIE,6BAA6B,GAAG,UAASC,OAAT,EAAkB;AAClD,MAAIC,WAAW,GAAG,EAAlB;AACA,GAAC,GAAGhE,SAAS,CAACiE,IAAd,EAAoB,CAAC,kBAAD,EAAqB,KAArB,EAA4B,MAA5B,EAAoC,UAApC,EAAgD,cAAhD,EAAgE,OAAhE,EAAyE,QAAzE,EAAmF,YAAnF,EAAiG,QAAjG,EAA2G,QAA3G,EAAqH,QAArH,CAApB,EAAoJ,YAAW;AAC3JD,IAAAA,WAAW,CAAC,IAAD,CAAX,GAAoBD,OAAO,CAAC,IAAD,CAA3B;AACA,WAAOA,OAAO,CAAC,IAAD,CAAd;AACH,GAHD;AAIA,SAAO,IAAI7D,cAAc,CAACgE,OAAnB,CAA2BF,WAA3B,CAAP;AACH,CAPD;;AAQA,IAAIG,qBAAqB,GAAG,UAASH,WAAT,EAAsB;AAC9C,MAAII,KAAK,GAAGJ,WAAW,CAACK,IAAxB;AACA,SAAOL,WAAW,CAACK,IAAnB;AACA,SAAOzE,gBAAgB,CAACsE,OAAjB,CAAyBI,MAAzB,CAAgCF,KAAhC,EAAuCJ,WAAvC,CAAP;AACH,CAJD;;AAKA,IAAIO,wBAAwB,GAAG,UAASC,GAAT,EAAcC,oBAAd,EAAoC;AAC/D,SAAO,IAAIvE,cAAc,CAACgE,OAAnB,CAA2B;AAC9BQ,IAAAA,IAAI,EAAE,YAAW;AACb,aAAO,CAAC,GAAGjF,KAAK,CAACkF,WAAV,EAAuB;AAC1BH,QAAAA,GAAG,EAAEA,GADqB;AAE1BI,QAAAA,QAAQ,EAAE;AAFgB,OAAvB,CAAP;AAIH,KAN6B;AAO9BC,IAAAA,QAAQ,EAAE,SAASJ,oBAAT,IAAiC,KAAK,CAAL,KAAWA,oBAA5C,GAAmE,KAAK,CAAxE,GAA4EA,oBAAoB,CAACK;AAP7E,GAA3B,CAAP;AASH,CAVD;;AAWA,IAAI3F,0BAA0B,GAAGF,OAAO,CAACE,0BAAR,GAAqC,UAAS4E,OAAT,EAAkBU,oBAAlB,EAAwC;AAC1G,MAAIM,KAAJ;;AACA,MAAI,aAAa,OAAOhB,OAAxB,EAAiC;AAC7BA,IAAAA,OAAO,GAAG;AACNiB,MAAAA,QAAQ,EAAE,KADJ;AAEND,MAAAA,KAAK,EAAER,wBAAwB,CAACR,OAAD,EAAUU,oBAAV;AAFzB,KAAV;AAIH;;AACD,MAAI,KAAK,CAAL,KAAWV,OAAf,EAAwB;AACpBA,IAAAA,OAAO,GAAG,EAAV;AACH;;AACD,MAAIR,KAAK,CAACC,OAAN,CAAcO,OAAd,KAA0BA,OAAO,YAAYnE,gBAAgB,CAACsE,OAAlE,EAA2E;AACvEH,IAAAA,OAAO,GAAG;AACNgB,MAAAA,KAAK,EAAEhB;AADD,KAAV;AAGH,GAJD,MAIO;AACHA,IAAAA,OAAO,GAAG,CAAC,GAAG5D,OAAO,CAAC8E,MAAZ,EAAoB,EAApB,EAAwBlB,OAAxB,CAAV;AACH;;AACD,MAAI,KAAK,CAAL,KAAWA,OAAO,CAACgB,KAAvB,EAA8B;AAC1BhB,IAAAA,OAAO,CAACgB,KAAR,GAAgB,EAAhB;AACH;;AACDA,EAAAA,KAAK,GAAGhB,OAAO,CAACgB,KAAhB;;AACA,MAAI,UAAUhB,OAAd,EAAuB;AACnBgB,IAAAA,KAAK,GAAGjB,6BAA6B,CAACC,OAAD,CAArC;AACH,GAFD,MAEO;AACH,QAAIR,KAAK,CAACC,OAAN,CAAcuB,KAAd,CAAJ,EAA0B;AACtBA,MAAAA,KAAK,GAAG,IAAIhF,aAAa,CAACmE,OAAlB,CAA0Ba,KAA1B,CAAR;AACH,KAFD,MAEO;AACH,UAAI,CAAC,GAAG3E,KAAK,CAAC8E,aAAV,EAAyBH,KAAzB,CAAJ,EAAqC;AACjCA,QAAAA,KAAK,GAAGZ,qBAAqB,CAAC,CAAC,GAAGhE,OAAO,CAAC8E,MAAZ,EAAoB,EAApB,EAAwBF,KAAxB,CAAD,CAA7B;AACH;AACJ;AACJ;;AACDhB,EAAAA,OAAO,CAACgB,KAAR,GAAgBA,KAAhB;AACA,SAAOhB,OAAP;AACH,CAnCD","sourcesContent":["/**\r\n * DevExtreme (data/data_source/utils.js)\r\n * Version: 20.1.7\r\n * Build date: Tue Aug 25 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.normalizeDataSourceOptions = exports.normalizeLoadResult = exports.mapDataRespectingGrouping = exports.normalizeStoreLoadOptionAccessorArguments = exports.isPending = exports.CANCELED_TOKEN = void 0;\r\nvar _ajax = require(\"../../core/utils/ajax\");\r\nvar _abstract_store = require(\"../abstract_store\");\r\nvar _abstract_store2 = _interopRequireDefault(_abstract_store);\r\nvar _array_store = require(\"../array_store\");\r\nvar _array_store2 = _interopRequireDefault(_array_store);\r\nvar _iterator = require(\"../../core/utils/iterator\");\r\nvar _custom_store = require(\"../custom_store\");\r\nvar _custom_store2 = _interopRequireDefault(_custom_store);\r\nvar _extend = require(\"../../core/utils/extend\");\r\nvar _type = require(\"../../core/utils/type\");\r\nvar _utils = require(\"../utils\");\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction ownKeys(object, enumerableOnly) {\r\n    var keys = Object.keys(object);\r\n    if (Object.getOwnPropertySymbols) {\r\n        var symbols = Object.getOwnPropertySymbols(object);\r\n        if (enumerableOnly) {\r\n            symbols = symbols.filter(function(sym) {\r\n                return Object.getOwnPropertyDescriptor(object, sym).enumerable\r\n            })\r\n        }\r\n        keys.push.apply(keys, symbols)\r\n    }\r\n    return keys\r\n}\r\n\r\nfunction _objectSpread(target) {\r\n    for (var i = 1; i < arguments.length; i++) {\r\n        var source = null != arguments[i] ? arguments[i] : {};\r\n        if (i % 2) {\r\n            ownKeys(Object(source), true).forEach(function(key) {\r\n                _defineProperty(target, key, source[key])\r\n            })\r\n        } else {\r\n            if (Object.getOwnPropertyDescriptors) {\r\n                Object.defineProperties(target, Object.getOwnPropertyDescriptors(source))\r\n            } else {\r\n                ownKeys(Object(source)).forEach(function(key) {\r\n                    Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key))\r\n                })\r\n            }\r\n        }\r\n    }\r\n    return target\r\n}\r\n\r\nfunction _defineProperty(obj, key, value) {\r\n    if (key in obj) {\r\n        Object.defineProperty(obj, key, {\r\n            value: value,\r\n            enumerable: true,\r\n            configurable: true,\r\n            writable: true\r\n        })\r\n    } else {\r\n        obj[key] = value\r\n    }\r\n    return obj\r\n}\r\n\r\nfunction _objectWithoutProperties(source, excluded) {\r\n    if (null == source) {\r\n        return {}\r\n    }\r\n    var target = _objectWithoutPropertiesLoose(source, excluded);\r\n    var key, i;\r\n    if (Object.getOwnPropertySymbols) {\r\n        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\r\n        for (i = 0; i < sourceSymbolKeys.length; i++) {\r\n            key = sourceSymbolKeys[i];\r\n            if (excluded.indexOf(key) >= 0) {\r\n                continue\r\n            }\r\n            if (!Object.prototype.propertyIsEnumerable.call(source, key)) {\r\n                continue\r\n            }\r\n            target[key] = source[key]\r\n        }\r\n    }\r\n    return target\r\n}\r\n\r\nfunction _objectWithoutPropertiesLoose(source, excluded) {\r\n    if (null == source) {\r\n        return {}\r\n    }\r\n    var target = {};\r\n    var sourceKeys = Object.keys(source);\r\n    var key, i;\r\n    for (i = 0; i < sourceKeys.length; i++) {\r\n        key = sourceKeys[i];\r\n        if (excluded.indexOf(key) >= 0) {\r\n            continue\r\n        }\r\n        target[key] = source[key]\r\n    }\r\n    return target\r\n}\r\nvar CANCELED_TOKEN = exports.CANCELED_TOKEN = \"canceled\";\r\nvar isPending = exports.isPending = function(deferred) {\r\n    return \"pending\" === deferred.state()\r\n};\r\nvar normalizeStoreLoadOptionAccessorArguments = exports.normalizeStoreLoadOptionAccessorArguments = function(originalArguments) {\r\n    switch (originalArguments.length) {\r\n        case 0:\r\n            return;\r\n        case 1:\r\n            return originalArguments[0]\r\n    }\r\n    return [].slice.call(originalArguments)\r\n};\r\nvar mapGroup = function(group, level, mapper) {\r\n    return (0, _iterator.map)(group, function(item) {\r\n        var items = item.items,\r\n            restItem = _objectWithoutProperties(item, [\"items\"]);\r\n        return _objectSpread(_objectSpread({}, restItem), {}, {\r\n            items: mapRecursive(items, level - 1, mapper)\r\n        })\r\n    })\r\n};\r\nvar mapRecursive = function(items, level, mapper) {\r\n    if (!Array.isArray(items)) {\r\n        return items\r\n    }\r\n    return level ? mapGroup(items, level, mapper) : (0, _iterator.map)(items, mapper)\r\n};\r\nvar mapDataRespectingGrouping = exports.mapDataRespectingGrouping = function(items, mapper, groupInfo) {\r\n    var level = groupInfo ? (0, _utils.normalizeSortingInfo)(groupInfo).length : 0;\r\n    return mapRecursive(items, level, mapper)\r\n};\r\nvar normalizeLoadResult = exports.normalizeLoadResult = function(data, extra) {\r\n    var _data;\r\n    if (null === (_data = data) || void 0 === _data ? void 0 : _data.data) {\r\n        extra = data;\r\n        data = data.data\r\n    }\r\n    if (!Array.isArray(data)) {\r\n        data = [data]\r\n    }\r\n    return {\r\n        data: data,\r\n        extra: extra\r\n    }\r\n};\r\nvar createCustomStoreFromLoadFunc = function(options) {\r\n    var storeConfig = {};\r\n    (0, _iterator.each)([\"useDefaultSearch\", \"key\", \"load\", \"loadMode\", \"cacheRawData\", \"byKey\", \"lookup\", \"totalCount\", \"insert\", \"update\", \"remove\"], function() {\r\n        storeConfig[this] = options[this];\r\n        delete options[this]\r\n    });\r\n    return new _custom_store2.default(storeConfig)\r\n};\r\nvar createStoreFromConfig = function(storeConfig) {\r\n    var alias = storeConfig.type;\r\n    delete storeConfig.type;\r\n    return _abstract_store2.default.create(alias, storeConfig)\r\n};\r\nvar createCustomStoreFromUrl = function(url, normalizationOptions) {\r\n    return new _custom_store2.default({\r\n        load: function() {\r\n            return (0, _ajax.sendRequest)({\r\n                url: url,\r\n                dataType: \"json\"\r\n            })\r\n        },\r\n        loadMode: null === normalizationOptions || void 0 === normalizationOptions ? void 0 : normalizationOptions.fromUrlLoadMode\r\n    })\r\n};\r\nvar normalizeDataSourceOptions = exports.normalizeDataSourceOptions = function(options, normalizationOptions) {\r\n    var store;\r\n    if (\"string\" === typeof options) {\r\n        options = {\r\n            paginate: false,\r\n            store: createCustomStoreFromUrl(options, normalizationOptions)\r\n        }\r\n    }\r\n    if (void 0 === options) {\r\n        options = []\r\n    }\r\n    if (Array.isArray(options) || options instanceof _abstract_store2.default) {\r\n        options = {\r\n            store: options\r\n        }\r\n    } else {\r\n        options = (0, _extend.extend)({}, options)\r\n    }\r\n    if (void 0 === options.store) {\r\n        options.store = []\r\n    }\r\n    store = options.store;\r\n    if (\"load\" in options) {\r\n        store = createCustomStoreFromLoadFunc(options)\r\n    } else {\r\n        if (Array.isArray(store)) {\r\n            store = new _array_store2.default(store)\r\n        } else {\r\n            if ((0, _type.isPlainObject)(store)) {\r\n                store = createStoreFromConfig((0, _extend.extend)({}, store))\r\n            }\r\n        }\r\n    }\r\n    options.store = store;\r\n    return options\r\n};\r\n"]},"metadata":{},"sourceType":"script"}