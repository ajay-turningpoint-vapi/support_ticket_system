{"ast":null,"code":"/**\r\n * DevExtreme (ui/popup.js)\r\n * Version: 20.1.7\r\n * Build date: Tue Aug 25 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _translator = require(\"../animation/translator\");\n\nvar _translator2 = _interopRequireDefault(_translator);\n\nvar _component_registrator = require(\"../core/component_registrator\");\n\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\n\nvar _devices = require(\"../core/devices\");\n\nvar _devices2 = _interopRequireDefault(_devices);\n\nvar _dom = require(\"../core/utils/dom\");\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _renderer = require(\"../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _empty_template = require(\"../core/templates/empty_template\");\n\nvar _array = require(\"../core/utils/array\");\n\nvar _browser = require(\"../core/utils/browser\");\n\nvar _browser2 = _interopRequireDefault(_browser);\n\nvar _common = require(\"../core/utils/common\");\n\nvar _extend = require(\"../core/utils/extend\");\n\nvar _inflector = require(\"../core/utils/inflector\");\n\nvar _iterator = require(\"../core/utils/iterator\");\n\nvar _size = require(\"../core/utils/size\");\n\nvar _size2 = _interopRequireDefault(_size);\n\nvar _position = require(\"../core/utils/position\");\n\nvar _type = require(\"../core/utils/type\");\n\nvar _version = require(\"../core/utils/version\");\n\nvar _window = require(\"../core/utils/window\");\n\nvar _window2 = _interopRequireDefault(_window);\n\nvar _message = require(\"../localization/message\");\n\nvar _message2 = _interopRequireDefault(_message);\n\nvar _button = require(\"./button\");\n\nvar _button2 = _interopRequireDefault(_button);\n\nvar _overlay = require(\"./overlay\");\n\nvar _overlay2 = _interopRequireDefault(_overlay);\n\nvar _themes = require(\"./themes\");\n\nvar _themes2 = _interopRequireDefault(_themes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar window = _window2.default.getWindow();\n\nrequire(\"./toolbar/ui.toolbar.base\");\n\nvar POPUP_CLASS = \"dx-popup\";\nvar POPUP_WRAPPER_CLASS = \"dx-popup-wrapper\";\nvar POPUP_FULL_SCREEN_CLASS = \"dx-popup-fullscreen\";\nvar POPUP_FULL_SCREEN_WIDTH_CLASS = \"dx-popup-fullscreen-width\";\nvar POPUP_NORMAL_CLASS = \"dx-popup-normal\";\nvar POPUP_CONTENT_CLASS = \"dx-popup-content\";\nvar POPUP_DRAGGABLE_CLASS = \"dx-popup-draggable\";\nvar POPUP_TITLE_CLASS = \"dx-popup-title\";\nvar POPUP_TITLE_CLOSEBUTTON_CLASS = \"dx-closebutton\";\nvar POPUP_BOTTOM_CLASS = \"dx-popup-bottom\";\nvar TEMPLATE_WRAPPER_CLASS = \"dx-template-wrapper\";\nvar POPUP_CONTENT_FLEX_HEIGHT_CLASS = \"dx-popup-flex-height\";\nvar POPUP_CONTENT_INHERIT_HEIGHT_CLASS = \"dx-popup-inherit-height\";\nvar ALLOWED_TOOLBAR_ITEM_ALIASES = [\"cancel\", \"clear\", \"done\"];\nvar BUTTON_DEFAULT_TYPE = \"default\";\nvar BUTTON_NORMAL_TYPE = \"normal\";\nvar BUTTON_TEXT_MODE = \"text\";\nvar BUTTON_CONTAINED_MODE = \"contained\";\nvar IS_IE11 = _browser2.default.msie && 11 === parseInt(_browser2.default.version);\nvar IS_OLD_SAFARI = _browser2.default.safari && (0, _version.compare)(_browser2.default.version, [11]) < 0;\nvar HEIGHT_STRATEGIES = {\n  \"static\": \"\",\n  inherit: POPUP_CONTENT_INHERIT_HEIGHT_CLASS,\n  flex: POPUP_CONTENT_FLEX_HEIGHT_CLASS\n};\n\nvar getButtonPlace = function (name) {\n  var device = _devices2.default.current();\n\n  var platform = device.platform;\n  var toolbar = \"bottom\";\n  var location = \"before\";\n\n  if (\"ios\" === platform) {\n    switch (name) {\n      case \"cancel\":\n        toolbar = \"top\";\n        break;\n\n      case \"clear\":\n        toolbar = \"top\";\n        location = \"after\";\n        break;\n\n      case \"done\":\n        location = \"after\";\n    }\n  } else {\n    if (\"android\" === platform && device.version && parseInt(device.version[0]) > 4) {\n      switch (name) {\n        case \"cancel\":\n          location = \"after\";\n          break;\n\n        case \"done\":\n          location = \"after\";\n      }\n    } else {\n      if (\"android\" === platform) {\n        location = \"center\";\n      }\n    }\n  }\n\n  return {\n    toolbar: toolbar,\n    location: location\n  };\n};\n\nvar Popup = _overlay2.default.inherit({\n  _getDefaultOptions: function () {\n    return (0, _extend.extend)(this.callBase(), {\n      fullScreen: false,\n      title: \"\",\n      showTitle: true,\n      titleTemplate: \"title\",\n      onTitleRendered: null,\n      dragEnabled: false,\n      toolbarItems: [],\n      showCloseButton: false,\n      bottomTemplate: \"bottom\",\n      useDefaultToolbarButtons: false,\n      useFlatToolbarButtons: false,\n      autoResizeEnabled: true\n    });\n  },\n  _defaultOptionsRules: function () {\n    var themeName = _themes2.default.current();\n\n    return this.callBase().concat([{\n      device: {\n        platform: \"ios\"\n      },\n      options: {\n        animation: this._iosAnimation\n      }\n    }, {\n      device: {\n        platform: \"android\"\n      },\n      options: {\n        animation: this._androidAnimation\n      }\n    }, {\n      device: {\n        platform: \"generic\"\n      },\n      options: {\n        showCloseButton: true\n      }\n    }, {\n      device: function (_device) {\n        return \"desktop\" === _devices2.default.real().deviceType && \"generic\" === _device.platform;\n      },\n      options: {\n        dragEnabled: true\n      }\n    }, {\n      device: function () {\n        return \"desktop\" === _devices2.default.real().deviceType && !_devices2.default.isSimulator();\n      },\n      options: {\n        focusStateEnabled: true\n      }\n    }, {\n      device: function () {\n        return _themes2.default.isMaterial(themeName);\n      },\n      options: {\n        useDefaultToolbarButtons: true,\n        useFlatToolbarButtons: true\n      }\n    }]);\n  },\n  _iosAnimation: {\n    show: {\n      type: \"slide\",\n      duration: 400,\n      from: {\n        position: {\n          my: \"top\",\n          at: \"bottom\"\n        }\n      },\n      to: {\n        position: {\n          my: \"center\",\n          at: \"center\"\n        }\n      }\n    },\n    hide: {\n      type: \"slide\",\n      duration: 400,\n      from: {\n        opacity: 1,\n        position: {\n          my: \"center\",\n          at: \"center\"\n        }\n      },\n      to: {\n        opacity: 1,\n        position: {\n          my: \"top\",\n          at: \"bottom\"\n        }\n      }\n    }\n  },\n  _androidAnimation: function () {\n    var fullScreenConfig = {\n      show: {\n        type: \"slide\",\n        duration: 300,\n        from: {\n          top: \"30%\",\n          opacity: 0\n        },\n        to: {\n          top: 0,\n          opacity: 1\n        }\n      },\n      hide: {\n        type: \"slide\",\n        duration: 300,\n        from: {\n          top: 0,\n          opacity: 1\n        },\n        to: {\n          top: \"30%\",\n          opacity: 0\n        }\n      }\n    };\n    var defaultConfig = {\n      show: {\n        type: \"fade\",\n        duration: 400,\n        from: 0,\n        to: 1\n      },\n      hide: {\n        type: \"fade\",\n        duration: 400,\n        from: 1,\n        to: 0\n      }\n    };\n    return this.option(\"fullScreen\") ? fullScreenConfig : defaultConfig;\n  },\n  _init: function () {\n    this.callBase();\n    this.$element().addClass(POPUP_CLASS);\n\n    this._wrapper().addClass(POPUP_WRAPPER_CLASS);\n\n    this._$popupContent = this._$content.wrapInner((0, _renderer2.default)(\"<div>\").addClass(POPUP_CONTENT_CLASS)).children().eq(0);\n  },\n  _render: function () {\n    var isFullscreen = this.option(\"fullScreen\");\n\n    this._toggleFullScreenClass(isFullscreen);\n\n    this.callBase();\n  },\n  _toggleFullScreenClass: function (value) {\n    this._$content.toggleClass(POPUP_FULL_SCREEN_CLASS, value).toggleClass(POPUP_NORMAL_CLASS, !value);\n  },\n  _initTemplates: function () {\n    this.callBase();\n\n    this._templateManager.addDefaultTemplates({\n      title: new _empty_template.EmptyTemplate(),\n      bottom: new _empty_template.EmptyTemplate()\n    });\n  },\n  _renderContentImpl: function () {\n    this._renderTitle();\n\n    this.callBase();\n\n    this._renderBottom();\n  },\n  _renderTitle: function () {\n    var items = this._getToolbarItems(\"top\");\n\n    var titleText = this.option(\"title\");\n    var showTitle = this.option(\"showTitle\");\n\n    if (showTitle && !!titleText) {\n      items.unshift({\n        location: _devices2.default.current().ios ? \"center\" : \"before\",\n        text: titleText\n      });\n    }\n\n    if (showTitle || items.length > 0) {\n      this._$title && this._$title.remove();\n      var $title = (0, _renderer2.default)(\"<div>\").addClass(POPUP_TITLE_CLASS).insertBefore(this.$content());\n      this._$title = this._renderTemplateByType(\"titleTemplate\", items, $title).addClass(POPUP_TITLE_CLASS);\n\n      this._renderDrag();\n\n      this._executeTitleRenderAction(this._$title);\n    } else {\n      if (this._$title) {\n        this._$title.detach();\n      }\n    }\n  },\n  _renderTemplateByType: function (optionName, data, $container, additionalToolbarOptions) {\n    var template = this._getTemplateByOption(optionName);\n\n    var toolbarTemplate = template instanceof _empty_template.EmptyTemplate;\n\n    if (toolbarTemplate) {\n      var integrationOptions = (0, _extend.extend)({}, this.option(\"integrationOptions\"), {\n        skipTemplates: [\"content\", \"title\"]\n      });\n      var toolbarOptions = (0, _extend.extend)(additionalToolbarOptions, {\n        items: data,\n        rtlEnabled: this.option(\"rtlEnabled\"),\n        useDefaultButtons: this.option(\"useDefaultToolbarButtons\"),\n        useFlatButtons: this.option(\"useFlatToolbarButtons\"),\n        integrationOptions: integrationOptions\n      });\n\n      this._getTemplate(\"dx-polymorph-widget\").render({\n        container: $container,\n        model: {\n          widget: \"dxToolbarBase\",\n          options: toolbarOptions\n        }\n      });\n\n      var $toolbar = $container.children(\"div\");\n      $container.replaceWith($toolbar);\n      return $toolbar;\n    } else {\n      var $result = (0, _renderer2.default)(template.render({\n        container: (0, _dom.getPublicElement)($container)\n      }));\n\n      if ($result.hasClass(TEMPLATE_WRAPPER_CLASS)) {\n        $container.replaceWith($result);\n        $container = $result;\n      }\n\n      return $container;\n    }\n  },\n  _executeTitleRenderAction: function ($titleElement) {\n    this._getTitleRenderAction()({\n      titleElement: (0, _dom.getPublicElement)($titleElement)\n    });\n  },\n  _getTitleRenderAction: function () {\n    return this._titleRenderAction || this._createTitleRenderAction();\n  },\n  _createTitleRenderAction: function () {\n    return this._titleRenderAction = this._createActionByOption(\"onTitleRendered\", {\n      element: this.element(),\n      excludeValidators: [\"disabled\", \"readOnly\"]\n    });\n  },\n  _getCloseButton: function () {\n    return {\n      toolbar: \"top\",\n      location: \"after\",\n      template: this._getCloseButtonRenderer()\n    };\n  },\n  _getCloseButtonRenderer: function () {\n    return function (_, __, container) {\n      var $button = (0, _renderer2.default)(\"<div>\").addClass(POPUP_TITLE_CLOSEBUTTON_CLASS);\n\n      this._createComponent($button, _button2.default, {\n        icon: \"close\",\n        onClick: this._createToolbarItemAction(void 0),\n        integrationOptions: {}\n      });\n\n      (0, _renderer2.default)(container).append($button);\n    }.bind(this);\n  },\n  _getToolbarItems: function (toolbar) {\n    var toolbarItems = this.option(\"toolbarItems\");\n    var toolbarsItems = [];\n    this._toolbarItemClasses = [];\n\n    var currentPlatform = _devices2.default.current().platform;\n\n    var index = 0;\n    (0, _iterator.each)(toolbarItems, function (_, data) {\n      var isShortcut = (0, _type.isDefined)(data.shortcut);\n      var item = isShortcut ? getButtonPlace(data.shortcut) : data;\n\n      if (isShortcut && \"ios\" === currentPlatform && index < 2) {\n        item.toolbar = \"top\";\n        index++;\n      }\n\n      item.toolbar = data.toolbar || item.toolbar || \"top\";\n\n      if (item && item.toolbar === toolbar) {\n        if (isShortcut) {\n          (0, _extend.extend)(item, {\n            location: data.location\n          }, this._getToolbarItemByAlias(data));\n        }\n\n        var isLTROrder = \"generic\" === currentPlatform;\n\n        if (\"done\" === data.shortcut && isLTROrder || \"cancel\" === data.shortcut && !isLTROrder) {\n          toolbarsItems.unshift(item);\n        } else {\n          toolbarsItems.push(item);\n        }\n      }\n    }.bind(this));\n\n    if (\"top\" === toolbar && this.option(\"showCloseButton\") && this.option(\"showTitle\")) {\n      toolbarsItems.push(this._getCloseButton());\n    }\n\n    return toolbarsItems;\n  },\n  _getLocalizationKey: function (itemType) {\n    return \"done\" === itemType.toLowerCase() ? \"OK\" : (0, _inflector.camelize)(itemType, true);\n  },\n  _getToolbarItemByAlias: function (data) {\n    var that = this;\n    var itemType = data.shortcut;\n\n    if ((0, _array.inArray)(itemType, ALLOWED_TOOLBAR_ITEM_ALIASES) < 0) {\n      return false;\n    }\n\n    var itemConfig = (0, _extend.extend)({\n      text: _message2.default.format(this._getLocalizationKey(itemType)),\n      onClick: this._createToolbarItemAction(data.onClick),\n      integrationOptions: {},\n      type: that.option(\"useDefaultToolbarButtons\") ? BUTTON_DEFAULT_TYPE : BUTTON_NORMAL_TYPE,\n      stylingMode: that.option(\"useFlatToolbarButtons\") ? BUTTON_TEXT_MODE : BUTTON_CONTAINED_MODE\n    }, data.options || {});\n    var itemClass = POPUP_CLASS + \"-\" + itemType;\n\n    this._toolbarItemClasses.push(itemClass);\n\n    return {\n      template: function (_, __, container) {\n        var $toolbarItem = (0, _renderer2.default)(\"<div>\").addClass(itemClass).appendTo(container);\n\n        that._createComponent($toolbarItem, _button2.default, itemConfig);\n      }\n    };\n  },\n  _createToolbarItemAction: function (clickAction) {\n    return this._createAction(clickAction, {\n      afterExecute: function (e) {\n        e.component.hide();\n      }\n    });\n  },\n  _renderBottom: function () {\n    var items = this._getToolbarItems(\"bottom\");\n\n    if (items.length) {\n      this._$bottom && this._$bottom.remove();\n      var $bottom = (0, _renderer2.default)(\"<div>\").addClass(POPUP_BOTTOM_CLASS).insertAfter(this.$content());\n      this._$bottom = this._renderTemplateByType(\"bottomTemplate\", items, $bottom, {\n        compactMode: true\n      }).addClass(POPUP_BOTTOM_CLASS);\n\n      this._toggleClasses();\n    } else {\n      this._$bottom && this._$bottom.detach();\n    }\n  },\n  _toggleClasses: function () {\n    var aliases = ALLOWED_TOOLBAR_ITEM_ALIASES;\n    (0, _iterator.each)(aliases, function (_, alias) {\n      var className = POPUP_CLASS + \"-\" + alias;\n\n      if ((0, _array.inArray)(className, this._toolbarItemClasses) >= 0) {\n        this._wrapper().addClass(className + \"-visible\");\n\n        this._$bottom.addClass(className);\n      } else {\n        this._wrapper().removeClass(className + \"-visible\");\n\n        this._$bottom.removeClass(className);\n      }\n    }.bind(this));\n  },\n  _getContainer: function () {\n    if (this.option(\"fullScreen\")) {\n      return (0, _renderer2.default)(window);\n    }\n\n    return this.callBase();\n  },\n  _getDragTarget: function () {\n    return this.topToolbar();\n  },\n  _renderGeometryImpl: function (isDimensionChanged) {\n    if (!isDimensionChanged) {\n      this._resetContentHeight();\n    }\n\n    this.callBase.apply(this, arguments);\n\n    this._setContentHeight();\n  },\n  _resetContentHeight: function () {\n    this._$popupContent.css({\n      height: \"auto\",\n      maxHeight: \"none\"\n    });\n  },\n  _renderDrag: function () {\n    this.callBase();\n\n    this._$content.toggleClass(POPUP_DRAGGABLE_CLASS, this.option(\"dragEnabled\"));\n  },\n  _renderResize: function () {\n    this.callBase();\n\n    this._resizable.option(\"onResize\", function () {\n      this._setContentHeight();\n\n      this._actions.onResize(arguments);\n    }.bind(this));\n  },\n  _setContentHeight: function () {\n    (this.option(\"forceApplyBindings\") || _common.noop)();\n\n    var overlayContent = this.overlayContent().get(0);\n\n    var currentHeightStrategyClass = this._chooseHeightStrategy(overlayContent);\n\n    this.$content().css(this._getHeightCssStyles(currentHeightStrategyClass, overlayContent));\n\n    this._setHeightClasses(this.overlayContent(), currentHeightStrategyClass);\n  },\n  _heightStrategyChangeOffset: function (currentHeightStrategyClass, popupVerticalPaddings) {\n    return currentHeightStrategyClass === HEIGHT_STRATEGIES.flex ? -popupVerticalPaddings : 0;\n  },\n  _chooseHeightStrategy: function (overlayContent) {\n    var isAutoWidth = \"auto\" === overlayContent.style.width || \"\" === overlayContent.style.width;\n    var currentHeightStrategyClass = HEIGHT_STRATEGIES.static;\n\n    if (this._isAutoHeight() && this.option(\"autoResizeEnabled\")) {\n      if (isAutoWidth || IS_OLD_SAFARI) {\n        if (!IS_IE11) {\n          currentHeightStrategyClass = HEIGHT_STRATEGIES.inherit;\n        }\n      } else {\n        currentHeightStrategyClass = HEIGHT_STRATEGIES.flex;\n      }\n    }\n\n    return currentHeightStrategyClass;\n  },\n  _getHeightCssStyles: function (currentHeightStrategyClass, overlayContent) {\n    var cssStyles = {};\n\n    var contentMaxHeight = this._getOptionValue(\"maxHeight\", overlayContent);\n\n    var contentMinHeight = this._getOptionValue(\"minHeight\", overlayContent);\n\n    var popupHeightParts = this._splitPopupHeight();\n\n    var toolbarsAndVerticalOffsetsHeight = popupHeightParts.header + popupHeightParts.footer + popupHeightParts.contentVerticalOffsets + popupHeightParts.popupVerticalOffsets + this._heightStrategyChangeOffset(currentHeightStrategyClass, popupHeightParts.popupVerticalPaddings);\n\n    if (currentHeightStrategyClass === HEIGHT_STRATEGIES.static) {\n      if (!this._isAutoHeight() || contentMaxHeight || contentMinHeight) {\n        var overlayHeight = this.option(\"fullScreen\") ? Math.min((0, _position.getBoundingRect)(overlayContent).height, _window2.default.getWindow().innerHeight) : (0, _position.getBoundingRect)(overlayContent).height;\n        var contentHeight = overlayHeight - toolbarsAndVerticalOffsetsHeight;\n        cssStyles = {\n          height: Math.max(0, contentHeight),\n          minHeight: \"auto\",\n          maxHeight: \"auto\"\n        };\n      }\n    } else {\n      var container = (0, _renderer2.default)(this._getContainer()).get(0);\n\n      var maxHeightValue = _size2.default.addOffsetToMaxHeight(contentMaxHeight, -toolbarsAndVerticalOffsetsHeight, container);\n\n      var minHeightValue = _size2.default.addOffsetToMinHeight(contentMinHeight, -toolbarsAndVerticalOffsetsHeight, container);\n\n      cssStyles = {\n        height: \"auto\",\n        minHeight: minHeightValue,\n        maxHeight: maxHeightValue\n      };\n    }\n\n    return cssStyles;\n  },\n  _setHeightClasses: function ($container, currentClass) {\n    var excessClasses = \"\";\n\n    for (var name in HEIGHT_STRATEGIES) {\n      if (HEIGHT_STRATEGIES[name] !== currentClass) {\n        excessClasses += \" \" + HEIGHT_STRATEGIES[name];\n      }\n    }\n\n    $container.removeClass(excessClasses).addClass(currentClass);\n  },\n  _isAutoHeight: function () {\n    return \"auto\" === this.overlayContent().get(0).style.height;\n  },\n  _splitPopupHeight: function () {\n    var topToolbar = this.topToolbar();\n    var bottomToolbar = this.bottomToolbar();\n    return {\n      header: _size2.default.getVisibleHeight(topToolbar && topToolbar.get(0)),\n      footer: _size2.default.getVisibleHeight(bottomToolbar && bottomToolbar.get(0)),\n      contentVerticalOffsets: _size2.default.getVerticalOffsets(this.overlayContent().get(0), true),\n      popupVerticalOffsets: _size2.default.getVerticalOffsets(this.$content().get(0), true),\n      popupVerticalPaddings: _size2.default.getVerticalOffsets(this.$content().get(0), false)\n    };\n  },\n  _useFixedPosition: function () {\n    return this.callBase() || this.option(\"fullScreen\");\n  },\n  _toggleSafariFullScreen: function (value) {\n    var toggleFullScreenBeforeShown = this._useFixedPosition() && value && !this._isShown;\n\n    if (toggleFullScreenBeforeShown) {\n      this._bodyScrollTop = value ? window.pageYOffset : void 0;\n    } else {\n      this._toggleSafariScrolling(!value);\n    }\n  },\n  _renderDimensions: function () {\n    if (this.option(\"fullScreen\")) {\n      this._$content.css({\n        width: \"100%\",\n        height: \"100%\"\n      });\n    } else {\n      this.callBase.apply(this, arguments);\n    }\n\n    if (_window2.default.hasWindow()) {\n      this._renderFullscreenWidthClass();\n    }\n  },\n  _renderFullscreenWidthClass: function () {\n    this.overlayContent().toggleClass(POPUP_FULL_SCREEN_WIDTH_CLASS, this.overlayContent().outerWidth() === (0, _renderer2.default)(window).width());\n  },\n  refreshPosition: function () {\n    this._renderPosition();\n  },\n  _renderPosition: function () {\n    if (this.option(\"fullScreen\")) {\n      _translator2.default.move(this._$content, {\n        top: 0,\n        left: 0\n      });\n    } else {\n      (this.option(\"forceApplyBindings\") || _common.noop)();\n\n      return this.callBase.apply(this, arguments);\n    }\n  },\n  _optionChanged: function (args) {\n    switch (args.name) {\n      case \"showTitle\":\n      case \"title\":\n      case \"titleTemplate\":\n        this._renderTitle();\n\n        this._renderGeometry();\n\n        break;\n\n      case \"bottomTemplate\":\n        this._renderBottom();\n\n        this._renderGeometry();\n\n        break;\n\n      case \"onTitleRendered\":\n        this._createTitleRenderAction(args.value);\n\n        break;\n\n      case \"toolbarItems\":\n      case \"useDefaultToolbarButtons\":\n      case \"useFlatToolbarButtons\":\n        var shouldRenderGeometry = !args.fullName.match(/^toolbarItems((\\[\\d+\\])(\\.(options|visible).*)?)?$/);\n\n        this._renderTitle();\n\n        this._renderBottom();\n\n        if (shouldRenderGeometry) {\n          this._renderGeometry();\n        }\n\n        break;\n\n      case \"dragEnabled\":\n        this._renderDrag();\n\n        break;\n\n      case \"autoResizeEnabled\":\n        this._renderGeometry();\n\n        _dom2.default.triggerResizeEvent(this._$content);\n\n        break;\n\n      case \"fullScreen\":\n        this._toggleFullScreenClass(args.value);\n\n        this._toggleSafariFullScreen(args.value);\n\n        this._renderGeometry();\n\n        _dom2.default.triggerResizeEvent(this._$content);\n\n        break;\n\n      case \"showCloseButton\":\n        this._renderTitle();\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  },\n  bottomToolbar: function () {\n    return this._$bottom;\n  },\n  topToolbar: function () {\n    return this._$title;\n  },\n  $content: function () {\n    return this._$popupContent;\n  },\n  content: function () {\n    return (0, _dom.getPublicElement)(this._$popupContent);\n  },\n  overlayContent: function () {\n    return this._$content;\n  }\n});\n\n(0, _component_registrator2.default)(\"dxPopup\", Popup);\nmodule.exports = Popup;\nmodule.exports.default = module.exports;","map":{"version":3,"sources":["C:/Users/ASUS/Desktop/ticketSystem/frontend/node_modules/devextreme/ui/popup.js"],"names":["_translator","require","_translator2","_interopRequireDefault","_component_registrator","_component_registrator2","_devices","_devices2","_dom","_dom2","_renderer","_renderer2","_empty_template","_array","_browser","_browser2","_common","_extend","_inflector","_iterator","_size","_size2","_position","_type","_version","_window","_window2","_message","_message2","_button","_button2","_overlay","_overlay2","_themes","_themes2","obj","__esModule","window","default","getWindow","POPUP_CLASS","POPUP_WRAPPER_CLASS","POPUP_FULL_SCREEN_CLASS","POPUP_FULL_SCREEN_WIDTH_CLASS","POPUP_NORMAL_CLASS","POPUP_CONTENT_CLASS","POPUP_DRAGGABLE_CLASS","POPUP_TITLE_CLASS","POPUP_TITLE_CLOSEBUTTON_CLASS","POPUP_BOTTOM_CLASS","TEMPLATE_WRAPPER_CLASS","POPUP_CONTENT_FLEX_HEIGHT_CLASS","POPUP_CONTENT_INHERIT_HEIGHT_CLASS","ALLOWED_TOOLBAR_ITEM_ALIASES","BUTTON_DEFAULT_TYPE","BUTTON_NORMAL_TYPE","BUTTON_TEXT_MODE","BUTTON_CONTAINED_MODE","IS_IE11","msie","parseInt","version","IS_OLD_SAFARI","safari","compare","HEIGHT_STRATEGIES","inherit","flex","getButtonPlace","name","device","current","platform","toolbar","location","Popup","_getDefaultOptions","extend","callBase","fullScreen","title","showTitle","titleTemplate","onTitleRendered","dragEnabled","toolbarItems","showCloseButton","bottomTemplate","useDefaultToolbarButtons","useFlatToolbarButtons","autoResizeEnabled","_defaultOptionsRules","themeName","concat","options","animation","_iosAnimation","_androidAnimation","_device","real","deviceType","isSimulator","focusStateEnabled","isMaterial","show","type","duration","from","position","my","at","to","hide","opacity","fullScreenConfig","top","defaultConfig","option","_init","$element","addClass","_wrapper","_$popupContent","_$content","wrapInner","children","eq","_render","isFullscreen","_toggleFullScreenClass","value","toggleClass","_initTemplates","_templateManager","addDefaultTemplates","EmptyTemplate","bottom","_renderContentImpl","_renderTitle","_renderBottom","items","_getToolbarItems","titleText","unshift","ios","text","length","_$title","remove","$title","insertBefore","$content","_renderTemplateByType","_renderDrag","_executeTitleRenderAction","detach","optionName","data","$container","additionalToolbarOptions","template","_getTemplateByOption","toolbarTemplate","integrationOptions","skipTemplates","toolbarOptions","rtlEnabled","useDefaultButtons","useFlatButtons","_getTemplate","render","container","model","widget","$toolbar","replaceWith","$result","getPublicElement","hasClass","$titleElement","_getTitleRenderAction","titleElement","_titleRenderAction","_createTitleRenderAction","_createActionByOption","element","excludeValidators","_getCloseButton","_getCloseButtonRenderer","_","__","$button","_createComponent","icon","onClick","_createToolbarItemAction","append","bind","toolbarsItems","_toolbarItemClasses","currentPlatform","index","each","isShortcut","isDefined","shortcut","item","_getToolbarItemByAlias","isLTROrder","push","_getLocalizationKey","itemType","toLowerCase","camelize","that","inArray","itemConfig","format","stylingMode","itemClass","$toolbarItem","appendTo","clickAction","_createAction","afterExecute","e","component","_$bottom","$bottom","insertAfter","compactMode","_toggleClasses","aliases","alias","className","removeClass","_getContainer","_getDragTarget","topToolbar","_renderGeometryImpl","isDimensionChanged","_resetContentHeight","apply","arguments","_setContentHeight","css","height","maxHeight","_renderResize","_resizable","_actions","onResize","noop","overlayContent","get","currentHeightStrategyClass","_chooseHeightStrategy","_getHeightCssStyles","_setHeightClasses","_heightStrategyChangeOffset","popupVerticalPaddings","isAutoWidth","style","width","static","_isAutoHeight","cssStyles","contentMaxHeight","_getOptionValue","contentMinHeight","popupHeightParts","_splitPopupHeight","toolbarsAndVerticalOffsetsHeight","header","footer","contentVerticalOffsets","popupVerticalOffsets","overlayHeight","Math","min","getBoundingRect","innerHeight","contentHeight","max","minHeight","maxHeightValue","addOffsetToMaxHeight","minHeightValue","addOffsetToMinHeight","currentClass","excessClasses","bottomToolbar","getVisibleHeight","getVerticalOffsets","_useFixedPosition","_toggleSafariFullScreen","toggleFullScreenBeforeShown","_isShown","_bodyScrollTop","pageYOffset","_toggleSafariScrolling","_renderDimensions","hasWindow","_renderFullscreenWidthClass","outerWidth","refreshPosition","_renderPosition","move","left","_optionChanged","args","_renderGeometry","shouldRenderGeometry","fullName","match","triggerResizeEvent","content","module","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/popup.js)\r\n * Version: 20.1.7\r\n * Build date: Tue Aug 25 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _translator = require(\"../animation/translator\");\r\nvar _translator2 = _interopRequireDefault(_translator);\r\nvar _component_registrator = require(\"../core/component_registrator\");\r\nvar _component_registrator2 = _interopRequireDefault(_component_registrator);\r\nvar _devices = require(\"../core/devices\");\r\nvar _devices2 = _interopRequireDefault(_devices);\r\nvar _dom = require(\"../core/utils/dom\");\r\nvar _dom2 = _interopRequireDefault(_dom);\r\nvar _renderer = require(\"../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _empty_template = require(\"../core/templates/empty_template\");\r\nvar _array = require(\"../core/utils/array\");\r\nvar _browser = require(\"../core/utils/browser\");\r\nvar _browser2 = _interopRequireDefault(_browser);\r\nvar _common = require(\"../core/utils/common\");\r\nvar _extend = require(\"../core/utils/extend\");\r\nvar _inflector = require(\"../core/utils/inflector\");\r\nvar _iterator = require(\"../core/utils/iterator\");\r\nvar _size = require(\"../core/utils/size\");\r\nvar _size2 = _interopRequireDefault(_size);\r\nvar _position = require(\"../core/utils/position\");\r\nvar _type = require(\"../core/utils/type\");\r\nvar _version = require(\"../core/utils/version\");\r\nvar _window = require(\"../core/utils/window\");\r\nvar _window2 = _interopRequireDefault(_window);\r\nvar _message = require(\"../localization/message\");\r\nvar _message2 = _interopRequireDefault(_message);\r\nvar _button = require(\"./button\");\r\nvar _button2 = _interopRequireDefault(_button);\r\nvar _overlay = require(\"./overlay\");\r\nvar _overlay2 = _interopRequireDefault(_overlay);\r\nvar _themes = require(\"./themes\");\r\nvar _themes2 = _interopRequireDefault(_themes);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar window = _window2.default.getWindow();\r\nrequire(\"./toolbar/ui.toolbar.base\");\r\nvar POPUP_CLASS = \"dx-popup\";\r\nvar POPUP_WRAPPER_CLASS = \"dx-popup-wrapper\";\r\nvar POPUP_FULL_SCREEN_CLASS = \"dx-popup-fullscreen\";\r\nvar POPUP_FULL_SCREEN_WIDTH_CLASS = \"dx-popup-fullscreen-width\";\r\nvar POPUP_NORMAL_CLASS = \"dx-popup-normal\";\r\nvar POPUP_CONTENT_CLASS = \"dx-popup-content\";\r\nvar POPUP_DRAGGABLE_CLASS = \"dx-popup-draggable\";\r\nvar POPUP_TITLE_CLASS = \"dx-popup-title\";\r\nvar POPUP_TITLE_CLOSEBUTTON_CLASS = \"dx-closebutton\";\r\nvar POPUP_BOTTOM_CLASS = \"dx-popup-bottom\";\r\nvar TEMPLATE_WRAPPER_CLASS = \"dx-template-wrapper\";\r\nvar POPUP_CONTENT_FLEX_HEIGHT_CLASS = \"dx-popup-flex-height\";\r\nvar POPUP_CONTENT_INHERIT_HEIGHT_CLASS = \"dx-popup-inherit-height\";\r\nvar ALLOWED_TOOLBAR_ITEM_ALIASES = [\"cancel\", \"clear\", \"done\"];\r\nvar BUTTON_DEFAULT_TYPE = \"default\";\r\nvar BUTTON_NORMAL_TYPE = \"normal\";\r\nvar BUTTON_TEXT_MODE = \"text\";\r\nvar BUTTON_CONTAINED_MODE = \"contained\";\r\nvar IS_IE11 = _browser2.default.msie && 11 === parseInt(_browser2.default.version);\r\nvar IS_OLD_SAFARI = _browser2.default.safari && (0, _version.compare)(_browser2.default.version, [11]) < 0;\r\nvar HEIGHT_STRATEGIES = {\r\n    \"static\": \"\",\r\n    inherit: POPUP_CONTENT_INHERIT_HEIGHT_CLASS,\r\n    flex: POPUP_CONTENT_FLEX_HEIGHT_CLASS\r\n};\r\nvar getButtonPlace = function(name) {\r\n    var device = _devices2.default.current();\r\n    var platform = device.platform;\r\n    var toolbar = \"bottom\";\r\n    var location = \"before\";\r\n    if (\"ios\" === platform) {\r\n        switch (name) {\r\n            case \"cancel\":\r\n                toolbar = \"top\";\r\n                break;\r\n            case \"clear\":\r\n                toolbar = \"top\";\r\n                location = \"after\";\r\n                break;\r\n            case \"done\":\r\n                location = \"after\"\r\n        }\r\n    } else {\r\n        if (\"android\" === platform && device.version && parseInt(device.version[0]) > 4) {\r\n            switch (name) {\r\n                case \"cancel\":\r\n                    location = \"after\";\r\n                    break;\r\n                case \"done\":\r\n                    location = \"after\"\r\n            }\r\n        } else {\r\n            if (\"android\" === platform) {\r\n                location = \"center\"\r\n            }\r\n        }\r\n    }\r\n    return {\r\n        toolbar: toolbar,\r\n        location: location\r\n    }\r\n};\r\nvar Popup = _overlay2.default.inherit({\r\n    _getDefaultOptions: function() {\r\n        return (0, _extend.extend)(this.callBase(), {\r\n            fullScreen: false,\r\n            title: \"\",\r\n            showTitle: true,\r\n            titleTemplate: \"title\",\r\n            onTitleRendered: null,\r\n            dragEnabled: false,\r\n            toolbarItems: [],\r\n            showCloseButton: false,\r\n            bottomTemplate: \"bottom\",\r\n            useDefaultToolbarButtons: false,\r\n            useFlatToolbarButtons: false,\r\n            autoResizeEnabled: true\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        var themeName = _themes2.default.current();\r\n        return this.callBase().concat([{\r\n            device: {\r\n                platform: \"ios\"\r\n            },\r\n            options: {\r\n                animation: this._iosAnimation\r\n            }\r\n        }, {\r\n            device: {\r\n                platform: \"android\"\r\n            },\r\n            options: {\r\n                animation: this._androidAnimation\r\n            }\r\n        }, {\r\n            device: {\r\n                platform: \"generic\"\r\n            },\r\n            options: {\r\n                showCloseButton: true\r\n            }\r\n        }, {\r\n            device: function(_device) {\r\n                return \"desktop\" === _devices2.default.real().deviceType && \"generic\" === _device.platform\r\n            },\r\n            options: {\r\n                dragEnabled: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return \"desktop\" === _devices2.default.real().deviceType && !_devices2.default.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return _themes2.default.isMaterial(themeName)\r\n            },\r\n            options: {\r\n                useDefaultToolbarButtons: true,\r\n                useFlatToolbarButtons: true\r\n            }\r\n        }])\r\n    },\r\n    _iosAnimation: {\r\n        show: {\r\n            type: \"slide\",\r\n            duration: 400,\r\n            from: {\r\n                position: {\r\n                    my: \"top\",\r\n                    at: \"bottom\"\r\n                }\r\n            },\r\n            to: {\r\n                position: {\r\n                    my: \"center\",\r\n                    at: \"center\"\r\n                }\r\n            }\r\n        },\r\n        hide: {\r\n            type: \"slide\",\r\n            duration: 400,\r\n            from: {\r\n                opacity: 1,\r\n                position: {\r\n                    my: \"center\",\r\n                    at: \"center\"\r\n                }\r\n            },\r\n            to: {\r\n                opacity: 1,\r\n                position: {\r\n                    my: \"top\",\r\n                    at: \"bottom\"\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _androidAnimation: function() {\r\n        var fullScreenConfig = {\r\n            show: {\r\n                type: \"slide\",\r\n                duration: 300,\r\n                from: {\r\n                    top: \"30%\",\r\n                    opacity: 0\r\n                },\r\n                to: {\r\n                    top: 0,\r\n                    opacity: 1\r\n                }\r\n            },\r\n            hide: {\r\n                type: \"slide\",\r\n                duration: 300,\r\n                from: {\r\n                    top: 0,\r\n                    opacity: 1\r\n                },\r\n                to: {\r\n                    top: \"30%\",\r\n                    opacity: 0\r\n                }\r\n            }\r\n        };\r\n        var defaultConfig = {\r\n            show: {\r\n                type: \"fade\",\r\n                duration: 400,\r\n                from: 0,\r\n                to: 1\r\n            },\r\n            hide: {\r\n                type: \"fade\",\r\n                duration: 400,\r\n                from: 1,\r\n                to: 0\r\n            }\r\n        };\r\n        return this.option(\"fullScreen\") ? fullScreenConfig : defaultConfig\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this.$element().addClass(POPUP_CLASS);\r\n        this._wrapper().addClass(POPUP_WRAPPER_CLASS);\r\n        this._$popupContent = this._$content.wrapInner((0, _renderer2.default)(\"<div>\").addClass(POPUP_CONTENT_CLASS)).children().eq(0)\r\n    },\r\n    _render: function() {\r\n        var isFullscreen = this.option(\"fullScreen\");\r\n        this._toggleFullScreenClass(isFullscreen);\r\n        this.callBase()\r\n    },\r\n    _toggleFullScreenClass: function(value) {\r\n        this._$content.toggleClass(POPUP_FULL_SCREEN_CLASS, value).toggleClass(POPUP_NORMAL_CLASS, !value)\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._templateManager.addDefaultTemplates({\r\n            title: new _empty_template.EmptyTemplate,\r\n            bottom: new _empty_template.EmptyTemplate\r\n        })\r\n    },\r\n    _renderContentImpl: function() {\r\n        this._renderTitle();\r\n        this.callBase();\r\n        this._renderBottom()\r\n    },\r\n    _renderTitle: function() {\r\n        var items = this._getToolbarItems(\"top\");\r\n        var titleText = this.option(\"title\");\r\n        var showTitle = this.option(\"showTitle\");\r\n        if (showTitle && !!titleText) {\r\n            items.unshift({\r\n                location: _devices2.default.current().ios ? \"center\" : \"before\",\r\n                text: titleText\r\n            })\r\n        }\r\n        if (showTitle || items.length > 0) {\r\n            this._$title && this._$title.remove();\r\n            var $title = (0, _renderer2.default)(\"<div>\").addClass(POPUP_TITLE_CLASS).insertBefore(this.$content());\r\n            this._$title = this._renderTemplateByType(\"titleTemplate\", items, $title).addClass(POPUP_TITLE_CLASS);\r\n            this._renderDrag();\r\n            this._executeTitleRenderAction(this._$title)\r\n        } else {\r\n            if (this._$title) {\r\n                this._$title.detach()\r\n            }\r\n        }\r\n    },\r\n    _renderTemplateByType: function(optionName, data, $container, additionalToolbarOptions) {\r\n        var template = this._getTemplateByOption(optionName);\r\n        var toolbarTemplate = template instanceof _empty_template.EmptyTemplate;\r\n        if (toolbarTemplate) {\r\n            var integrationOptions = (0, _extend.extend)({}, this.option(\"integrationOptions\"), {\r\n                skipTemplates: [\"content\", \"title\"]\r\n            });\r\n            var toolbarOptions = (0, _extend.extend)(additionalToolbarOptions, {\r\n                items: data,\r\n                rtlEnabled: this.option(\"rtlEnabled\"),\r\n                useDefaultButtons: this.option(\"useDefaultToolbarButtons\"),\r\n                useFlatButtons: this.option(\"useFlatToolbarButtons\"),\r\n                integrationOptions: integrationOptions\r\n            });\r\n            this._getTemplate(\"dx-polymorph-widget\").render({\r\n                container: $container,\r\n                model: {\r\n                    widget: \"dxToolbarBase\",\r\n                    options: toolbarOptions\r\n                }\r\n            });\r\n            var $toolbar = $container.children(\"div\");\r\n            $container.replaceWith($toolbar);\r\n            return $toolbar\r\n        } else {\r\n            var $result = (0, _renderer2.default)(template.render({\r\n                container: (0, _dom.getPublicElement)($container)\r\n            }));\r\n            if ($result.hasClass(TEMPLATE_WRAPPER_CLASS)) {\r\n                $container.replaceWith($result);\r\n                $container = $result\r\n            }\r\n            return $container\r\n        }\r\n    },\r\n    _executeTitleRenderAction: function($titleElement) {\r\n        this._getTitleRenderAction()({\r\n            titleElement: (0, _dom.getPublicElement)($titleElement)\r\n        })\r\n    },\r\n    _getTitleRenderAction: function() {\r\n        return this._titleRenderAction || this._createTitleRenderAction()\r\n    },\r\n    _createTitleRenderAction: function() {\r\n        return this._titleRenderAction = this._createActionByOption(\"onTitleRendered\", {\r\n            element: this.element(),\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    _getCloseButton: function() {\r\n        return {\r\n            toolbar: \"top\",\r\n            location: \"after\",\r\n            template: this._getCloseButtonRenderer()\r\n        }\r\n    },\r\n    _getCloseButtonRenderer: function() {\r\n        return function(_, __, container) {\r\n            var $button = (0, _renderer2.default)(\"<div>\").addClass(POPUP_TITLE_CLOSEBUTTON_CLASS);\r\n            this._createComponent($button, _button2.default, {\r\n                icon: \"close\",\r\n                onClick: this._createToolbarItemAction(void 0),\r\n                integrationOptions: {}\r\n            });\r\n            (0, _renderer2.default)(container).append($button)\r\n        }.bind(this)\r\n    },\r\n    _getToolbarItems: function(toolbar) {\r\n        var toolbarItems = this.option(\"toolbarItems\");\r\n        var toolbarsItems = [];\r\n        this._toolbarItemClasses = [];\r\n        var currentPlatform = _devices2.default.current().platform;\r\n        var index = 0;\r\n        (0, _iterator.each)(toolbarItems, function(_, data) {\r\n            var isShortcut = (0, _type.isDefined)(data.shortcut);\r\n            var item = isShortcut ? getButtonPlace(data.shortcut) : data;\r\n            if (isShortcut && \"ios\" === currentPlatform && index < 2) {\r\n                item.toolbar = \"top\";\r\n                index++\r\n            }\r\n            item.toolbar = data.toolbar || item.toolbar || \"top\";\r\n            if (item && item.toolbar === toolbar) {\r\n                if (isShortcut) {\r\n                    (0, _extend.extend)(item, {\r\n                        location: data.location\r\n                    }, this._getToolbarItemByAlias(data))\r\n                }\r\n                var isLTROrder = \"generic\" === currentPlatform;\r\n                if (\"done\" === data.shortcut && isLTROrder || \"cancel\" === data.shortcut && !isLTROrder) {\r\n                    toolbarsItems.unshift(item)\r\n                } else {\r\n                    toolbarsItems.push(item)\r\n                }\r\n            }\r\n        }.bind(this));\r\n        if (\"top\" === toolbar && this.option(\"showCloseButton\") && this.option(\"showTitle\")) {\r\n            toolbarsItems.push(this._getCloseButton())\r\n        }\r\n        return toolbarsItems\r\n    },\r\n    _getLocalizationKey: function(itemType) {\r\n        return \"done\" === itemType.toLowerCase() ? \"OK\" : (0, _inflector.camelize)(itemType, true)\r\n    },\r\n    _getToolbarItemByAlias: function(data) {\r\n        var that = this;\r\n        var itemType = data.shortcut;\r\n        if ((0, _array.inArray)(itemType, ALLOWED_TOOLBAR_ITEM_ALIASES) < 0) {\r\n            return false\r\n        }\r\n        var itemConfig = (0, _extend.extend)({\r\n            text: _message2.default.format(this._getLocalizationKey(itemType)),\r\n            onClick: this._createToolbarItemAction(data.onClick),\r\n            integrationOptions: {},\r\n            type: that.option(\"useDefaultToolbarButtons\") ? BUTTON_DEFAULT_TYPE : BUTTON_NORMAL_TYPE,\r\n            stylingMode: that.option(\"useFlatToolbarButtons\") ? BUTTON_TEXT_MODE : BUTTON_CONTAINED_MODE\r\n        }, data.options || {});\r\n        var itemClass = POPUP_CLASS + \"-\" + itemType;\r\n        this._toolbarItemClasses.push(itemClass);\r\n        return {\r\n            template: function(_, __, container) {\r\n                var $toolbarItem = (0, _renderer2.default)(\"<div>\").addClass(itemClass).appendTo(container);\r\n                that._createComponent($toolbarItem, _button2.default, itemConfig)\r\n            }\r\n        }\r\n    },\r\n    _createToolbarItemAction: function(clickAction) {\r\n        return this._createAction(clickAction, {\r\n            afterExecute: function(e) {\r\n                e.component.hide()\r\n            }\r\n        })\r\n    },\r\n    _renderBottom: function() {\r\n        var items = this._getToolbarItems(\"bottom\");\r\n        if (items.length) {\r\n            this._$bottom && this._$bottom.remove();\r\n            var $bottom = (0, _renderer2.default)(\"<div>\").addClass(POPUP_BOTTOM_CLASS).insertAfter(this.$content());\r\n            this._$bottom = this._renderTemplateByType(\"bottomTemplate\", items, $bottom, {\r\n                compactMode: true\r\n            }).addClass(POPUP_BOTTOM_CLASS);\r\n            this._toggleClasses()\r\n        } else {\r\n            this._$bottom && this._$bottom.detach()\r\n        }\r\n    },\r\n    _toggleClasses: function() {\r\n        var aliases = ALLOWED_TOOLBAR_ITEM_ALIASES;\r\n        (0, _iterator.each)(aliases, function(_, alias) {\r\n            var className = POPUP_CLASS + \"-\" + alias;\r\n            if ((0, _array.inArray)(className, this._toolbarItemClasses) >= 0) {\r\n                this._wrapper().addClass(className + \"-visible\");\r\n                this._$bottom.addClass(className)\r\n            } else {\r\n                this._wrapper().removeClass(className + \"-visible\");\r\n                this._$bottom.removeClass(className)\r\n            }\r\n        }.bind(this))\r\n    },\r\n    _getContainer: function() {\r\n        if (this.option(\"fullScreen\")) {\r\n            return (0, _renderer2.default)(window)\r\n        }\r\n        return this.callBase()\r\n    },\r\n    _getDragTarget: function() {\r\n        return this.topToolbar()\r\n    },\r\n    _renderGeometryImpl: function(isDimensionChanged) {\r\n        if (!isDimensionChanged) {\r\n            this._resetContentHeight()\r\n        }\r\n        this.callBase.apply(this, arguments);\r\n        this._setContentHeight()\r\n    },\r\n    _resetContentHeight: function() {\r\n        this._$popupContent.css({\r\n            height: \"auto\",\r\n            maxHeight: \"none\"\r\n        })\r\n    },\r\n    _renderDrag: function() {\r\n        this.callBase();\r\n        this._$content.toggleClass(POPUP_DRAGGABLE_CLASS, this.option(\"dragEnabled\"))\r\n    },\r\n    _renderResize: function() {\r\n        this.callBase();\r\n        this._resizable.option(\"onResize\", function() {\r\n            this._setContentHeight();\r\n            this._actions.onResize(arguments)\r\n        }.bind(this))\r\n    },\r\n    _setContentHeight: function() {\r\n        (this.option(\"forceApplyBindings\") || _common.noop)();\r\n        var overlayContent = this.overlayContent().get(0);\r\n        var currentHeightStrategyClass = this._chooseHeightStrategy(overlayContent);\r\n        this.$content().css(this._getHeightCssStyles(currentHeightStrategyClass, overlayContent));\r\n        this._setHeightClasses(this.overlayContent(), currentHeightStrategyClass)\r\n    },\r\n    _heightStrategyChangeOffset: function(currentHeightStrategyClass, popupVerticalPaddings) {\r\n        return currentHeightStrategyClass === HEIGHT_STRATEGIES.flex ? -popupVerticalPaddings : 0\r\n    },\r\n    _chooseHeightStrategy: function(overlayContent) {\r\n        var isAutoWidth = \"auto\" === overlayContent.style.width || \"\" === overlayContent.style.width;\r\n        var currentHeightStrategyClass = HEIGHT_STRATEGIES.static;\r\n        if (this._isAutoHeight() && this.option(\"autoResizeEnabled\")) {\r\n            if (isAutoWidth || IS_OLD_SAFARI) {\r\n                if (!IS_IE11) {\r\n                    currentHeightStrategyClass = HEIGHT_STRATEGIES.inherit\r\n                }\r\n            } else {\r\n                currentHeightStrategyClass = HEIGHT_STRATEGIES.flex\r\n            }\r\n        }\r\n        return currentHeightStrategyClass\r\n    },\r\n    _getHeightCssStyles: function(currentHeightStrategyClass, overlayContent) {\r\n        var cssStyles = {};\r\n        var contentMaxHeight = this._getOptionValue(\"maxHeight\", overlayContent);\r\n        var contentMinHeight = this._getOptionValue(\"minHeight\", overlayContent);\r\n        var popupHeightParts = this._splitPopupHeight();\r\n        var toolbarsAndVerticalOffsetsHeight = popupHeightParts.header + popupHeightParts.footer + popupHeightParts.contentVerticalOffsets + popupHeightParts.popupVerticalOffsets + this._heightStrategyChangeOffset(currentHeightStrategyClass, popupHeightParts.popupVerticalPaddings);\r\n        if (currentHeightStrategyClass === HEIGHT_STRATEGIES.static) {\r\n            if (!this._isAutoHeight() || contentMaxHeight || contentMinHeight) {\r\n                var overlayHeight = this.option(\"fullScreen\") ? Math.min((0, _position.getBoundingRect)(overlayContent).height, _window2.default.getWindow().innerHeight) : (0, _position.getBoundingRect)(overlayContent).height;\r\n                var contentHeight = overlayHeight - toolbarsAndVerticalOffsetsHeight;\r\n                cssStyles = {\r\n                    height: Math.max(0, contentHeight),\r\n                    minHeight: \"auto\",\r\n                    maxHeight: \"auto\"\r\n                }\r\n            }\r\n        } else {\r\n            var container = (0, _renderer2.default)(this._getContainer()).get(0);\r\n            var maxHeightValue = _size2.default.addOffsetToMaxHeight(contentMaxHeight, -toolbarsAndVerticalOffsetsHeight, container);\r\n            var minHeightValue = _size2.default.addOffsetToMinHeight(contentMinHeight, -toolbarsAndVerticalOffsetsHeight, container);\r\n            cssStyles = {\r\n                height: \"auto\",\r\n                minHeight: minHeightValue,\r\n                maxHeight: maxHeightValue\r\n            }\r\n        }\r\n        return cssStyles\r\n    },\r\n    _setHeightClasses: function($container, currentClass) {\r\n        var excessClasses = \"\";\r\n        for (var name in HEIGHT_STRATEGIES) {\r\n            if (HEIGHT_STRATEGIES[name] !== currentClass) {\r\n                excessClasses += \" \" + HEIGHT_STRATEGIES[name]\r\n            }\r\n        }\r\n        $container.removeClass(excessClasses).addClass(currentClass)\r\n    },\r\n    _isAutoHeight: function() {\r\n        return \"auto\" === this.overlayContent().get(0).style.height\r\n    },\r\n    _splitPopupHeight: function() {\r\n        var topToolbar = this.topToolbar();\r\n        var bottomToolbar = this.bottomToolbar();\r\n        return {\r\n            header: _size2.default.getVisibleHeight(topToolbar && topToolbar.get(0)),\r\n            footer: _size2.default.getVisibleHeight(bottomToolbar && bottomToolbar.get(0)),\r\n            contentVerticalOffsets: _size2.default.getVerticalOffsets(this.overlayContent().get(0), true),\r\n            popupVerticalOffsets: _size2.default.getVerticalOffsets(this.$content().get(0), true),\r\n            popupVerticalPaddings: _size2.default.getVerticalOffsets(this.$content().get(0), false)\r\n        }\r\n    },\r\n    _useFixedPosition: function() {\r\n        return this.callBase() || this.option(\"fullScreen\")\r\n    },\r\n    _toggleSafariFullScreen: function(value) {\r\n        var toggleFullScreenBeforeShown = this._useFixedPosition() && value && !this._isShown;\r\n        if (toggleFullScreenBeforeShown) {\r\n            this._bodyScrollTop = value ? window.pageYOffset : void 0\r\n        } else {\r\n            this._toggleSafariScrolling(!value)\r\n        }\r\n    },\r\n    _renderDimensions: function() {\r\n        if (this.option(\"fullScreen\")) {\r\n            this._$content.css({\r\n                width: \"100%\",\r\n                height: \"100%\"\r\n            })\r\n        } else {\r\n            this.callBase.apply(this, arguments)\r\n        }\r\n        if (_window2.default.hasWindow()) {\r\n            this._renderFullscreenWidthClass()\r\n        }\r\n    },\r\n    _renderFullscreenWidthClass: function() {\r\n        this.overlayContent().toggleClass(POPUP_FULL_SCREEN_WIDTH_CLASS, this.overlayContent().outerWidth() === (0, _renderer2.default)(window).width())\r\n    },\r\n    refreshPosition: function() {\r\n        this._renderPosition()\r\n    },\r\n    _renderPosition: function() {\r\n        if (this.option(\"fullScreen\")) {\r\n            _translator2.default.move(this._$content, {\r\n                top: 0,\r\n                left: 0\r\n            })\r\n        } else {\r\n            (this.option(\"forceApplyBindings\") || _common.noop)();\r\n            return this.callBase.apply(this, arguments)\r\n        }\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"showTitle\":\r\n            case \"title\":\r\n            case \"titleTemplate\":\r\n                this._renderTitle();\r\n                this._renderGeometry();\r\n                break;\r\n            case \"bottomTemplate\":\r\n                this._renderBottom();\r\n                this._renderGeometry();\r\n                break;\r\n            case \"onTitleRendered\":\r\n                this._createTitleRenderAction(args.value);\r\n                break;\r\n            case \"toolbarItems\":\r\n            case \"useDefaultToolbarButtons\":\r\n            case \"useFlatToolbarButtons\":\r\n                var shouldRenderGeometry = !args.fullName.match(/^toolbarItems((\\[\\d+\\])(\\.(options|visible).*)?)?$/);\r\n                this._renderTitle();\r\n                this._renderBottom();\r\n                if (shouldRenderGeometry) {\r\n                    this._renderGeometry()\r\n                }\r\n                break;\r\n            case \"dragEnabled\":\r\n                this._renderDrag();\r\n                break;\r\n            case \"autoResizeEnabled\":\r\n                this._renderGeometry();\r\n                _dom2.default.triggerResizeEvent(this._$content);\r\n                break;\r\n            case \"fullScreen\":\r\n                this._toggleFullScreenClass(args.value);\r\n                this._toggleSafariFullScreen(args.value);\r\n                this._renderGeometry();\r\n                _dom2.default.triggerResizeEvent(this._$content);\r\n                break;\r\n            case \"showCloseButton\":\r\n                this._renderTitle();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    bottomToolbar: function() {\r\n        return this._$bottom\r\n    },\r\n    topToolbar: function() {\r\n        return this._$title\r\n    },\r\n    $content: function() {\r\n        return this._$popupContent\r\n    },\r\n    content: function() {\r\n        return (0, _dom.getPublicElement)(this._$popupContent)\r\n    },\r\n    overlayContent: function() {\r\n        return this._$content\r\n    }\r\n});\r\n(0, _component_registrator2.default)(\"dxPopup\", Popup);\r\nmodule.exports = Popup;\r\nmodule.exports.default = module.exports;\r\n"]},"metadata":{},"sourceType":"script"}