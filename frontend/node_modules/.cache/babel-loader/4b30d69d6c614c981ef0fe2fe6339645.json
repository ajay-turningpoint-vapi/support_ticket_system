{"ast":null,"code":"/**\r\n * DevExtreme (ui/themes.js)\r\n * Version: 20.1.7\r\n * Build date: Tue Aug 25 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _devices = require(\"../core/devices\");\n\nvar _devices2 = _interopRequireDefault(_devices);\n\nvar _dom_adapter = require(\"../core/dom_adapter\");\n\nvar _dom_adapter2 = _interopRequireDefault(_dom_adapter);\n\nvar _promise = require(\"../core/polyfills/promise\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _renderer = require(\"../core/renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _deferred = require(\"../core/utils/deferred\");\n\nvar _html_parser = require(\"../core/utils/html_parser\");\n\nvar _iterator = require(\"../core/utils/iterator\");\n\nvar _ready_callbacks = require(\"../core/utils/ready_callbacks\");\n\nvar _ready_callbacks2 = _interopRequireDefault(_ready_callbacks);\n\nvar _view_port = require(\"../core/utils/view_port\");\n\nvar _window = require(\"../core/utils/window\");\n\nvar _themes_callback = require(\"./themes_callback\");\n\nvar _ui = require(\"./widget/ui.errors\");\n\nvar _ui2 = _interopRequireDefault(_ui);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar window = (0, _window.getWindow)();\nvar ready = _ready_callbacks2.default.add;\nvar viewPort = _view_port.value;\nvar viewPortChanged = _view_port.changeCallback;\nvar DX_LINK_SELECTOR = \"link[rel=dx-theme]\";\nvar THEME_ATTR = \"data-theme\";\nvar ACTIVE_ATTR = \"data-active\";\nvar DX_HAIRLINES_CLASS = \"dx-hairlines\";\nvar ANY_THEME = \"any\";\nvar context;\nvar $activeThemeLink;\nvar knownThemes;\nvar currentThemeName;\nvar pendingThemeName;\nvar defaultTimeout = 15e3;\nvar THEME_MARKER_PREFIX = \"dx.\";\nvar inited = false;\n\n_themes_callback.themeInitializedCallback.add(function () {\n  return inited = true;\n});\n\nfunction readThemeMarker() {\n  if (!(0, _window.hasWindow)()) {\n    return null;\n  }\n\n  var element = (0, _renderer2.default)(\"<div>\", context).addClass(\"dx-theme-marker\").appendTo(context.documentElement);\n  var result;\n\n  try {\n    result = element.css(\"fontFamily\");\n\n    if (!result) {\n      return null;\n    }\n\n    result = result.replace(/[\"']/g, \"\");\n\n    if (result.substr(0, THEME_MARKER_PREFIX.length) !== THEME_MARKER_PREFIX) {\n      return null;\n    }\n\n    return result.substr(THEME_MARKER_PREFIX.length);\n  } finally {\n    element.remove();\n  }\n}\n\nfunction waitForThemeLoad(themeName) {\n  var waitStartTime;\n  var timerId;\n  var intervalCleared = true;\n  pendingThemeName = themeName;\n\n  function handleLoaded() {\n    pendingThemeName = null;\n    clearInterval(timerId);\n    intervalCleared = true;\n\n    _themes_callback.themeReadyCallback.fire();\n\n    _themes_callback.themeReadyCallback.empty();\n\n    if (!inited) {\n      _themes_callback.themeInitializedCallback.fire();\n\n      _themes_callback.themeInitializedCallback.empty();\n    }\n  }\n\n  if (isPendingThemeLoaded() || !defaultTimeout) {\n    handleLoaded();\n  } else {\n    if (!intervalCleared) {\n      if (pendingThemeName) {\n        pendingThemeName = themeName;\n      }\n\n      return;\n    }\n\n    waitStartTime = Date.now();\n    intervalCleared = false;\n    timerId = setInterval(function () {\n      var isLoaded = isPendingThemeLoaded();\n      var isTimeout = !isLoaded && Date.now() - waitStartTime > defaultTimeout;\n\n      if (isTimeout) {\n        _ui2.default.log(\"W0004\", pendingThemeName);\n      }\n\n      if (isLoaded || isTimeout) {\n        handleLoaded();\n      }\n    }, 10);\n  }\n}\n\nfunction isPendingThemeLoaded() {\n  if (!pendingThemeName) {\n    return true;\n  }\n\n  var anyThemePending = pendingThemeName === ANY_THEME;\n\n  if (inited && anyThemePending) {\n    return true;\n  }\n\n  var themeMarker = readThemeMarker();\n\n  if (themeMarker && anyThemePending) {\n    return true;\n  }\n\n  return themeMarker === pendingThemeName;\n}\n\nfunction processMarkup() {\n  var $allThemeLinks = (0, _renderer2.default)(DX_LINK_SELECTOR, context);\n\n  if (!$allThemeLinks.length) {\n    return;\n  }\n\n  knownThemes = {};\n  $activeThemeLink = (0, _renderer2.default)((0, _html_parser.parseHTML)(\"<link rel=stylesheet>\"), context);\n  $allThemeLinks.each(function () {\n    var link = (0, _renderer2.default)(this, context);\n    var fullThemeName = link.attr(THEME_ATTR);\n    var url = link.attr(\"href\");\n    var isActive = \"true\" === link.attr(ACTIVE_ATTR);\n    knownThemes[fullThemeName] = {\n      url: url,\n      isActive: isActive\n    };\n  });\n  $allThemeLinks.last().after($activeThemeLink);\n  $allThemeLinks.remove();\n}\n\nfunction resolveFullThemeName(desiredThemeName) {\n  var desiredThemeParts = desiredThemeName ? desiredThemeName.split(\".\") : [];\n  var result = null;\n\n  if (knownThemes) {\n    if (desiredThemeName in knownThemes) {\n      return desiredThemeName;\n    }\n\n    (0, _iterator.each)(knownThemes, function (knownThemeName, themeData) {\n      var knownThemeParts = knownThemeName.split(\".\");\n\n      if (desiredThemeParts[0] && knownThemeParts[0] !== desiredThemeParts[0]) {\n        return;\n      }\n\n      if (desiredThemeParts[1] && desiredThemeParts[1] !== knownThemeParts[1]) {\n        return;\n      }\n\n      if (desiredThemeParts[2] && desiredThemeParts[2] !== knownThemeParts[2]) {\n        return;\n      }\n\n      if (!result || themeData.isActive) {\n        result = knownThemeName;\n      }\n\n      if (themeData.isActive) {\n        return false;\n      }\n    });\n  }\n\n  return result;\n}\n\nfunction initContext(newContext) {\n  try {\n    if (newContext !== context) {\n      knownThemes = null;\n    }\n  } catch (x) {\n    knownThemes = null;\n  }\n\n  context = newContext;\n}\n\nfunction init(options) {\n  options = options || {};\n  initContext(options.context || _dom_adapter2.default.getDocument());\n\n  if (!context) {\n    return;\n  }\n\n  processMarkup();\n  currentThemeName = void 0;\n  current(options);\n}\n\nfunction current(options) {\n  if (!arguments.length) {\n    currentThemeName = currentThemeName || readThemeMarker();\n    return currentThemeName;\n  }\n\n  detachCssClasses(viewPort());\n  options = options || {};\n\n  if (\"string\" === typeof options) {\n    options = {\n      theme: options\n    };\n  }\n\n  var isAutoInit = options._autoInit;\n  var loadCallback = options.loadCallback;\n  var currentThemeData;\n  currentThemeName = resolveFullThemeName(options.theme || currentThemeName);\n\n  if (currentThemeName) {\n    currentThemeData = knownThemes[currentThemeName];\n  }\n\n  if (loadCallback) {\n    _themes_callback.themeReadyCallback.add(loadCallback);\n  }\n\n  if (currentThemeData) {\n    $activeThemeLink.attr(\"href\", knownThemes[currentThemeName].url);\n\n    if (_themes_callback.themeReadyCallback.has() || options._forceTimeout) {\n      waitForThemeLoad(currentThemeName);\n    }\n  } else {\n    if (isAutoInit) {\n      waitForThemeLoad(ANY_THEME);\n\n      _themes_callback.themeReadyCallback.fire();\n\n      _themes_callback.themeReadyCallback.empty();\n    } else {\n      throw _ui2.default.Error(\"E0021\", currentThemeName);\n    }\n  }\n\n  checkThemeDeprecation();\n  attachCssClasses((0, _view_port.originalViewPort)(), currentThemeName);\n}\n\nfunction getCssClasses(themeName) {\n  themeName = themeName || current();\n  var result = [];\n  var themeNameParts = themeName && themeName.split(\".\");\n\n  if (themeNameParts) {\n    result.push(\"dx-theme-\" + themeNameParts[0], \"dx-theme-\" + themeNameParts[0] + \"-typography\");\n\n    if (themeNameParts.length > 1) {\n      result.push(\"dx-color-scheme-\" + themeNameParts[1] + (isMaterial(themeName) ? \"-\" + themeNameParts[2] : \"\"));\n    }\n  }\n\n  return result;\n}\n\nvar themeClasses;\n\nfunction attachCssClasses(element, themeName) {\n  themeClasses = getCssClasses(themeName).join(\" \");\n  (0, _renderer2.default)(element).addClass(themeClasses);\n\n  var activateHairlines = function () {\n    var pixelRatio = (0, _window.hasWindow)() && window.devicePixelRatio;\n\n    if (!pixelRatio || pixelRatio < 2) {\n      return;\n    }\n\n    var $tester = (0, _renderer2.default)(\"<div>\");\n    $tester.css(\"border\", \".5px solid transparent\");\n    (0, _renderer2.default)(\"body\").append($tester);\n\n    if (1 === $tester.outerHeight()) {\n      (0, _renderer2.default)(element).addClass(DX_HAIRLINES_CLASS);\n      themeClasses += \" \" + DX_HAIRLINES_CLASS;\n    }\n\n    $tester.remove();\n  };\n\n  activateHairlines();\n}\n\nfunction detachCssClasses(element) {\n  (0, _renderer2.default)(element).removeClass(themeClasses);\n}\n\nfunction themeReady(callback) {\n  _themes_callback.themeReadyCallback.add(callback);\n}\n\nfunction isTheme(themeRegExp, themeName) {\n  if (!themeName) {\n    themeName = currentThemeName || readThemeMarker();\n  }\n\n  return new RegExp(themeRegExp).test(themeName);\n}\n\nfunction isMaterial(themeName) {\n  return isTheme(\"material\", themeName);\n}\n\nfunction isIos7(themeName) {\n  return isTheme(\"ios7\", themeName);\n}\n\nfunction isGeneric(themeName) {\n  return isTheme(\"generic\", themeName);\n}\n\nfunction isDark(themeName) {\n  return isTheme(\"dark\", themeName);\n}\n\nfunction checkThemeDeprecation() {\n  if (isIos7()) {\n    _ui2.default.log(\"W0010\", \"The 'ios7' theme\", \"19.1\", \"Use the 'generic' theme instead.\");\n  }\n}\n\nfunction isWebFontLoaded(text, fontWeight) {\n  var testedFont = \"Roboto, RobotoFallback, Arial\";\n  var etalonFont = \"Arial\";\n\n  var document = _dom_adapter2.default.getDocument();\n\n  var testElement = document.createElement(\"span\");\n  testElement.style.position = \"absolute\";\n  testElement.style.top = \"-9999px\";\n  testElement.style.left = \"-9999px\";\n  testElement.style.visibility = \"hidden\";\n  testElement.style.fontFamily = etalonFont;\n  testElement.style.fontSize = \"250px\";\n  testElement.style.fontWeight = fontWeight;\n  testElement.innerHTML = text;\n  document.body.appendChild(testElement);\n  var etalonFontWidth = testElement.offsetWidth;\n  testElement.style.fontFamily = testedFont;\n  var testedFontWidth = testElement.offsetWidth;\n  testElement.parentNode.removeChild(testElement);\n  return etalonFontWidth !== testedFontWidth;\n}\n\nfunction waitWebFont(text, fontWeight) {\n  var interval = 15;\n  var timeout = 2e3;\n  return new _promise2.default(function (resolve) {\n    var check = function () {\n      if (isWebFontLoaded(text, fontWeight)) {\n        clear();\n      }\n    };\n\n    var clear = function () {\n      clearInterval(intervalId);\n      clearTimeout(timeoutId);\n      resolve();\n    };\n\n    var intervalId = setInterval(check, interval);\n    var timeoutId = setTimeout(clear, timeout);\n  });\n}\n\nvar initDeferred = new _deferred.Deferred();\n\nfunction autoInit() {\n  init({\n    _autoInit: true,\n    _forceTimeout: true\n  });\n\n  if ((0, _renderer2.default)(DX_LINK_SELECTOR, context).length) {\n    throw _ui2.default.Error(\"E0022\");\n  }\n\n  initDeferred.resolve();\n}\n\nif ((0, _window.hasWindow)()) {\n  autoInit();\n} else {\n  ready(autoInit);\n}\n\nviewPortChanged.add(function (viewPort, prevViewPort) {\n  initDeferred.done(function () {\n    detachCssClasses(prevViewPort);\n    attachCssClasses(viewPort);\n  });\n});\n\n_devices2.default.changed.add(function () {\n  init({\n    _autoInit: true\n  });\n});\n\nexports.init = init;\nexports.waitForThemeLoad = waitForThemeLoad;\nexports.current = current;\nexports.attachCssClasses = attachCssClasses;\nexports.detachCssClasses = detachCssClasses;\nexports.isMaterial = isMaterial;\nexports.isIos7 = isIos7;\nexports.isGeneric = isGeneric;\nexports.isDark = isDark;\nexports.checkThemeDeprecation = checkThemeDeprecation;\nexports.isWebFontLoaded = isWebFontLoaded;\nexports.waitWebFont = waitWebFont;\nexports.ready = themeReady;\nexports.resetTheme = function () {\n  $activeThemeLink && $activeThemeLink.attr(\"href\", \"about:blank\");\n  currentThemeName = null;\n  pendingThemeName = null;\n  inited = false;\n\n  _themes_callback.themeInitializedCallback.add(function () {\n    return inited = true;\n  });\n}, exports.setDefaultTimeout = function (timeout) {\n  defaultTimeout = timeout;\n};\n\nexports.initialized = function (callback) {\n  if (inited) {\n    callback();\n  } else {\n    _themes_callback.themeInitializedCallback.add(callback);\n  }\n};\n\nmodule.exports.default = module.exports;","map":{"version":3,"sources":["C:/Users/ASUS/Desktop/ticketSystem/frontend/node_modules/devextreme/ui/themes.js"],"names":["_devices","require","_devices2","_interopRequireDefault","_dom_adapter","_dom_adapter2","_promise","_promise2","_renderer","_renderer2","_deferred","_html_parser","_iterator","_ready_callbacks","_ready_callbacks2","_view_port","_window","_themes_callback","_ui","_ui2","obj","__esModule","window","getWindow","ready","default","add","viewPort","value","viewPortChanged","changeCallback","DX_LINK_SELECTOR","THEME_ATTR","ACTIVE_ATTR","DX_HAIRLINES_CLASS","ANY_THEME","context","$activeThemeLink","knownThemes","currentThemeName","pendingThemeName","defaultTimeout","THEME_MARKER_PREFIX","inited","themeInitializedCallback","readThemeMarker","hasWindow","element","addClass","appendTo","documentElement","result","css","replace","substr","length","remove","waitForThemeLoad","themeName","waitStartTime","timerId","intervalCleared","handleLoaded","clearInterval","themeReadyCallback","fire","empty","isPendingThemeLoaded","Date","now","setInterval","isLoaded","isTimeout","log","anyThemePending","themeMarker","processMarkup","$allThemeLinks","parseHTML","each","link","fullThemeName","attr","url","isActive","last","after","resolveFullThemeName","desiredThemeName","desiredThemeParts","split","knownThemeName","themeData","knownThemeParts","initContext","newContext","x","init","options","getDocument","current","arguments","detachCssClasses","theme","isAutoInit","_autoInit","loadCallback","currentThemeData","has","_forceTimeout","Error","checkThemeDeprecation","attachCssClasses","originalViewPort","getCssClasses","themeNameParts","push","isMaterial","themeClasses","join","activateHairlines","pixelRatio","devicePixelRatio","$tester","append","outerHeight","removeClass","themeReady","callback","isTheme","themeRegExp","RegExp","test","isIos7","isGeneric","isDark","isWebFontLoaded","text","fontWeight","testedFont","etalonFont","document","testElement","createElement","style","position","top","left","visibility","fontFamily","fontSize","innerHTML","body","appendChild","etalonFontWidth","offsetWidth","testedFontWidth","parentNode","removeChild","waitWebFont","interval","timeout","resolve","check","clear","intervalId","clearTimeout","timeoutId","setTimeout","initDeferred","Deferred","autoInit","prevViewPort","done","changed","exports","resetTheme","setDefaultTimeout","initialized","module"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/themes.js)\r\n * Version: 20.1.7\r\n * Build date: Tue Aug 25 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nvar _devices = require(\"../core/devices\");\r\nvar _devices2 = _interopRequireDefault(_devices);\r\nvar _dom_adapter = require(\"../core/dom_adapter\");\r\nvar _dom_adapter2 = _interopRequireDefault(_dom_adapter);\r\nvar _promise = require(\"../core/polyfills/promise\");\r\nvar _promise2 = _interopRequireDefault(_promise);\r\nvar _renderer = require(\"../core/renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _deferred = require(\"../core/utils/deferred\");\r\nvar _html_parser = require(\"../core/utils/html_parser\");\r\nvar _iterator = require(\"../core/utils/iterator\");\r\nvar _ready_callbacks = require(\"../core/utils/ready_callbacks\");\r\nvar _ready_callbacks2 = _interopRequireDefault(_ready_callbacks);\r\nvar _view_port = require(\"../core/utils/view_port\");\r\nvar _window = require(\"../core/utils/window\");\r\nvar _themes_callback = require(\"./themes_callback\");\r\nvar _ui = require(\"./widget/ui.errors\");\r\nvar _ui2 = _interopRequireDefault(_ui);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\nvar window = (0, _window.getWindow)();\r\nvar ready = _ready_callbacks2.default.add;\r\nvar viewPort = _view_port.value;\r\nvar viewPortChanged = _view_port.changeCallback;\r\nvar DX_LINK_SELECTOR = \"link[rel=dx-theme]\";\r\nvar THEME_ATTR = \"data-theme\";\r\nvar ACTIVE_ATTR = \"data-active\";\r\nvar DX_HAIRLINES_CLASS = \"dx-hairlines\";\r\nvar ANY_THEME = \"any\";\r\nvar context;\r\nvar $activeThemeLink;\r\nvar knownThemes;\r\nvar currentThemeName;\r\nvar pendingThemeName;\r\nvar defaultTimeout = 15e3;\r\nvar THEME_MARKER_PREFIX = \"dx.\";\r\nvar inited = false;\r\n_themes_callback.themeInitializedCallback.add(function() {\r\n    return inited = true\r\n});\r\n\r\nfunction readThemeMarker() {\r\n    if (!(0, _window.hasWindow)()) {\r\n        return null\r\n    }\r\n    var element = (0, _renderer2.default)(\"<div>\", context).addClass(\"dx-theme-marker\").appendTo(context.documentElement);\r\n    var result;\r\n    try {\r\n        result = element.css(\"fontFamily\");\r\n        if (!result) {\r\n            return null\r\n        }\r\n        result = result.replace(/[\"']/g, \"\");\r\n        if (result.substr(0, THEME_MARKER_PREFIX.length) !== THEME_MARKER_PREFIX) {\r\n            return null\r\n        }\r\n        return result.substr(THEME_MARKER_PREFIX.length)\r\n    } finally {\r\n        element.remove()\r\n    }\r\n}\r\n\r\nfunction waitForThemeLoad(themeName) {\r\n    var waitStartTime;\r\n    var timerId;\r\n    var intervalCleared = true;\r\n    pendingThemeName = themeName;\r\n\r\n    function handleLoaded() {\r\n        pendingThemeName = null;\r\n        clearInterval(timerId);\r\n        intervalCleared = true;\r\n        _themes_callback.themeReadyCallback.fire();\r\n        _themes_callback.themeReadyCallback.empty();\r\n        if (!inited) {\r\n            _themes_callback.themeInitializedCallback.fire();\r\n            _themes_callback.themeInitializedCallback.empty()\r\n        }\r\n    }\r\n    if (isPendingThemeLoaded() || !defaultTimeout) {\r\n        handleLoaded()\r\n    } else {\r\n        if (!intervalCleared) {\r\n            if (pendingThemeName) {\r\n                pendingThemeName = themeName\r\n            }\r\n            return\r\n        }\r\n        waitStartTime = Date.now();\r\n        intervalCleared = false;\r\n        timerId = setInterval(function() {\r\n            var isLoaded = isPendingThemeLoaded();\r\n            var isTimeout = !isLoaded && Date.now() - waitStartTime > defaultTimeout;\r\n            if (isTimeout) {\r\n                _ui2.default.log(\"W0004\", pendingThemeName)\r\n            }\r\n            if (isLoaded || isTimeout) {\r\n                handleLoaded()\r\n            }\r\n        }, 10)\r\n    }\r\n}\r\n\r\nfunction isPendingThemeLoaded() {\r\n    if (!pendingThemeName) {\r\n        return true\r\n    }\r\n    var anyThemePending = pendingThemeName === ANY_THEME;\r\n    if (inited && anyThemePending) {\r\n        return true\r\n    }\r\n    var themeMarker = readThemeMarker();\r\n    if (themeMarker && anyThemePending) {\r\n        return true\r\n    }\r\n    return themeMarker === pendingThemeName\r\n}\r\n\r\nfunction processMarkup() {\r\n    var $allThemeLinks = (0, _renderer2.default)(DX_LINK_SELECTOR, context);\r\n    if (!$allThemeLinks.length) {\r\n        return\r\n    }\r\n    knownThemes = {};\r\n    $activeThemeLink = (0, _renderer2.default)((0, _html_parser.parseHTML)(\"<link rel=stylesheet>\"), context);\r\n    $allThemeLinks.each(function() {\r\n        var link = (0, _renderer2.default)(this, context);\r\n        var fullThemeName = link.attr(THEME_ATTR);\r\n        var url = link.attr(\"href\");\r\n        var isActive = \"true\" === link.attr(ACTIVE_ATTR);\r\n        knownThemes[fullThemeName] = {\r\n            url: url,\r\n            isActive: isActive\r\n        }\r\n    });\r\n    $allThemeLinks.last().after($activeThemeLink);\r\n    $allThemeLinks.remove()\r\n}\r\n\r\nfunction resolveFullThemeName(desiredThemeName) {\r\n    var desiredThemeParts = desiredThemeName ? desiredThemeName.split(\".\") : [];\r\n    var result = null;\r\n    if (knownThemes) {\r\n        if (desiredThemeName in knownThemes) {\r\n            return desiredThemeName\r\n        }(0, _iterator.each)(knownThemes, function(knownThemeName, themeData) {\r\n            var knownThemeParts = knownThemeName.split(\".\");\r\n            if (desiredThemeParts[0] && knownThemeParts[0] !== desiredThemeParts[0]) {\r\n                return\r\n            }\r\n            if (desiredThemeParts[1] && desiredThemeParts[1] !== knownThemeParts[1]) {\r\n                return\r\n            }\r\n            if (desiredThemeParts[2] && desiredThemeParts[2] !== knownThemeParts[2]) {\r\n                return\r\n            }\r\n            if (!result || themeData.isActive) {\r\n                result = knownThemeName\r\n            }\r\n            if (themeData.isActive) {\r\n                return false\r\n            }\r\n        })\r\n    }\r\n    return result\r\n}\r\n\r\nfunction initContext(newContext) {\r\n    try {\r\n        if (newContext !== context) {\r\n            knownThemes = null\r\n        }\r\n    } catch (x) {\r\n        knownThemes = null\r\n    }\r\n    context = newContext\r\n}\r\n\r\nfunction init(options) {\r\n    options = options || {};\r\n    initContext(options.context || _dom_adapter2.default.getDocument());\r\n    if (!context) {\r\n        return\r\n    }\r\n    processMarkup();\r\n    currentThemeName = void 0;\r\n    current(options)\r\n}\r\n\r\nfunction current(options) {\r\n    if (!arguments.length) {\r\n        currentThemeName = currentThemeName || readThemeMarker();\r\n        return currentThemeName\r\n    }\r\n    detachCssClasses(viewPort());\r\n    options = options || {};\r\n    if (\"string\" === typeof options) {\r\n        options = {\r\n            theme: options\r\n        }\r\n    }\r\n    var isAutoInit = options._autoInit;\r\n    var loadCallback = options.loadCallback;\r\n    var currentThemeData;\r\n    currentThemeName = resolveFullThemeName(options.theme || currentThemeName);\r\n    if (currentThemeName) {\r\n        currentThemeData = knownThemes[currentThemeName]\r\n    }\r\n    if (loadCallback) {\r\n        _themes_callback.themeReadyCallback.add(loadCallback)\r\n    }\r\n    if (currentThemeData) {\r\n        $activeThemeLink.attr(\"href\", knownThemes[currentThemeName].url);\r\n        if (_themes_callback.themeReadyCallback.has() || options._forceTimeout) {\r\n            waitForThemeLoad(currentThemeName)\r\n        }\r\n    } else {\r\n        if (isAutoInit) {\r\n            waitForThemeLoad(ANY_THEME);\r\n            _themes_callback.themeReadyCallback.fire();\r\n            _themes_callback.themeReadyCallback.empty()\r\n        } else {\r\n            throw _ui2.default.Error(\"E0021\", currentThemeName)\r\n        }\r\n    }\r\n    checkThemeDeprecation();\r\n    attachCssClasses((0, _view_port.originalViewPort)(), currentThemeName)\r\n}\r\n\r\nfunction getCssClasses(themeName) {\r\n    themeName = themeName || current();\r\n    var result = [];\r\n    var themeNameParts = themeName && themeName.split(\".\");\r\n    if (themeNameParts) {\r\n        result.push(\"dx-theme-\" + themeNameParts[0], \"dx-theme-\" + themeNameParts[0] + \"-typography\");\r\n        if (themeNameParts.length > 1) {\r\n            result.push(\"dx-color-scheme-\" + themeNameParts[1] + (isMaterial(themeName) ? \"-\" + themeNameParts[2] : \"\"))\r\n        }\r\n    }\r\n    return result\r\n}\r\nvar themeClasses;\r\n\r\nfunction attachCssClasses(element, themeName) {\r\n    themeClasses = getCssClasses(themeName).join(\" \");\r\n    (0, _renderer2.default)(element).addClass(themeClasses);\r\n    var activateHairlines = function() {\r\n        var pixelRatio = (0, _window.hasWindow)() && window.devicePixelRatio;\r\n        if (!pixelRatio || pixelRatio < 2) {\r\n            return\r\n        }\r\n        var $tester = (0, _renderer2.default)(\"<div>\");\r\n        $tester.css(\"border\", \".5px solid transparent\");\r\n        (0, _renderer2.default)(\"body\").append($tester);\r\n        if (1 === $tester.outerHeight()) {\r\n            (0, _renderer2.default)(element).addClass(DX_HAIRLINES_CLASS);\r\n            themeClasses += \" \" + DX_HAIRLINES_CLASS\r\n        }\r\n        $tester.remove()\r\n    };\r\n    activateHairlines()\r\n}\r\n\r\nfunction detachCssClasses(element) {\r\n    (0, _renderer2.default)(element).removeClass(themeClasses)\r\n}\r\n\r\nfunction themeReady(callback) {\r\n    _themes_callback.themeReadyCallback.add(callback)\r\n}\r\n\r\nfunction isTheme(themeRegExp, themeName) {\r\n    if (!themeName) {\r\n        themeName = currentThemeName || readThemeMarker()\r\n    }\r\n    return new RegExp(themeRegExp).test(themeName)\r\n}\r\n\r\nfunction isMaterial(themeName) {\r\n    return isTheme(\"material\", themeName)\r\n}\r\n\r\nfunction isIos7(themeName) {\r\n    return isTheme(\"ios7\", themeName)\r\n}\r\n\r\nfunction isGeneric(themeName) {\r\n    return isTheme(\"generic\", themeName)\r\n}\r\n\r\nfunction isDark(themeName) {\r\n    return isTheme(\"dark\", themeName)\r\n}\r\n\r\nfunction checkThemeDeprecation() {\r\n    if (isIos7()) {\r\n        _ui2.default.log(\"W0010\", \"The 'ios7' theme\", \"19.1\", \"Use the 'generic' theme instead.\")\r\n    }\r\n}\r\n\r\nfunction isWebFontLoaded(text, fontWeight) {\r\n    var testedFont = \"Roboto, RobotoFallback, Arial\";\r\n    var etalonFont = \"Arial\";\r\n    var document = _dom_adapter2.default.getDocument();\r\n    var testElement = document.createElement(\"span\");\r\n    testElement.style.position = \"absolute\";\r\n    testElement.style.top = \"-9999px\";\r\n    testElement.style.left = \"-9999px\";\r\n    testElement.style.visibility = \"hidden\";\r\n    testElement.style.fontFamily = etalonFont;\r\n    testElement.style.fontSize = \"250px\";\r\n    testElement.style.fontWeight = fontWeight;\r\n    testElement.innerHTML = text;\r\n    document.body.appendChild(testElement);\r\n    var etalonFontWidth = testElement.offsetWidth;\r\n    testElement.style.fontFamily = testedFont;\r\n    var testedFontWidth = testElement.offsetWidth;\r\n    testElement.parentNode.removeChild(testElement);\r\n    return etalonFontWidth !== testedFontWidth\r\n}\r\n\r\nfunction waitWebFont(text, fontWeight) {\r\n    var interval = 15;\r\n    var timeout = 2e3;\r\n    return new _promise2.default(function(resolve) {\r\n        var check = function() {\r\n            if (isWebFontLoaded(text, fontWeight)) {\r\n                clear()\r\n            }\r\n        };\r\n        var clear = function() {\r\n            clearInterval(intervalId);\r\n            clearTimeout(timeoutId);\r\n            resolve()\r\n        };\r\n        var intervalId = setInterval(check, interval);\r\n        var timeoutId = setTimeout(clear, timeout)\r\n    })\r\n}\r\nvar initDeferred = new _deferred.Deferred;\r\n\r\nfunction autoInit() {\r\n    init({\r\n        _autoInit: true,\r\n        _forceTimeout: true\r\n    });\r\n    if ((0, _renderer2.default)(DX_LINK_SELECTOR, context).length) {\r\n        throw _ui2.default.Error(\"E0022\")\r\n    }\r\n    initDeferred.resolve()\r\n}\r\nif ((0, _window.hasWindow)()) {\r\n    autoInit()\r\n} else {\r\n    ready(autoInit)\r\n}\r\nviewPortChanged.add(function(viewPort, prevViewPort) {\r\n    initDeferred.done(function() {\r\n        detachCssClasses(prevViewPort);\r\n        attachCssClasses(viewPort)\r\n    })\r\n});\r\n_devices2.default.changed.add(function() {\r\n    init({\r\n        _autoInit: true\r\n    })\r\n});\r\nexports.init = init;\r\nexports.waitForThemeLoad = waitForThemeLoad;\r\nexports.current = current;\r\nexports.attachCssClasses = attachCssClasses;\r\nexports.detachCssClasses = detachCssClasses;\r\nexports.isMaterial = isMaterial;\r\nexports.isIos7 = isIos7;\r\nexports.isGeneric = isGeneric;\r\nexports.isDark = isDark;\r\nexports.checkThemeDeprecation = checkThemeDeprecation;\r\nexports.isWebFontLoaded = isWebFontLoaded;\r\nexports.waitWebFont = waitWebFont;\r\nexports.ready = themeReady;\r\nexports.resetTheme = function() {\r\n    $activeThemeLink && $activeThemeLink.attr(\"href\", \"about:blank\");\r\n    currentThemeName = null;\r\n    pendingThemeName = null;\r\n    inited = false;\r\n    _themes_callback.themeInitializedCallback.add(function() {\r\n        return inited = true\r\n    })\r\n}, exports.setDefaultTimeout = function(timeout) {\r\n    defaultTimeout = timeout\r\n};\r\nexports.initialized = function(callback) {\r\n    if (inited) {\r\n        callback()\r\n    } else {\r\n        _themes_callback.themeInitializedCallback.add(callback)\r\n    }\r\n};\r\nmodule.exports.default = module.exports;\r\n"]},"metadata":{},"sourceType":"script"}