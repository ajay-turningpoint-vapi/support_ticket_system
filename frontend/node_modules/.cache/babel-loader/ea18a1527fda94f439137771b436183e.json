{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\Desktop\\\\ticketSystem\\\\frontend\\\\src\\\\components\\\\TicketShow.js\";\nimport React, { Component, useState } from 'react';\nimport jwt_decode from 'jwt-decode';\nimport axios from 'axios';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport { Dropdown, Badge, Modal } from 'react-bootstrap';\nimport Paper from '@material-ui/core/Paper';\nimport { Button } from 'react-bootstrap';\n\nclass ShowTickets extends Component {\n  constructor() {\n    super();\n\n    this.getTicket = test => {\n      return axios.get('tickets/deneme', {}).then(response => {\n        console.log(\"axios girdi\");\n        this.setState({\n          data: response.data\n        });\n        console.log(\"data geldi\");\n        console.log(response.data);\n        return response.data;\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.handleShow = id => this.setState({\n      show: true,\n      id: id\n    });\n\n    this.MakeItem = function (X) {\n      console.log(X);\n      return /*#__PURE__*/React.createElement(\"option\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 12\n        }\n      }, X);\n    };\n\n    this.state = {\n      data: [],\n      show: false,\n      message: '',\n      id: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  handleClose(id, messages) {\n    this.setState({\n      show: false\n    });\n  }\n\n  handleAddMessage(id, messages) {\n    console.log('id');\n    console.log(id);\n    this.addMessage(id, messages);\n    this.setState({\n      show: false\n    });\n    this.getTicket();\n  }\n\n  componentDidMount() {\n    console.log(\"componentde\");\n    const token = localStorage.usertoken;\n    const decoded = jwt_decode(token);\n    this.getTicket();\n    console.log(decoded.role);\n    this.setState({\n      role: decoded.role\n    });\n    console.log(this.state.role);\n  }\n\n  changeStatus(id, status) {\n    return axios.put('tickets/changeStatus', {\n      id,\n      status\n    }).then(response => {\n      console.log(\"axios puta girdi\");\n      this.getTicket();\n      console.log(response.data);\n      return response.data;\n    }).catch(err => {\n      console.log(\"axios puta girmedi\");\n      console.log(err);\n    });\n  }\n\n  statusFilter(status) {\n    return axios.post('tickets/filterStatus', {\n      status\n    }).then(response => {\n      console.log(\"axios girdi\");\n      this.setState({\n        data: response.data\n      });\n      console.log(\"data geldi\");\n      console.log(response.data);\n      return response.data;\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  addMessage(id, messages) {\n    return axios.post('tickets/addMessages', {\n      id,\n      messages\n    }).then(response => {\n      console.log(\"addMessage girdi\");\n      console.log(id, messages);\n      this.setState({\n        data: response.data\n      });\n      console.log(\"data geldi\");\n      console.log(response.data);\n      return response.data;\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  statusName(status) {\n    switch (status) {\n      case 0:\n        return /*#__PURE__*/React.createElement(\"h5\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 16\n          }\n        }, /*#__PURE__*/React.createElement(Badge, {\n          pill: true,\n          variant: \"primary\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 20\n          }\n        }, \"Opening\"));\n\n      case 1:\n        return /*#__PURE__*/React.createElement(\"h5\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 18\n          }\n        }, /*#__PURE__*/React.createElement(Badge, {\n          pill: true,\n          variant: \"danger\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 22\n          }\n        }, \"Waiting\"));\n\n      case 2:\n        return /*#__PURE__*/React.createElement(\"h5\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 20\n          }\n        }, /*#__PURE__*/React.createElement(Badge, {\n          pill: true,\n          variant: \"success\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 24\n          }\n        }, \"Closed\"));\n\n      default:\n        return /*#__PURE__*/React.createElement(\"h5\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 16\n          }\n        }, /*#__PURE__*/React.createElement(Badge, {\n          pill: true,\n          variant: \"primary\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 20\n          }\n        }, \"Opening\"));\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 7\n      }\n    }, this.state.role === 1 ? /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-8 mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 13\n      }\n    }, \"ADMIN PAGE\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 51\n      }\n    }), \"TICKETS\")), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      onClick: () => this.statusFilter(0),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }\n    }, \"Opening\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"danger\",\n      onClick: () => this.statusFilter(1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 11\n      }\n    }, \"Waiting\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"success\",\n      onClick: () => this.statusFilter(2),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }\n    }, \"Closed\"), /*#__PURE__*/React.createElement(Button, {\n      variant: \"dark\",\n      onClick: () => this.getTicket(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }\n    }, \"ALL\"), /*#__PURE__*/React.createElement(\"input\", {\n      style: {\n        float: \"right\"\n      },\n      placeholder: \"Search Title,Name\",\n      type: \"text\",\n      onChange: this.search,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(TableContainer, {\n      component: Paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      size: \"small\",\n      \"aria-label\": \"a dense table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 13\n      }\n    }, \"TicketName\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 13\n      }\n    }, \"Content\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 13\n      }\n    }, \"\\u0130mage\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 13\n      }\n    }, \"Message\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 13\n      }\n    }, \"Status\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 13\n      }\n    }, \"Change Status\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 13\n      }\n    }, \"Add Message\"))), /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }\n    }, this.state.data.length > 0 && this.state.data.map((row, index) => /*#__PURE__*/React.createElement(TableRow, {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 10\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 15\n      }\n    }, row.name), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 15\n      }\n    }, row.content), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      target: \"_parent\",\n      href: `http://localhost:5000/public/${row.img}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 40\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      width: \"100px\",\n      src: `http://localhost:5000/public/${row.img}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 109\n      }\n    }))), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 15\n      }\n    }, \"    \", /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 45\n      }\n    }, //row.messages.length>0?row.messages[0].text:n\n    this.MakeItem(row.messages))), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 15\n      }\n    }, this.statusName(row.status)), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 40\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown.Toggle, {\n      size: \"sm\",\n      variant: \"success\",\n      id: \"dropdown-basic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 1\n      }\n    }, \"Change Status\"), /*#__PURE__*/React.createElement(Dropdown.Menu, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 3\n      }\n    }, /*#__PURE__*/React.createElement(Dropdown.Item, {\n      onClick: () => this.changeStatus(row._id, 0),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 5\n      }\n    }, \"Opening\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n      onClick: () => this.changeStatus(row._id, 1),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 5\n      }\n    }, \"Waiting\"), /*#__PURE__*/React.createElement(Dropdown.Item, {\n      onClick: () => this.changeStatus(row._id, 2),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 5\n      }\n    }, \"Closed\")))), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 1\n      }\n    }, \"   \", /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      name: \"addButton\",\n      size: \"sm\",\n      variant: \"primary\",\n      onClick: () => this.handleShow(row._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 7\n      }\n    }, \"Add Message\"), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.show,\n      onHide: () => this.handleClose(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }\n    }, \"Add Message\", this.state.id, \"  \")), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 3\n      }\n    }, \"Message :\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"message\",\n      value: this.state.message,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 5\n      }\n    })))), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: () => this.handleClose(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 11\n      }\n    }, \"Close\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 7\n      }\n    }, this.state.id), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      onClick: () => this.handleAddMessage(this.state.id, this.state.message),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 11\n      }\n    }, \"Add Message\"))))))), \" \")))) : /*#__PURE__*/React.createElement(\"div\", {\n      className: \"jumbotron mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-sm-8 mx-auto\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 11\n      }\n    }, \"USER PAGE\", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 48\n      }\n    }), \"TICKETS\")), /*#__PURE__*/React.createElement(TableContainer, {\n      component: Paper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Table, {\n      size: \"small\",\n      \"aria-label\": \"a dense table\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(TableHead, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(TableRow, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 11\n      }\n    }, \"TicketName\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 11\n      }\n    }, \"Content\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 11\n      }\n    }, \"\\u0130mage\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 11\n      }\n    }, \"Message\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }\n    }, \"Status\"), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 11\n      }\n    }, \"Add Message\"))), /*#__PURE__*/React.createElement(TableBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 7\n      }\n    }, this.state.data.length > 0 && this.state.data.map((row, index) => /*#__PURE__*/React.createElement(TableRow, {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 8\n      }\n    }, /*#__PURE__*/React.createElement(TableCell, {\n      component: \"th\",\n      scope: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 13\n      }\n    }, row.name), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 13\n      }\n    }, row.content), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      target: \"_parent\",\n      href: `http://localhost:5000/public/${row.img}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 38\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      width: \"100px\",\n      src: `http://localhost:5000/public/${row.img}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 107\n      }\n    }))), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 13\n      }\n    }, \"    \", /*#__PURE__*/React.createElement(\"option\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 43\n      }\n    }, //row.messages.length>0?row.messages[0].text:n\n    this.MakeItem(row.messages))), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 13\n      }\n    }, this.statusName(row.status)), /*#__PURE__*/React.createElement(TableCell, {\n      align: \"right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 1\n      }\n    }, \"   \", /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n      name: \"addButton\",\n      size: \"sm\",\n      variant: \"primary\",\n      onClick: () => this.handleShow(row._id),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 5\n      }\n    }, \"1Add Message\"), /*#__PURE__*/React.createElement(Modal, {\n      show: this.state.show,\n      onHide: () => this.handleClose(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Header, {\n      closeButton: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Modal.Title, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 9\n      }\n    }, \"Add Message\", this.state.id, \"  \")), /*#__PURE__*/React.createElement(Modal.Body, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 1\n      }\n    }, \"Message :\", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"message\",\n      value: this.state.message,\n      onChange: this.handleChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 3\n      }\n    })))), /*#__PURE__*/React.createElement(Modal.Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      variant: \"secondary\",\n      onClick: () => this.handleClose(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }\n    }, \"Close\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 5\n      }\n    }, this.state.id), /*#__PURE__*/React.createElement(Button, {\n      variant: \"primary\",\n      onClick: () => this.handleAddMessage(this.state.id, this.state.message),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }\n    }, \"Add Message\"))))))), \" \")))));\n  }\n\n}\n\nexport default ShowTickets;","map":{"version":3,"sources":["C:/Users/ASUS/Desktop/ticketSystem/frontend/src/components/TicketShow.js"],"names":["React","Component","useState","jwt_decode","axios","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Dropdown","Badge","Modal","Paper","Button","ShowTickets","constructor","getTicket","test","get","then","response","console","log","setState","data","catch","err","handleShow","id","show","MakeItem","X","state","message","handleChange","bind","e","target","name","value","handleClose","messages","handleAddMessage","addMessage","componentDidMount","token","localStorage","usertoken","decoded","role","changeStatus","status","put","statusFilter","post","statusName","render","float","search","length","map","row","index","content","img","_id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,SAASC,QAAT,EAAkBC,KAAlB,EAAwBC,KAAxB,QAAoC,iBAApC;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,SAASC,MAAT,QAAuB,iBAAvB;;AAGA,MAAMC,WAAN,SAA0Bf,SAA1B,CAAoC;AAClCgB,EAAAA,WAAW,GAAG;AACZ;;AADY,SAYdC,SAZc,GAYFC,IAAI,IAAI;AAClB,aAAOf,KAAK,CACTgB,GADI,CACA,gBADA,EACkB,EADlB,EAIJC,IAJI,CAICC,QAAQ,IAAI;AAChBC,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACA,aAAKC,QAAL,CAAc;AACVC,UAAAA,IAAI,EAACJ,QAAQ,CAACI;AADJ,SAAd;AAIAH,QAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACI,IAArB;AACA,eAAOJ,QAAQ,CAACI,IAAhB;AAED,OAdI,EAeJC,KAfI,CAeEC,GAAG,IAAI;AACZL,QAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACD,OAjBI,CAAP;AAkBD,KA/Ba;;AAAA,SAiEdC,UAjEc,GAiEAC,EAAD,IAAQ,KAAKL,QAAL,CAAc;AAACM,MAAAA,IAAI,EAAC,IAAN;AAAWD,MAAAA,EAAE,EAACA;AAAd,KAAd,CAjEP;;AAAA,SAsKdE,QAtKc,GAsKH,UAASC,CAAT,EAAY;AACrBV,MAAAA,OAAO,CAACC,GAAR,CAAYS,CAAZ;AACA,0BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAASA,CAAT,CAAP;AACH,KAzKe;;AAEZ,SAAKC,KAAL,GAAa;AACZR,MAAAA,IAAI,EAAC,EADO;AAEZK,MAAAA,IAAI,EAAC,KAFO;AAGZI,MAAAA,OAAO,EAAC,EAHI;AAIZL,MAAAA,EAAE,EAAC;AAJS,KAAb;AAOA,SAAKM,YAAL,GAAoB,KAAKA,YAAL,CAAkBC,IAAlB,CAAuB,IAAvB,CAApB;AACD;;AAwBDD,EAAAA,YAAY,CAACE,CAAD,EAAI;AACd,SAAKb,QAAL,CAAc;AAAC,OAACa,CAAC,CAACC,MAAF,CAASC,IAAV,GAAiBF,CAAC,CAACC,MAAF,CAASE;AAA3B,KAAd;AACD;;AAGDC,EAAAA,WAAW,CAAEZ,EAAF,EAAKa,QAAL,EAAc;AAEvB,SAAKlB,QAAL,CAAc;AACZM,MAAAA,IAAI,EAAC;AADO,KAAd;AAOD;;AAGDa,EAAAA,gBAAgB,CAAEd,EAAF,EAAKa,QAAL,EAAc;AAC5BpB,IAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAYM,EAAZ;AACA,SAAKe,UAAL,CAAgBf,EAAhB,EAAmBa,QAAnB;AAEA,SAAKlB,QAAL,CAAc;AACZM,MAAAA,IAAI,EAAC;AADO,KAAd;AAMA,SAAKb,SAAL;AAED;;AAID4B,EAAAA,iBAAiB,GAAG;AAElBvB,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACA,UAAMuB,KAAK,GAAGC,YAAY,CAACC,SAA3B;AACA,UAAMC,OAAO,GAAG/C,UAAU,CAAC4C,KAAD,CAA1B;AAEA,SAAK7B,SAAL;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAY0B,OAAO,CAACC,IAApB;AACA,SAAK1B,QAAL,CAAc;AACV0B,MAAAA,IAAI,EAAED,OAAO,CAACC;AADJ,KAAd;AAIA5B,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKU,KAAL,CAAWiB,IAAvB;AAMD;;AAEDC,EAAAA,YAAY,CAAEtB,EAAF,EAAKuB,MAAL,EAAa;AACvB,WAAOjD,KAAK,CACTkD,GADI,CACA,sBADA,EACwB;AAC3BxB,MAAAA,EAD2B;AAE3BuB,MAAAA;AAF2B,KADxB,EAMJhC,IANI,CAMCC,QAAQ,IAAI;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACA,WAAKN,SAAL;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACI,IAArB;AACA,aAAOJ,QAAQ,CAACI,IAAhB;AAED,KAZI,EAaJC,KAbI,CAaEC,GAAG,IAAI;AACZL,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACD,KAhBI,CAAP;AAiBD;;AACD2B,EAAAA,YAAY,CAAEF,MAAF,EAAU;AACpB,WAAOjD,KAAK,CACToD,IADI,CACC,sBADD,EACyB;AAC5BH,MAAAA;AAD4B,KADzB,EAIJhC,IAJI,CAICC,QAAQ,IAAI;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACA,WAAKC,QAAL,CAAc;AACVC,QAAAA,IAAI,EAACJ,QAAQ,CAACI;AADJ,OAAd;AAIAH,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACI,IAArB;AACA,aAAOJ,QAAQ,CAACI,IAAhB;AAED,KAdI,EAeJC,KAfI,CAeEC,GAAG,IAAI;AACZL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACD,KAjBI,CAAP;AAkBD;;AAEDiB,EAAAA,UAAU,CAAEf,EAAF,EAAKa,QAAL,EAAe;AACvB,WAAOvC,KAAK,CACToD,IADI,CACC,qBADD,EACwB;AAC3B1B,MAAAA,EAD2B;AACxBa,MAAAA;AADwB,KADxB,EAIJtB,IAJI,CAICC,QAAQ,IAAI;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYM,EAAZ,EAAea,QAAf;AACA,WAAKlB,QAAL,CAAc;AACVC,QAAAA,IAAI,EAACJ,QAAQ,CAACI;AADJ,OAAd;AAIAH,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACI,IAArB;AACA,aAAOJ,QAAQ,CAACI,IAAhB;AAED,KAfI,EAgBJC,KAhBI,CAgBEC,GAAG,IAAI;AACZL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACD,KAlBI,CAAP;AAmBD;;AAKD6B,EAAAA,UAAU,CAACJ,MAAD,EAAS;AACjB,YAAOA,MAAP;AACE,WAAK,CAAL;AACE,4BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAI,oBAAC,KAAD;AAAO,UAAA,IAAI,MAAX;AAAY,UAAA,OAAO,EAAC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAJ,CAAP;;AACA,WAAK,CAAL;AACE,4BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAI,oBAAC,KAAD;AAAO,UAAA,IAAI,MAAX;AAAY,UAAA,OAAO,EAAC,QAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAJ,CAAP;;AACA,WAAK,CAAL;AACE,4BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAI,oBAAC,KAAD;AAAO,UAAA,IAAI,MAAX;AAAY,UAAA,OAAO,EAAC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAJ,CAAP;;AACN;AACE,4BAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAI,oBAAC,KAAD;AAAO,UAAA,IAAI,MAAX;AAAY,UAAA,OAAO,EAAC,SAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAJ,CAAP;AARJ;AAUD;;AAQDK,EAAAA,MAAM,GAAG;AAEP,wBACE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKxB,KAAL,CAAWiB,IAAX,KAAoB,CAApB,gBACH;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAAsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAtC,YADF,CADF,eAKE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,SAAhB;AAA0B,MAAA,OAAO,EAAE,MAAI,KAAKI,YAAL,CAAkB,CAAlB,CAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBALF,eAME,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,QAAhB;AAAyB,MAAA,OAAO,EAAE,MAAI,KAAKA,YAAL,CAAkB,CAAlB,CAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBANF,eAOE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,SAAhB;AAA0B,MAAA,OAAO,EAAE,MAAI,KAAKA,YAAL,CAAkB,CAAlB,CAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAPF,eAQE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,MAAhB;AAAuB,MAAA,OAAO,EAAE,MAAI,KAAKrC,SAAL,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aARF,eASE;AAAO,MAAA,KAAK,EAAE;AAACyC,QAAAA,KAAK,EAAC;AAAP,OAAd;AAA+B,MAAA,WAAW,EAAC,mBAA3C;AAA+D,MAAA,IAAI,EAAC,MAApE;AAA2E,MAAA,QAAQ,EAAE,KAAKC,MAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATF,eAWE,oBAAC,cAAD;AAAgB,MAAA,SAAS,EAAE9C,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEJ,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,oBAAW,eAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,eAGE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAHF,eAIE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF,eAKE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBALF,eAME,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANF,eAOE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAPF,eAQE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBARF,CADF,CAFF,eAeE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAED,KAAKoB,KAAL,CAAWR,IAAX,CAAgBmC,MAAhB,GAAuB,CAAvB,IAA4B,KAAK3B,KAAL,CAAWR,IAAX,CAAgBoC,GAAhB,CAAoB,CAACC,GAAD,EAAKC,KAAL,kBAC9C,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAEA,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACK,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAC,IAArB;AAA0B,MAAA,KAAK,EAAC,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,GAAG,CAACvB,IADP,CADL,eAIK,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0BuB,GAAG,CAACE,OAA9B,CAJL,eAKK,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAyB;AAAG,MAAA,MAAM,EAAC,SAAV;AAAoB,MAAA,IAAI,EAAG,gCAA+BF,GAAG,CAACG,GAAI,EAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAqE;AAAK,MAAA,KAAK,EAAC,OAAX;AAAmB,MAAA,GAAG,EAAG,gCAA+BH,GAAG,CAACG,GAAI,EAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAArE,CAAzB,CALL,eAMK,oBAAC,SAAD;AAAY,MAAA,KAAK,EAAC,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAA8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAC9B;AACA,SAAKlC,QAAL,CAAc+B,GAAG,CAACpB,QAAlB,CAF8B,CAA9B,CANL,eAUK,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0B,KAAKc,UAAL,CAAgBM,GAAG,CAACV,MAApB,CAA1B,CAVL,eAYK,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAyB,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACvC,oBAAC,QAAD,CAAU,MAAV;AAAoB,MAAA,IAAI,EAAC,IAAzB;AAA8B,MAAA,OAAO,EAAC,SAAtC;AAAgD,MAAA,EAAE,EAAC,gBAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADuC,eAKrC,oBAAC,QAAD,CAAU,IAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,QAAD,CAAU,IAAV;AAAgB,MAAA,OAAO,EAAE,MAAI,KAAKD,YAAL,CAAkBW,GAAG,CAACI,GAAtB,EAA0B,CAA1B,CAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE,oBAAC,QAAD,CAAU,IAAV;AAAe,MAAA,OAAO,EAAE,MAAI,KAAKf,YAAL,CAAkBW,GAAG,CAACI,GAAtB,EAA0B,CAA1B,CAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF,eAGE,oBAAC,QAAD,CAAU,IAAV;AAAe,MAAA,OAAO,EAAE,MAAI,KAAKf,YAAL,CAAkBW,GAAG,CAACI,GAAtB,EAA0B,CAA1B,CAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,CALqC,CAAzB,CAZL,eAuBT,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAA4B,uDACtB,oBAAC,MAAD;AAAW,MAAA,IAAI,EAAC,WAAhB;AAA4B,MAAA,IAAI,EAAC,IAAjC;AAAsC,MAAA,OAAO,EAAC,SAA9C;AAAwD,MAAA,OAAO,EAAE,MAAI,KAAKtC,UAAL,CAAgBkC,GAAG,CAACI,GAApB,CAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADsB,eAQtB,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAE,KAAKjC,KAAL,CAAWH,IAAxB;AAA8B,MAAA,MAAM,EAAE,MAAI,KAAKW,WAAL,EAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD,CAAO,MAAP;AAAc,MAAA,WAAW,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAyB,KAAKR,KAAL,CAAWJ,EAApC,OADF,CADF,eAIE,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAClB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAEE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,SAAxB;AAAkC,MAAA,KAAK,EAAE,KAAKI,KAAL,CAAWC,OAApD;AAA6D,MAAA,QAAQ,EAAE,KAAKC,YAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADkB,CAAZ,CAJF,eAWE,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,WAAhB;AAA4B,MAAA,OAAO,EAAE,MAAI,KAAKM,WAAL,EAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAIF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAO,KAAKR,KAAL,CAAWJ,EAAlB,CAJE,eAKE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,SAAhB;AAA2B,MAAA,OAAO,EAAE,MAAI,KAAKc,gBAAL,CAAsB,KAAKV,KAAL,CAAWJ,EAAjC,EAAoC,KAAKI,KAAL,CAAWC,OAA/C,CAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBALF,CAXF,CARsB,CAA5B,CAvBS,CAD0B,CAF3B,MAfF,CAFI,CAXF,CADG,gBA4FH;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAAqC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAArC,YADF,CADA,eAKA,oBAAC,cAAD;AAAgB,MAAA,SAAS,EAAErB,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACJ,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,oBAAW,eAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,eAGE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAHF,eAIE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJF,eAKE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBALF,eAME,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBANF,eAOE,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAPF,CADF,CAFF,eAcE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAED,KAAKoB,KAAL,CAAWR,IAAX,CAAgBmC,MAAhB,GAAuB,CAAvB,IAA4B,KAAK3B,KAAL,CAAWR,IAAX,CAAgBoC,GAAhB,CAAoB,CAACC,GAAD,EAAKC,KAAL,kBAC9C,oBAAC,QAAD;AAAU,MAAA,GAAG,EAAEA,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACK,oBAAC,SAAD;AAAW,MAAA,SAAS,EAAC,IAArB;AAA0B,MAAA,KAAK,EAAC,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGD,GAAG,CAACvB,IADP,CADL,eAIK,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0BuB,GAAG,CAACE,OAA9B,CAJL,eAKK,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAyB;AAAG,MAAA,MAAM,EAAC,SAAV;AAAoB,MAAA,IAAI,EAAG,gCAA+BF,GAAG,CAACG,GAAI,EAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAqE;AAAK,MAAA,KAAK,EAAC,OAAX;AAAmB,MAAA,GAAG,EAAG,gCAA+BH,GAAG,CAACG,GAAI,EAAhE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAArE,CAAzB,CALL,eAMK,oBAAC,SAAD;AAAY,MAAA,KAAK,EAAC,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAA8B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAC9B;AACA,SAAKlC,QAAL,CAAc+B,GAAG,CAACpB,QAAlB,CAF8B,CAA9B,CANL,eAUK,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0B,KAAKc,UAAL,CAAgBM,GAAG,CAACV,MAApB,CAA1B,CAVL,eAYP,oBAAC,SAAD;AAAW,MAAA,KAAK,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAA4B,uDACxB,oBAAC,MAAD;AAAW,MAAA,IAAI,EAAC,WAAhB;AAA4B,MAAA,IAAI,EAAC,IAAjC;AAAsC,MAAA,OAAO,EAAC,SAA9C;AAAwD,MAAA,OAAO,EAAE,MAAI,KAAKxB,UAAL,CAAgBkC,GAAG,CAACI,GAApB,CAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADwB,eAQxB,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAE,KAAKjC,KAAL,CAAWH,IAAxB;AAA8B,MAAA,MAAM,EAAE,MAAI,KAAKW,WAAL,EAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD,CAAO,MAAP;AAAc,MAAA,WAAW,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD,CAAO,KAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAyB,KAAKR,KAAL,CAAWJ,EAApC,OADF,CADF,eAIE,oBAAC,KAAD,CAAO,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAClB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAEE;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,SAAxB;AAAkC,MAAA,KAAK,EAAE,KAAKI,KAAL,CAAWC,OAApD;AAA6D,MAAA,QAAQ,EAAE,KAAKC,YAA5E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,CADkB,CAAZ,CAJF,eAWE,oBAAC,KAAD,CAAO,MAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,WAAhB;AAA4B,MAAA,OAAO,EAAE,MAAI,KAAKM,WAAL,EAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAIF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAO,KAAKR,KAAL,CAAWJ,EAAlB,CAJE,eAKE,oBAAC,MAAD;AAAQ,MAAA,OAAO,EAAC,SAAhB;AAA2B,MAAA,OAAO,EAAE,MAAI,KAAKc,gBAAL,CAAsB,KAAKV,KAAL,CAAWJ,EAAjC,EAAoC,KAAKI,KAAL,CAAWC,OAA/C,CAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBALF,CAXF,CARwB,CAA5B,CAZO,CAD0B,CAF3B,MAdF,CADI,CALA,CA7FF,CADF;AAyKD;;AAxViC;;AA2VpC,eAAenB,WAAf","sourcesContent":["import React, { Component , useState } from 'react'\r\nimport jwt_decode from 'jwt-decode'\r\nimport axios from 'axios'\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport { Dropdown,Badge,Modal} from 'react-bootstrap';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { Button } from 'react-bootstrap';\r\n\r\n\r\nclass ShowTickets extends Component {\r\n  constructor() {\r\n    super()\r\n    this.state = {\r\n     data:[],\r\n     show:false,\r\n     message:'',\r\n     id:''\r\n\r\n    }\r\n    this.handleChange = this.handleChange.bind(this)\r\n  }\r\n\r\n  getTicket = test => {\r\n    return axios\r\n      .get('tickets/deneme', {\r\n        \r\n      })\r\n      .then(response => {\r\n        console.log(\"axios girdi\")\r\n        this.setState({\r\n            data:response.data,\r\n            \r\n        })\r\n        console.log(\"data geldi\")\r\n        console.log(response.data)\r\n        return response.data\r\n        \r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n \r\n  handleChange(e) {\r\n    this.setState({[e.target.name]: e.target.value})\r\n  }\r\n\r\n\r\n  handleClose (id,messages){\r\n\r\n    this.setState({\r\n      show:false,\r\n\r\n    }\r\n  \r\n    );\r\n\r\n  } \r\n  \r\n\r\n  handleAddMessage (id,messages){\r\n    console.log('id')\r\n    console.log(id)\r\n    this.addMessage(id,messages)\r\n\r\n    this.setState({\r\n      show:false,\r\n\r\n    }\r\n    \r\n    );\r\n    this.getTicket()\r\n\r\n  } \r\n  handleShow = (id) => this.setState({show:true,id:id});\r\n\r\n\r\n  componentDidMount() {\r\n\r\n    console.log(\"componentde\")\r\n    const token = localStorage.usertoken\r\n    const decoded = jwt_decode(token)\r\n\r\n    this.getTicket()\r\n    console.log(decoded.role)\r\n    this.setState({\r\n        role: decoded.role,\r\n      })\r\n\r\n    console.log(this.state.role)\r\n\r\n    \r\n  \r\n \r\n    \r\n  }\r\n\r\n  changeStatus (id,status) {\r\n    return axios\r\n      .put('tickets/changeStatus', {\r\n        id,\r\n        status\r\n        \r\n      })\r\n      .then(response => {\r\n        console.log(\"axios puta girdi\")\r\n        this.getTicket()\r\n        console.log(response.data)\r\n        return response.data\r\n        \r\n      })\r\n      .catch(err => {\r\n        console.log(\"axios puta girmedi\")\r\n        console.log(err)\r\n      })\r\n  } \r\n  statusFilter (status) {\r\n    return axios\r\n      .post('tickets/filterStatus', {\r\n        status\r\n      })\r\n      .then(response => {\r\n        console.log(\"axios girdi\")\r\n        this.setState({\r\n            data:response.data,\r\n            \r\n        })\r\n        console.log(\"data geldi\")\r\n        console.log(response.data)\r\n        return response.data\r\n        \r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  addMessage (id,messages) {\r\n    return axios\r\n      .post('tickets/addMessages', {\r\n        id,messages\r\n      })\r\n      .then(response => {\r\n        console.log(\"addMessage girdi\")\r\n        console.log(id,messages)\r\n        this.setState({\r\n            data:response.data,\r\n            \r\n        })\r\n        console.log(\"data geldi\")\r\n        console.log(response.data)\r\n        return response.data\r\n        \r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  \r\n\r\n\r\n  statusName(status) {\r\n    switch(status) {\r\n      case 0:\r\n        return <h5><Badge pill variant=\"primary\">Opening</Badge></h5>\r\n        case 1:\r\n          return <h5><Badge pill variant=\"danger\">Waiting</Badge></h5>\r\n          case 2:\r\n            return <h5><Badge pill variant=\"success\">Closed</Badge></h5>\r\n      default:\r\n        return <h5><Badge pill variant=\"primary\">Opening</Badge></h5>\r\n    }\r\n  }\r\n\r\n  MakeItem = function(X) {\r\n    console.log(X)\r\n    return <option>{X}</option>;\r\n};\r\n \r\n\r\n  render() {\r\n\r\n    return (\r\n      <div className=\"container\">\r\n          {this.state.role === 1 ?\r\n        <div className=\"jumbotron mt-5\">\r\n          <div className=\"col-sm-8 mx-auto\">\r\n            <h1 className=\"text-center\">ADMIN PAGE<br></br>TICKETS</h1>\r\n          </div>\r\n          \r\n          <Button variant=\"primary\" onClick={()=>this.statusFilter(0)}>Opening</Button>\r\n          <Button variant=\"danger\" onClick={()=>this.statusFilter(1)}>Waiting</Button>\r\n          <Button variant=\"success\" onClick={()=>this.statusFilter(2)}>Closed</Button>\r\n          <Button variant=\"dark\" onClick={()=>this.getTicket()}>ALL</Button>\r\n          <input style={{float:\"right\"}} placeholder=\"Search Title,Name\" type=\"text\" onChange={this.search}/>\r\n         \r\n          <TableContainer component={Paper}>\r\n      \r\n      <Table size=\"small\" aria-label=\"a dense table\">\r\n\r\n        <TableHead>\r\n          <TableRow>\r\n            \r\n            <TableCell>TicketName</TableCell>\r\n            <TableCell align=\"right\">Content</TableCell>\r\n            <TableCell align=\"right\">İmage</TableCell>\r\n            <TableCell align=\"right\">Message</TableCell>\r\n            <TableCell align=\"right\">Status</TableCell>\r\n            <TableCell align=\"right\">Change Status</TableCell>\r\n            <TableCell align=\"right\" >Add Message</TableCell>\r\n            \r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody> \r\n              \r\n      {this.state.data.length>0 && this.state.data.map((row,index)=>\r\n         <TableRow key={index}>\r\n              <TableCell component=\"th\" scope=\"row\">\r\n                {row.name}\r\n              </TableCell>\r\n              <TableCell align=\"right\">{row.content}</TableCell>\r\n              <TableCell align=\"right\"><a target=\"_parent\" href={`http://localhost:5000/public/${row.img}`}><img width=\"100px\" src={`http://localhost:5000/public/${row.img}`}></img></a></TableCell>\r\n              <TableCell  align=\"right\">    <option>{\r\n              //row.messages.length>0?row.messages[0].text:n\r\n              this.MakeItem(row.messages)\r\n              }</option></TableCell>\r\n              <TableCell align=\"right\">{this.statusName(row.status)}</TableCell>\r\n              \r\n              <TableCell align=\"right\"><Dropdown>\r\n<Dropdown.Toggle    size=\"sm\" variant=\"success\" id=\"dropdown-basic\">\r\n    Change Status\r\n  </Dropdown.Toggle>\r\n\r\n  <Dropdown.Menu>\r\n    <Dropdown.Item  onClick={()=>this.changeStatus(row._id,0)}>Opening</Dropdown.Item>\r\n    <Dropdown.Item onClick={()=>this.changeStatus(row._id,1)}>Waiting</Dropdown.Item>\r\n    <Dropdown.Item onClick={()=>this.changeStatus(row._id,2)}>Closed</Dropdown.Item>\r\n  </Dropdown.Menu>\r\n</Dropdown></TableCell>\r\n<TableCell align=\"right\">   <>\r\n      <Button    name=\"addButton\" size=\"sm\" variant=\"primary\" onClick={()=>this.handleShow(row._id)}>\r\n\r\n        Add Message\r\n      </Button> \r\n\r\n      \r\n\r\n      <Modal show={this.state.show} onHide={()=>this.handleClose()}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Add Message{this.state.id}  </Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body><form>\r\n  <label>\r\n    Message : \r\n    <input type=\"text\" name=\"message\" value={this.state.message} onChange={this.handleChange} />\r\n  </label>\r\n</form>\r\n</Modal.Body> \r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={()=>this.handleClose()}>\r\n            Close\r\n          </Button>\r\n      <span>{this.state.id}</span>\r\n          <Button variant=\"primary\"  onClick={()=>this.handleAddMessage(this.state.id,this.state.message)}>\r\n            Add Message\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n</TableCell>\r\n\r\n            </TableRow>\r\n      )} </TableBody>\r\n      </Table>\r\n    </TableContainer>\r\n  </div>:\r\n        <div className=\"jumbotron mt-5\">\r\n        <div className=\"col-sm-8 mx-auto\">\r\n          <h1 className=\"text-center\">USER PAGE<br></br>TICKETS</h1>\r\n        </div>\r\n       \r\n        <TableContainer component={Paper}>\r\n    <Table size=\"small\" aria-label=\"a dense table\">\r\n\r\n      <TableHead>\r\n        <TableRow>\r\n          \r\n          <TableCell>TicketName</TableCell>\r\n          <TableCell align=\"right\">Content</TableCell>\r\n          <TableCell align=\"right\">İmage</TableCell>\r\n          <TableCell align=\"right\">Message</TableCell>\r\n          <TableCell align=\"right\">Status</TableCell>\r\n          <TableCell align=\"right\" >Add Message</TableCell>\r\n          \r\n        </TableRow>\r\n      </TableHead>\r\n      <TableBody> \r\n            \r\n    {this.state.data.length>0 && this.state.data.map((row,index)=>\r\n       <TableRow key={index}>\r\n            <TableCell component=\"th\" scope=\"row\">\r\n              {row.name}\r\n            </TableCell>\r\n            <TableCell align=\"right\">{row.content}</TableCell>\r\n            <TableCell align=\"right\"><a target=\"_parent\" href={`http://localhost:5000/public/${row.img}`}><img width=\"100px\" src={`http://localhost:5000/public/${row.img}`}></img></a></TableCell>\r\n            <TableCell  align=\"right\">    <option>{\r\n            //row.messages.length>0?row.messages[0].text:n\r\n            this.MakeItem(row.messages)\r\n            }</option></TableCell>\r\n            <TableCell align=\"right\">{this.statusName(row.status)}</TableCell>\r\n            \r\n<TableCell align=\"right\">   <>\r\n    <Button    name=\"addButton\" size=\"sm\" variant=\"primary\" onClick={()=>this.handleShow(row._id)}>\r\n\r\n      1Add Message\r\n    </Button> \r\n\r\n    \r\n\r\n    <Modal show={this.state.show} onHide={()=>this.handleClose()}>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Add Message{this.state.id}  </Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body><form>\r\n<label>\r\n  Message : \r\n  <input type=\"text\" name=\"message\" value={this.state.message} onChange={this.handleChange} />\r\n</label>\r\n</form>\r\n</Modal.Body> \r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={()=>this.handleClose()}>\r\n          Close\r\n        </Button>\r\n    <span>{this.state.id}</span>\r\n        <Button variant=\"primary\"  onClick={()=>this.handleAddMessage(this.state.id,this.state.message)}>\r\n          Add Message\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  </>\r\n</TableCell>\r\n\r\n          </TableRow>\r\n    )} </TableBody>\r\n    </Table>\r\n  </TableContainer>\r\n</div>\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ShowTickets"]},"metadata":{},"sourceType":"module"}