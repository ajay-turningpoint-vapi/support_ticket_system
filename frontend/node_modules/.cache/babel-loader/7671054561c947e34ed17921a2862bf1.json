{"ast":null,"code":"/**\r\n * DevExtreme (core/action.js)\r\n * Version: 20.1.7\r\n * Build date: Tue Aug 25 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _renderer = require(\"./renderer\");\n\nvar _renderer2 = _interopRequireDefault(_renderer);\n\nvar _config = require(\"./config\");\n\nvar _config2 = _interopRequireDefault(_config);\n\nvar _window = require(\"./utils/window\");\n\nvar _type = require(\"./utils/type\");\n\nvar _iterator = require(\"./utils/iterator\");\n\nvar _errors = require(\"./errors\");\n\nvar _errors2 = _interopRequireDefault(_errors);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n\n    if (\"value\" in descriptor) {\n      descriptor.writable = true;\n    }\n\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) {\n    _defineProperties(Constructor.prototype, protoProps);\n  }\n\n  if (staticProps) {\n    _defineProperties(Constructor, staticProps);\n  }\n\n  return Constructor;\n}\n\nvar Action = function () {\n  function Action(action, config) {\n    _classCallCheck(this, Action);\n\n    config = config || {};\n    this._action = action;\n    this._context = config.context || (0, _window.getWindow)();\n    this._beforeExecute = config.beforeExecute;\n    this._afterExecute = config.afterExecute;\n    this._component = config.component;\n    this._validatingTargetName = config.validatingTargetName;\n    var excludeValidators = this._excludeValidators = {};\n\n    if (config.excludeValidators) {\n      for (var i = 0; i < config.excludeValidators.length; i++) {\n        excludeValidators[config.excludeValidators[i]] = true;\n      }\n    }\n  }\n\n  _createClass(Action, [{\n    key: \"execute\",\n    value: function () {\n      var e = {\n        action: this._action,\n        args: Array.prototype.slice.call(arguments),\n        context: this._context,\n        component: this._component,\n        validatingTargetName: this._validatingTargetName,\n        cancel: false,\n        handled: false\n      };\n      var beforeExecute = this._beforeExecute;\n      var afterExecute = this._afterExecute;\n      var argsBag = e.args[0] || {};\n\n      if (!(\"jQueryEvent\" in argsBag) && argsBag.event && (0, _config2.default)().useJQuery) {\n        Object.defineProperty(argsBag, \"jQueryEvent\", {\n          get: function () {\n            _errors2.default.log(\"W0003\", \"Handler argument\", \"jQueryEvent\", \"17.2\", \"Use the 'event' field instead\");\n\n            return argsBag.event;\n          },\n          set: function (value) {\n            _errors2.default.log(\"W0003\", \"Handler argument\", \"jQueryEvent\", \"17.2\", \"Use the 'event' field instead\");\n\n            argsBag.event = value;\n          }\n        });\n      }\n\n      if (!this._validateAction(e)) {\n        return;\n      }\n\n      null === beforeExecute || void 0 === beforeExecute ? void 0 : beforeExecute.call(this._context, e);\n\n      if (e.cancel) {\n        return;\n      }\n\n      var result = this._executeAction(e);\n\n      if (argsBag.cancel) {\n        return;\n      }\n\n      null === afterExecute || void 0 === afterExecute ? void 0 : afterExecute.call(this._context, e);\n      return result;\n    }\n  }, {\n    key: \"_validateAction\",\n    value: function (e) {\n      var excludeValidators = this._excludeValidators;\n      var executors = Action.executors;\n\n      for (var name in executors) {\n        if (!excludeValidators[name]) {\n          var _executor$validate;\n\n          var executor = executors[name];\n          null === (_executor$validate = executor.validate) || void 0 === _executor$validate ? void 0 : _executor$validate.call(executor, e);\n\n          if (e.cancel) {\n            return false;\n          }\n        }\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_executeAction\",\n    value: function (e) {\n      var result;\n      var executors = Action.executors;\n\n      for (var name in executors) {\n        var _executor$execute;\n\n        var executor = executors[name];\n        null === (_executor$execute = executor.execute) || void 0 === _executor$execute ? void 0 : _executor$execute.call(executor, e);\n\n        if (e.handled) {\n          result = e.result;\n          break;\n        }\n      }\n\n      return result;\n    }\n  }], [{\n    key: \"registerExecutor\",\n    value: function (name, executor) {\n      if ((0, _type.isPlainObject)(name)) {\n        (0, _iterator.each)(name, Action.registerExecutor);\n        return;\n      }\n\n      Action.executors[name] = executor;\n    }\n  }, {\n    key: \"unregisterExecutor\",\n    value: function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      (0, _iterator.each)(args, function () {\n        delete Action.executors[this];\n      });\n    }\n  }]);\n\n  return Action;\n}();\n\nexports.default = Action;\nAction.executors = {};\n\nvar createValidatorByTargetElement = function (condition) {\n  return function (e) {\n    if (!e.args.length) {\n      return;\n    }\n\n    var args = e.args[0];\n    var element = args[e.validatingTargetName] || args.element;\n\n    if (element && condition((0, _renderer2.default)(element))) {\n      e.cancel = true;\n    }\n  };\n};\n\nAction.registerExecutor({\n  disabled: {\n    validate: createValidatorByTargetElement(function ($target) {\n      return $target.is(\".dx-state-disabled, .dx-state-disabled *\");\n    })\n  },\n  readOnly: {\n    validate: createValidatorByTargetElement(function ($target) {\n      return $target.is(\".dx-state-readonly, .dx-state-readonly *:not(.dx-state-independent)\");\n    })\n  },\n  undefined: {\n    execute: function (e) {\n      if (!e.action) {\n        e.result = void 0;\n        e.handled = true;\n      }\n    }\n  },\n  func: {\n    execute: function (e) {\n      if ((0, _type.isFunction)(e.action)) {\n        e.result = e.action.call(e.context, e.args[0]);\n        e.handled = true;\n      }\n    }\n  }\n});","map":{"version":3,"sources":["C:/Users/ASUS/Desktop/ticketSystem/frontend/node_modules/devextreme/core/action.js"],"names":["Object","defineProperty","exports","value","default","_renderer","require","_renderer2","_interopRequireDefault","_config","_config2","_window","_type","_iterator","_errors","_errors2","obj","__esModule","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","_createClass","protoProps","staticProps","prototype","Action","action","config","_action","_context","context","getWindow","_beforeExecute","beforeExecute","_afterExecute","afterExecute","_component","component","_validatingTargetName","validatingTargetName","excludeValidators","_excludeValidators","e","args","Array","slice","call","arguments","cancel","handled","argsBag","event","useJQuery","get","log","set","_validateAction","result","_executeAction","executors","name","_executor$validate","executor","validate","_executor$execute","execute","isPlainObject","each","registerExecutor","_len","_key","createValidatorByTargetElement","condition","element","disabled","$target","is","readOnly","undefined","func","isFunction"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (core/action.js)\r\n * Version: 20.1.7\r\n * Build date: Tue Aug 25 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", {\r\n    value: true\r\n});\r\nexports.default = void 0;\r\nvar _renderer = require(\"./renderer\");\r\nvar _renderer2 = _interopRequireDefault(_renderer);\r\nvar _config = require(\"./config\");\r\nvar _config2 = _interopRequireDefault(_config);\r\nvar _window = require(\"./utils/window\");\r\nvar _type = require(\"./utils/type\");\r\nvar _iterator = require(\"./utils/iterator\");\r\nvar _errors = require(\"./errors\");\r\nvar _errors2 = _interopRequireDefault(_errors);\r\n\r\nfunction _interopRequireDefault(obj) {\r\n    return obj && obj.__esModule ? obj : {\r\n        \"default\": obj\r\n    }\r\n}\r\n\r\nfunction _classCallCheck(instance, Constructor) {\r\n    if (!(instance instanceof Constructor)) {\r\n        throw new TypeError(\"Cannot call a class as a function\")\r\n    }\r\n}\r\n\r\nfunction _defineProperties(target, props) {\r\n    for (var i = 0; i < props.length; i++) {\r\n        var descriptor = props[i];\r\n        descriptor.enumerable = descriptor.enumerable || false;\r\n        descriptor.configurable = true;\r\n        if (\"value\" in descriptor) {\r\n            descriptor.writable = true\r\n        }\r\n        Object.defineProperty(target, descriptor.key, descriptor)\r\n    }\r\n}\r\n\r\nfunction _createClass(Constructor, protoProps, staticProps) {\r\n    if (protoProps) {\r\n        _defineProperties(Constructor.prototype, protoProps)\r\n    }\r\n    if (staticProps) {\r\n        _defineProperties(Constructor, staticProps)\r\n    }\r\n    return Constructor\r\n}\r\nvar Action = function() {\r\n    function Action(action, config) {\r\n        _classCallCheck(this, Action);\r\n        config = config || {};\r\n        this._action = action;\r\n        this._context = config.context || (0, _window.getWindow)();\r\n        this._beforeExecute = config.beforeExecute;\r\n        this._afterExecute = config.afterExecute;\r\n        this._component = config.component;\r\n        this._validatingTargetName = config.validatingTargetName;\r\n        var excludeValidators = this._excludeValidators = {};\r\n        if (config.excludeValidators) {\r\n            for (var i = 0; i < config.excludeValidators.length; i++) {\r\n                excludeValidators[config.excludeValidators[i]] = true\r\n            }\r\n        }\r\n    }\r\n    _createClass(Action, [{\r\n        key: \"execute\",\r\n        value: function() {\r\n            var e = {\r\n                action: this._action,\r\n                args: Array.prototype.slice.call(arguments),\r\n                context: this._context,\r\n                component: this._component,\r\n                validatingTargetName: this._validatingTargetName,\r\n                cancel: false,\r\n                handled: false\r\n            };\r\n            var beforeExecute = this._beforeExecute;\r\n            var afterExecute = this._afterExecute;\r\n            var argsBag = e.args[0] || {};\r\n            if (!(\"jQueryEvent\" in argsBag) && argsBag.event && (0, _config2.default)().useJQuery) {\r\n                Object.defineProperty(argsBag, \"jQueryEvent\", {\r\n                    get: function() {\r\n                        _errors2.default.log(\"W0003\", \"Handler argument\", \"jQueryEvent\", \"17.2\", \"Use the 'event' field instead\");\r\n                        return argsBag.event\r\n                    },\r\n                    set: function(value) {\r\n                        _errors2.default.log(\"W0003\", \"Handler argument\", \"jQueryEvent\", \"17.2\", \"Use the 'event' field instead\");\r\n                        argsBag.event = value\r\n                    }\r\n                })\r\n            }\r\n            if (!this._validateAction(e)) {\r\n                return\r\n            }\r\n            null === beforeExecute || void 0 === beforeExecute ? void 0 : beforeExecute.call(this._context, e);\r\n            if (e.cancel) {\r\n                return\r\n            }\r\n            var result = this._executeAction(e);\r\n            if (argsBag.cancel) {\r\n                return\r\n            }\r\n            null === afterExecute || void 0 === afterExecute ? void 0 : afterExecute.call(this._context, e);\r\n            return result\r\n        }\r\n    }, {\r\n        key: \"_validateAction\",\r\n        value: function(e) {\r\n            var excludeValidators = this._excludeValidators;\r\n            var executors = Action.executors;\r\n            for (var name in executors) {\r\n                if (!excludeValidators[name]) {\r\n                    var _executor$validate;\r\n                    var executor = executors[name];\r\n                    null === (_executor$validate = executor.validate) || void 0 === _executor$validate ? void 0 : _executor$validate.call(executor, e);\r\n                    if (e.cancel) {\r\n                        return false\r\n                    }\r\n                }\r\n            }\r\n            return true\r\n        }\r\n    }, {\r\n        key: \"_executeAction\",\r\n        value: function(e) {\r\n            var result;\r\n            var executors = Action.executors;\r\n            for (var name in executors) {\r\n                var _executor$execute;\r\n                var executor = executors[name];\r\n                null === (_executor$execute = executor.execute) || void 0 === _executor$execute ? void 0 : _executor$execute.call(executor, e);\r\n                if (e.handled) {\r\n                    result = e.result;\r\n                    break\r\n                }\r\n            }\r\n            return result\r\n        }\r\n    }], [{\r\n        key: \"registerExecutor\",\r\n        value: function(name, executor) {\r\n            if ((0, _type.isPlainObject)(name)) {\r\n                (0, _iterator.each)(name, Action.registerExecutor);\r\n                return\r\n            }\r\n            Action.executors[name] = executor\r\n        }\r\n    }, {\r\n        key: \"unregisterExecutor\",\r\n        value: function() {\r\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n                args[_key] = arguments[_key]\r\n            }(0, _iterator.each)(args, function() {\r\n                delete Action.executors[this]\r\n            })\r\n        }\r\n    }]);\r\n    return Action\r\n}();\r\nexports.default = Action;\r\nAction.executors = {};\r\nvar createValidatorByTargetElement = function(condition) {\r\n    return function(e) {\r\n        if (!e.args.length) {\r\n            return\r\n        }\r\n        var args = e.args[0];\r\n        var element = args[e.validatingTargetName] || args.element;\r\n        if (element && condition((0, _renderer2.default)(element))) {\r\n            e.cancel = true\r\n        }\r\n    }\r\n};\r\nAction.registerExecutor({\r\n    disabled: {\r\n        validate: createValidatorByTargetElement(function($target) {\r\n            return $target.is(\".dx-state-disabled, .dx-state-disabled *\")\r\n        })\r\n    },\r\n    readOnly: {\r\n        validate: createValidatorByTargetElement(function($target) {\r\n            return $target.is(\".dx-state-readonly, .dx-state-readonly *:not(.dx-state-independent)\")\r\n        })\r\n    },\r\n    undefined: {\r\n        execute: function(e) {\r\n            if (!e.action) {\r\n                e.result = void 0;\r\n                e.handled = true\r\n            }\r\n        }\r\n    },\r\n    func: {\r\n        execute: function(e) {\r\n            if ((0, _type.isFunction)(e.action)) {\r\n                e.result = e.action.call(e.context, e.args[0]);\r\n                e.handled = true\r\n            }\r\n        }\r\n    }\r\n});\r\n"]},"metadata":{},"sourceType":"script"}