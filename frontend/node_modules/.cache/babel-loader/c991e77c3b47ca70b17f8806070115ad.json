{"ast":null,"code":"/**\r\n * DevExtreme (ui/drop_down_editor/ui.drop_down_list.js)\r\n * Version: 20.1.7\r\n * Build date: Tue Aug 25 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nvar $ = require(\"../../core/renderer\");\n\nvar windowUtils = require(\"../../core/utils/window\");\n\nvar eventsEngine = require(\"../../events/core/events_engine\");\n\nvar Guid = require(\"../../core/guid\");\n\nvar registerComponent = require(\"../../core/component_registrator\");\n\nvar commonUtils = require(\"../../core/utils/common\");\n\nvar typeUtils = require(\"../../core/utils/type\");\n\nvar extend = require(\"../../core/utils/extend\").extend;\n\nvar inArray = require(\"../../core/utils/array\").inArray;\n\nvar DropDownEditor = require(\"./ui.drop_down_editor\");\n\nvar List = require(\"../list\");\n\nvar errors = require(\"../widget/ui.errors\");\n\nvar eventUtils = require(\"../../events/utils\");\n\nvar devices = require(\"../../core/devices\");\n\nvar dataQuery = require(\"../../data/query\");\n\nvar each = require(\"../../core/utils/iterator\").each;\n\nvar DataExpressionMixin = require(\"../editor/ui.data_expression\");\n\nvar messageLocalization = require(\"../../localization/message\");\n\nvar ChildDefaultTemplate = require(\"../../core/templates/child_default_template\").ChildDefaultTemplate;\n\nvar Deferred = require(\"../../core/utils/deferred\").Deferred;\n\nvar DataConverterMixin = require(\"../shared/grouped_data_converter_mixin\").default;\n\nvar window = windowUtils.getWindow();\nvar LIST_ITEM_SELECTOR = \".dx-list-item\";\nvar LIST_ITEM_DATA_KEY = \"dxListItemData\";\nvar DROPDOWNLIST_POPUP_WRAPPER_CLASS = \"dx-dropdownlist-popup-wrapper\";\nvar SKIP_GESTURE_EVENT_CLASS = \"dx-skip-gesture-event\";\nvar SEARCH_EVENT = \"input\";\nvar SEARCH_MODES = [\"startswith\", \"contains\", \"endwith\", \"notcontains\"];\nvar DropDownList = DropDownEditor.inherit({\n  _supportedKeys: function () {\n    var parent = this.callBase();\n    return extend({}, parent, {\n      tab: function (e) {\n        if (this._allowSelectItemByTab()) {\n          this._saveValueChangeEvent(e);\n\n          var $focusedItem = $(this._list.option(\"focusedElement\"));\n          $focusedItem.length && this._setSelectedElement($focusedItem);\n        }\n\n        parent.tab.apply(this, arguments);\n      },\n      space: commonUtils.noop,\n      home: commonUtils.noop,\n      end: commonUtils.noop\n    });\n  },\n  _allowSelectItemByTab: function () {\n    return this.option(\"opened\") && \"instantly\" === this.option(\"applyValueMode\");\n  },\n  _setSelectedElement: function ($element) {\n    var value = this._valueGetter(this._list._getItemData($element));\n\n    this._setValue(value);\n  },\n  _setValue: function (value) {\n    this.option(\"value\", value);\n  },\n  _getDefaultOptions: function () {\n    return extend(this.callBase(), extend(DataExpressionMixin._dataExpressionDefaultOptions(), {\n      displayValue: void 0,\n      searchEnabled: false,\n      searchMode: \"contains\",\n      searchTimeout: 500,\n      minSearchLength: 0,\n      searchExpr: null,\n      valueChangeEvent: \"input change keyup\",\n      selectedItem: null,\n      noDataText: messageLocalization.format(\"dxCollectionWidget-noDataText\"),\n      onSelectionChanged: null,\n      onItemClick: commonUtils.noop,\n      showDataBeforeSearch: false,\n      grouped: false,\n      groupTemplate: \"group\",\n      popupPosition: {\n        my: \"left top\",\n        at: \"left bottom\",\n        offset: {\n          h: 0,\n          v: 0\n        },\n        collision: \"flip\"\n      },\n      wrapItemText: false,\n      popupWidthExtension: 0\n    }));\n  },\n  _defaultOptionsRules: function () {\n    return this.callBase().concat([{\n      device: {\n        platform: \"ios\"\n      },\n      options: {\n        popupPosition: {\n          offset: {\n            v: -1\n          }\n        }\n      }\n    }, {\n      device: {\n        platform: \"generic\"\n      },\n      options: {\n        buttonsLocation: \"bottom center\"\n      }\n    }]);\n  },\n  _setOptionsByReference: function () {\n    this.callBase();\n    extend(this._optionsByReference, {\n      value: true,\n      selectedItem: true,\n      displayValue: true\n    });\n  },\n  _init: function () {\n    this.callBase();\n\n    this._initDataExpressions();\n\n    this._initActions();\n\n    this._setListDataSource();\n\n    this._validateSearchMode();\n\n    this._clearSelectedItem();\n\n    this._initItems();\n  },\n  _setListFocusedElementOptionChange: function () {\n    this._list._updateParentActiveDescendant = this._updateActiveDescendant.bind(this);\n  },\n  _initItems: function () {\n    var items = this.option().items;\n\n    if (items && !items.length && this._dataSource) {\n      this.option().items = this._dataSource.items();\n    }\n  },\n  _initActions: function () {\n    this._initContentReadyAction();\n\n    this._initSelectionChangedAction();\n\n    this._initItemClickAction();\n  },\n  _initContentReadyAction: function () {\n    this._contentReadyAction = this._createActionByOption(\"onContentReady\", {\n      excludeValidators: [\"disabled\", \"readOnly\"]\n    });\n  },\n  _initSelectionChangedAction: function () {\n    this._selectionChangedAction = this._createActionByOption(\"onSelectionChanged\", {\n      excludeValidators: [\"disabled\", \"readOnly\"]\n    });\n  },\n  _initItemClickAction: function () {\n    this._itemClickAction = this._createActionByOption(\"onItemClick\");\n  },\n  _initTemplates: function () {\n    this.callBase();\n\n    this._templateManager.addDefaultTemplates({\n      item: new ChildDefaultTemplate(\"item\")\n    });\n  },\n  _saveFocusOnWidget: function (e) {\n    if (this._list && this._list.initialOption(\"focusStateEnabled\")) {\n      this._focusInput();\n    }\n  },\n  _fitIntoRange: function (value, start, end) {\n    if (value > end) {\n      return start;\n    }\n\n    if (value < start) {\n      return end;\n    }\n\n    return value;\n  },\n  _items: function () {\n    var items = this._getPlainItems(!this._list && this._dataSource.items());\n\n    var availableItems = new dataQuery(items).filter(\"disabled\", \"<>\", true).toArray();\n    return availableItems;\n  },\n  _calcNextItem: function (step) {\n    var items = this._items();\n\n    var nextIndex = this._fitIntoRange(this._getSelectedIndex() + step, 0, items.length - 1);\n\n    return items[nextIndex];\n  },\n  _getSelectedIndex: function () {\n    var items = this._items();\n\n    var selectedItem = this.option(\"selectedItem\");\n    var result = -1;\n    each(items, function (index, item) {\n      if (this._isValueEquals(item, selectedItem)) {\n        result = index;\n        return false;\n      }\n    }.bind(this));\n    return result;\n  },\n  _createPopup: function () {\n    this.callBase();\n\n    this._updateCustomBoundaryContainer();\n\n    this._popup._wrapper().addClass(this._popupWrapperClass());\n\n    var $popupContent = this._popup.$content();\n\n    eventsEngine.off($popupContent, \"mouseup\");\n    eventsEngine.on($popupContent, \"mouseup\", this._saveFocusOnWidget.bind(this));\n    var that = this;\n\n    this._popup.on({\n      shown: function () {\n        that.$element().addClass(SKIP_GESTURE_EVENT_CLASS);\n      },\n      hidden: function () {\n        that.$element().removeClass(SKIP_GESTURE_EVENT_CLASS);\n      }\n    });\n  },\n  _updateCustomBoundaryContainer: function () {\n    var customContainer = this.option(\"dropDownOptions.container\");\n    var $container = customContainer && $(customContainer);\n\n    if ($container && $container.length && !typeUtils.isWindow($container.get(0))) {\n      var $containerWithParents = [].slice.call($container.parents());\n      $containerWithParents.unshift($container.get(0));\n      each($containerWithParents, function (i, parent) {\n        if (parent === $(\"body\").get(0)) {\n          return false;\n        } else {\n          if (\"hidden\" === window.getComputedStyle(parent).overflowY) {\n            this._$customBoundaryContainer = $(parent);\n            return false;\n          }\n        }\n      }.bind(this));\n    }\n  },\n  _popupWrapperClass: function () {\n    return DROPDOWNLIST_POPUP_WRAPPER_CLASS;\n  },\n  _renderInputValue: function () {\n    var value = this._getCurrentValue();\n\n    return this._loadInputValue(value, this._setSelectedItem.bind(this)).always(this.callBase.bind(this, value));\n  },\n  _loadInputValue: function (value, callback) {\n    return this._loadItem(value).always(callback);\n  },\n  _getItemFromPlain: function (value, cache) {\n    var plainItems;\n    var selectedItem;\n\n    if (cache && \"object\" !== _typeof(value)) {\n      if (!cache.itemByValue) {\n        cache.itemByValue = {};\n        plainItems = this._getPlainItems();\n        plainItems.forEach(function (item) {\n          cache.itemByValue[this._valueGetter(item)] = item;\n        }, this);\n      }\n\n      selectedItem = cache.itemByValue[value];\n    }\n\n    if (!selectedItem) {\n      plainItems = this._getPlainItems();\n      selectedItem = commonUtils.grep(plainItems, function (item) {\n        return this._isValueEquals(this._valueGetter(item), value);\n      }.bind(this))[0];\n    }\n\n    return selectedItem;\n  },\n  _loadItem: function (value, cache) {\n    var selectedItem = this._getItemFromPlain(value, cache);\n\n    return void 0 !== selectedItem ? new Deferred().resolve(selectedItem).promise() : this._loadValue(value);\n  },\n  _getPlainItems: function (items) {\n    var plainItems = [];\n    items = items || this.option(\"items\") || this._dataSource.items() || [];\n\n    for (var i = 0; i < items.length; i++) {\n      if (items[i] && items[i].items) {\n        plainItems = plainItems.concat(items[i].items);\n      } else {\n        plainItems.push(items[i]);\n      }\n    }\n\n    return plainItems;\n  },\n  _updateActiveDescendant: function () {\n    var _this$_list;\n\n    var opened = this.option(\"opened\");\n    var listFocusedItemId = null === (_this$_list = this._list) || void 0 === _this$_list ? void 0 : _this$_list.getFocusedItemId();\n    var isElementOnDom = $(\"#\".concat(listFocusedItemId)).length > 0;\n    var activedescendant = opened && isElementOnDom && listFocusedItemId;\n    this.setAria({\n      activedescendant: activedescendant || null\n    });\n  },\n  _setSelectedItem: function (item) {\n    var displayValue = this._displayValue(item);\n\n    this.option(\"selectedItem\", commonUtils.ensureDefined(item, null));\n    this.option(\"displayValue\", displayValue);\n  },\n  _displayValue: function (item) {\n    return this._displayGetter(item);\n  },\n  _refreshSelected: function () {\n    var cache = {};\n\n    this._listItemElements().each(function (_, itemElement) {\n      var $itemElement = $(itemElement);\n\n      var itemValue = this._valueGetter($itemElement.data(LIST_ITEM_DATA_KEY));\n\n      var isItemSelected = this._isSelectedValue(itemValue, cache);\n\n      if (isItemSelected) {\n        this._list.selectItem($itemElement);\n      } else {\n        this._list.unselectItem($itemElement);\n      }\n    }.bind(this));\n  },\n  _popupShownHandler: function () {\n    this.callBase();\n\n    this._setFocusPolicy();\n  },\n  _setFocusPolicy: function () {\n    if (!this.option(\"focusStateEnabled\") || !this._list) {\n      return;\n    }\n\n    this._list.option(\"focusedElement\", null);\n  },\n  _isSelectedValue: function (value) {\n    return this._isValueEquals(value, this.option(\"value\"));\n  },\n  _validateSearchMode: function () {\n    var searchMode = this.option(\"searchMode\");\n    var normalizedSearchMode = searchMode.toLowerCase();\n\n    if (inArray(normalizedSearchMode, SEARCH_MODES) < 0) {\n      throw errors.Error(\"E1019\", searchMode);\n    }\n  },\n  _clearSelectedItem: function () {\n    this.option(\"selectedItem\", null);\n  },\n  _processDataSourceChanging: function () {\n    this._setListDataSource();\n\n    this._renderInputValue().fail(function () {\n      if (this._isCustomValueAllowed()) {\n        return;\n      }\n\n      this._clearSelectedItem();\n    }.bind(this));\n  },\n  _isCustomValueAllowed: function () {\n    return this.option(\"displayCustomValue\");\n  },\n  reset: function () {\n    this.callBase();\n\n    this._clearFilter();\n\n    this._clearSelectedItem();\n  },\n  _listItemElements: function () {\n    return this._$list ? this._$list.find(LIST_ITEM_SELECTOR) : $();\n  },\n  _popupConfig: function () {\n    return extend(this.callBase(), {\n      templatesRenderAsynchronously: false,\n      autoResizeEnabled: false,\n      maxHeight: this._getMaxHeight.bind(this),\n      width: this._getInputWidth.bind(this)\n    });\n  },\n  _getInputWidth: function () {\n    return this.$element().outerWidth();\n  },\n  _renderPopupContent: function () {\n    this.callBase();\n\n    this._renderList();\n  },\n  _getKeyboardListeners: function () {\n    var canListHaveFocus = this._canListHaveFocus();\n\n    return this.callBase().concat([!canListHaveFocus && this._list]);\n  },\n  _fireContentReadyAction: commonUtils.noop,\n  _setAriaTargetForList: function () {\n    this._list._getAriaTarget = this._getAriaTarget.bind(this);\n  },\n  _renderList: function () {\n    this._listId = \"dx-\" + new Guid()._value;\n    var $list = this._$list = $(\"<div>\").attr(\"id\", this._listId).appendTo(this._popup.$content());\n    this._list = this._createComponent($list, List, this._listConfig());\n\n    this._refreshList();\n\n    this._setAriaTargetForList();\n\n    this._list.option(\"_listAttributes\", {\n      role: \"combobox\"\n    });\n\n    this._renderPreventBlur(this._$list);\n\n    this._setListFocusedElementOptionChange();\n  },\n  _renderPreventBlur: function ($target) {\n    var eventName = eventUtils.addNamespace(\"mousedown\", \"dxDropDownList\");\n    eventsEngine.off($target, eventName);\n    eventsEngine.on($target, eventName, function (e) {\n      e.preventDefault();\n    }.bind(this));\n  },\n  _renderOpenedState: function () {\n    this.callBase();\n    this._list && this._updateActiveDescendant();\n    this.setAria({\n      controls: this._list && this._listId,\n      owns: this._popup && this._popupContentId\n    });\n  },\n  _setDefaultAria: function () {\n    this.setAria({\n      haspopup: \"listbox\",\n      autocomplete: \"list\"\n    });\n  },\n  _refreshList: function () {\n    if (this._list && this._shouldRefreshDataSource()) {\n      this._setListDataSource();\n    }\n  },\n  _shouldRefreshDataSource: function () {\n    var _this$option;\n\n    var dataSourceProvided = !!this._list.option(\"dataSource\");\n    var someItemsSelected = (null === (_this$option = this.option(\"selectedItems\")) || void 0 === _this$option ? void 0 : _this$option.length) > 0;\n    return dataSourceProvided !== this._needPassDataSourceToList() && !someItemsSelected;\n  },\n  _isDesktopDevice: function () {\n    return \"desktop\" === devices.real().deviceType;\n  },\n  _listConfig: function () {\n    var options = {\n      selectionMode: \"single\",\n      _templates: this.option(\"_templates\"),\n      templateProvider: this.option(\"templateProvider\"),\n      noDataText: this.option(\"noDataText\"),\n      grouped: this.option(\"grouped\"),\n      wrapItemText: this.option(\"wrapItemText\"),\n      onContentReady: this._listContentReadyHandler.bind(this),\n      itemTemplate: this.option(\"itemTemplate\"),\n      indicateLoading: false,\n      keyExpr: this._getCollectionKeyExpr(),\n      displayExpr: this._displayGetterExpr(),\n      groupTemplate: this.option(\"groupTemplate\"),\n      onItemClick: this._listItemClickAction.bind(this),\n      dataSource: this._getDataSource(),\n      hoverStateEnabled: this._isDesktopDevice() ? this.option(\"hoverStateEnabled\") : false,\n      focusStateEnabled: this._isDesktopDevice() ? this.option(\"focusStateEnabled\") : false\n    };\n\n    if (!this._canListHaveFocus()) {\n      options.tabIndex = null;\n    }\n\n    return options;\n  },\n  _canListHaveFocus: function () {\n    return false;\n  },\n  _getDataSource: function () {\n    return this._needPassDataSourceToList() ? this._dataSource : null;\n  },\n  _dataSourceOptions: function () {\n    return {\n      paginate: false\n    };\n  },\n  _getGroupedOption: function () {\n    return this.option(\"grouped\");\n  },\n  _dataSourceFromUrlLoadMode: function () {\n    return \"raw\";\n  },\n  _listContentReadyHandler: function () {\n    this._list = this._list || this._$list.dxList(\"instance\");\n\n    if (!this.option(\"deferRendering\")) {\n      this._refreshSelected();\n    }\n\n    this._dimensionChanged();\n\n    this._contentReadyAction();\n  },\n  _setListOption: function (optionName, value) {\n    this._setWidgetOption(\"_list\", arguments);\n  },\n  _listItemClickAction: function (e) {\n    this._listItemClickHandler(e);\n\n    this._itemClickAction(e);\n  },\n  _listItemClickHandler: commonUtils.noop,\n  _setListDataSource: function () {\n    if (!this._list) {\n      return;\n    }\n\n    this._setListOption(\"dataSource\", this._getDataSource());\n\n    if (!this._needPassDataSourceToList()) {\n      this._setListOption(\"items\", []);\n    }\n  },\n  _needPassDataSourceToList: function () {\n    return this.option(\"showDataBeforeSearch\") || this._isMinSearchLengthExceeded();\n  },\n  _isMinSearchLengthExceeded: function () {\n    return this._searchValue().toString().length >= this.option(\"minSearchLength\");\n  },\n  _needClearFilter: function () {\n    return this._canKeepDataSource() ? false : this._needPassDataSourceToList();\n  },\n  _canKeepDataSource: function () {\n    var _this$_dataSource;\n\n    var isMinSearchLengthExceeded = this._isMinSearchLengthExceeded();\n\n    return (null === (_this$_dataSource = this._dataSource) || void 0 === _this$_dataSource ? void 0 : _this$_dataSource.isLoaded()) && this.option(\"showDataBeforeSearch\") && this.option(\"minSearchLength\") && !isMinSearchLengthExceeded && !this._isLastMinSearchLengthExceeded;\n  },\n  _searchValue: function () {\n    return this._input().val() || \"\";\n  },\n  _getSearchEvent: function () {\n    return eventUtils.addNamespace(SEARCH_EVENT, this.NAME + \"Search\");\n  },\n  _getSetFocusPolicyEvent: function () {\n    return eventUtils.addNamespace(\"input\", this.NAME + \"FocusPolicy\");\n  },\n  _renderEvents: function () {\n    this.callBase();\n    eventsEngine.on(this._input(), this._getSetFocusPolicyEvent(), this._setFocusPolicy.bind(this));\n\n    if (this._shouldRenderSearchEvent()) {\n      eventsEngine.on(this._input(), this._getSearchEvent(), this._searchHandler.bind(this));\n    }\n  },\n  _shouldRenderSearchEvent: function () {\n    return this.option(\"searchEnabled\");\n  },\n  _refreshEvents: function () {\n    eventsEngine.off(this._input(), this._getSearchEvent());\n    eventsEngine.off(this._input(), this._getSetFocusPolicyEvent());\n    this.callBase();\n  },\n  _searchHandler: function () {\n    if (!this._isMinSearchLengthExceeded()) {\n      this._searchCanceled();\n\n      return;\n    }\n\n    var searchTimeout = this.option(\"searchTimeout\");\n\n    if (searchTimeout) {\n      this._clearSearchTimer();\n\n      this._searchTimer = setTimeout(this._searchDataSource.bind(this), searchTimeout);\n    } else {\n      this._searchDataSource();\n    }\n  },\n  _searchCanceled: function () {\n    this._clearSearchTimer();\n\n    if (this._needClearFilter()) {\n      this._filterDataSource(null);\n    }\n\n    this._refreshList();\n  },\n  _searchDataSource: function () {\n    this._filterDataSource(this._searchValue());\n  },\n  _filterDataSource: function (searchValue) {\n    this._clearSearchTimer();\n\n    var dataSource = this._dataSource;\n\n    if (dataSource) {\n      dataSource.searchExpr(this.option(\"searchExpr\") || this._displayGetterExpr());\n      dataSource.searchOperation(this.option(\"searchMode\"));\n      dataSource.searchValue(searchValue);\n      dataSource.load().done(this._dataSourceFiltered.bind(this, searchValue));\n    }\n  },\n  _clearFilter: function () {\n    var dataSource = this._dataSource;\n    dataSource && dataSource.searchValue() && dataSource.searchValue(null);\n  },\n  _dataSourceFiltered: function () {\n    this._isLastMinSearchLengthExceeded = this._isMinSearchLengthExceeded();\n\n    this._refreshList();\n\n    this._refreshPopupVisibility();\n  },\n  _shouldOpenPopup: function () {\n    return this._hasItemsToShow();\n  },\n  _refreshPopupVisibility: function () {\n    if (this.option(\"readOnly\") || !this._searchValue()) {\n      return;\n    }\n\n    var shouldOpenPopup = this._shouldOpenPopup();\n\n    if (shouldOpenPopup && !this._isFocused()) {\n      return;\n    }\n\n    this.option(\"opened\", shouldOpenPopup);\n\n    if (shouldOpenPopup) {\n      this._dimensionChanged();\n    }\n  },\n  _dataSourceChangedHandler: function (newItems) {\n    if (0 === this._dataSource.pageIndex()) {\n      this.option().items = newItems;\n    } else {\n      this.option().items = this.option().items.concat(newItems);\n    }\n  },\n  _hasItemsToShow: function () {\n    var resultItems = this._dataSource && this._dataSource.items() || [];\n    var resultAmount = resultItems.length;\n\n    var isMinSearchLengthExceeded = this._needPassDataSourceToList();\n\n    return !!(isMinSearchLengthExceeded && resultAmount);\n  },\n  _clearSearchTimer: function () {\n    clearTimeout(this._searchTimer);\n    delete this._searchTimer;\n  },\n  _updatePopupMinWidth: function (popupWidth) {\n    if (window && this._popup) {\n      if (void 0 === popupWidth) {\n        popupWidth = this.$element().outerWidth();\n      }\n\n      this._popup.overlayContent().css(\"minWidth\", popupWidth);\n    }\n  },\n  _popupShowingHandler: function () {\n    this._dimensionChanged();\n  },\n  _getPopupWidth: function () {\n    var popupWidth = this.option(\"dropDownOptions.width\");\n\n    if (null === popupWidth) {\n      return;\n    }\n\n    if (\"function\" === typeof popupWidth) {\n      return popupWidth();\n    }\n\n    return popupWidth;\n  },\n  _dimensionChanged: function () {\n    var popupWidth = this._getPopupWidth();\n\n    var popupMinWidth = this.option(\"dropDownOptions.minWidth\");\n\n    if (void 0 === popupWidth) {\n      this._setPopupOption(\"width\", this._getInputWidth.bind(this));\n    }\n\n    if (!typeUtils.isDefined(popupMinWidth)) {\n      this._updatePopupMinWidth(popupWidth);\n    }\n\n    this._popup && this._updatePopupDimensions();\n  },\n  _needPopupRepaint: function () {\n    if (!this._dataSource) {\n      return false;\n    }\n\n    var currentPageIndex = this._dataSource.pageIndex();\n\n    var needRepaint = typeUtils.isDefined(this._pageIndex) && currentPageIndex <= this._pageIndex;\n\n    this._pageIndex = currentPageIndex;\n    return needRepaint;\n  },\n  _updatePopupDimensions: function () {\n    if (this._needPopupRepaint()) {\n      this._popup.repaint();\n    }\n\n    this._list && this._list.updateDimensions();\n  },\n  _getMaxHeight: function () {\n    var $element = this.$element();\n    var $customBoundaryContainer = this._$customBoundaryContainer;\n    var offsetTop = $element.offset().top - ($customBoundaryContainer ? $customBoundaryContainer.offset().top : 0);\n    var windowHeight = $(window).outerHeight();\n    var containerHeight = $customBoundaryContainer ? Math.min($customBoundaryContainer.outerHeight(), windowHeight) : windowHeight;\n    var maxHeight = Math.max(offsetTop, containerHeight - offsetTop - $element.outerHeight());\n    return Math.min(.5 * containerHeight, maxHeight);\n  },\n  _clean: function () {\n    if (this._list) {\n      delete this._list;\n    }\n\n    delete this._isLastMinSearchLengthExceeded;\n    this.callBase();\n  },\n  _dispose: function () {\n    this._clearSearchTimer();\n\n    this.callBase();\n  },\n  _setCollectionWidgetOption: function () {\n    this._setListOption.apply(this, arguments);\n  },\n  _setSubmitValue: function () {\n    var value = this.option(\"value\");\n    var submitValue = this._shouldUseDisplayValue(value) ? this._displayGetter(value) : value;\n\n    this._getSubmitElement().val(submitValue);\n  },\n  _shouldUseDisplayValue: function (value) {\n    return \"this\" === this.option(\"valueExpr\") && typeUtils.isObject(value);\n  },\n  _optionChanged: function (args) {\n    this._dataExpressionOptionChanged(args);\n\n    switch (args.name) {\n      case \"hoverStateEnabled\":\n      case \"focusStateEnabled\":\n        this._isDesktopDevice() && this._setListOption(args.name, args.value);\n        this.callBase(args);\n        break;\n\n      case \"dropDownOptions\":\n        if (\"dropDownOptions.width\" === args.fullName) {\n          this._dimensionChanged();\n        }\n\n        this.callBase(args);\n        break;\n\n      case \"items\":\n        if (!this.option(\"dataSource\")) {\n          this._processDataSourceChanging();\n        }\n\n        break;\n\n      case \"dataSource\":\n        this._processDataSourceChanging();\n\n        break;\n\n      case \"valueExpr\":\n        this._renderValue();\n\n        this._setListOption(\"keyExpr\", this._getCollectionKeyExpr());\n\n        break;\n\n      case \"displayExpr\":\n        this._renderValue();\n\n        this._setListOption(\"displayExpr\", this._displayGetterExpr());\n\n        break;\n\n      case \"searchMode\":\n        this._validateSearchMode();\n\n        break;\n\n      case \"minSearchLength\":\n        this._refreshList();\n\n        break;\n\n      case \"searchEnabled\":\n      case \"showDataBeforeSearch\":\n      case \"searchExpr\":\n        this._invalidate();\n\n        break;\n\n      case \"onContentReady\":\n        this._initContentReadyAction();\n\n        break;\n\n      case \"onSelectionChanged\":\n        this._initSelectionChangedAction();\n\n        break;\n\n      case \"onItemClick\":\n        this._initItemClickAction();\n\n        break;\n\n      case \"grouped\":\n      case \"groupTemplate\":\n      case \"wrapItemText\":\n      case \"noDataText\":\n        this._setListOption(args.name);\n\n        break;\n\n      case \"displayValue\":\n        this.option(\"text\", args.value);\n        break;\n\n      case \"itemTemplate\":\n      case \"searchTimeout\":\n      case \"popupWidthExtension\":\n        break;\n\n      case \"selectedItem\":\n        if (args.previousValue !== args.value) {\n          this._selectionChangedAction({\n            selectedItem: args.value\n          });\n        }\n\n        break;\n\n      default:\n        this.callBase(args);\n    }\n  }\n}).include(DataExpressionMixin, DataConverterMixin);\nregisterComponent(\"dxDropDownList\", DropDownList);\nmodule.exports = DropDownList;","map":{"version":3,"sources":["C:/Users/ASUS/Desktop/ticketSystem/frontend/node_modules/devextreme/ui/drop_down_editor/ui.drop_down_list.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","$","require","windowUtils","eventsEngine","Guid","registerComponent","commonUtils","typeUtils","extend","inArray","DropDownEditor","List","errors","eventUtils","devices","dataQuery","each","DataExpressionMixin","messageLocalization","ChildDefaultTemplate","Deferred","DataConverterMixin","default","window","getWindow","LIST_ITEM_SELECTOR","LIST_ITEM_DATA_KEY","DROPDOWNLIST_POPUP_WRAPPER_CLASS","SKIP_GESTURE_EVENT_CLASS","SEARCH_EVENT","SEARCH_MODES","DropDownList","inherit","_supportedKeys","parent","callBase","tab","e","_allowSelectItemByTab","_saveValueChangeEvent","$focusedItem","_list","option","length","_setSelectedElement","apply","arguments","space","noop","home","end","$element","value","_valueGetter","_getItemData","_setValue","_getDefaultOptions","_dataExpressionDefaultOptions","displayValue","searchEnabled","searchMode","searchTimeout","minSearchLength","searchExpr","valueChangeEvent","selectedItem","noDataText","format","onSelectionChanged","onItemClick","showDataBeforeSearch","grouped","groupTemplate","popupPosition","my","at","offset","h","v","collision","wrapItemText","popupWidthExtension","_defaultOptionsRules","concat","device","platform","options","buttonsLocation","_setOptionsByReference","_optionsByReference","_init","_initDataExpressions","_initActions","_setListDataSource","_validateSearchMode","_clearSelectedItem","_initItems","_setListFocusedElementOptionChange","_updateParentActiveDescendant","_updateActiveDescendant","bind","items","_dataSource","_initContentReadyAction","_initSelectionChangedAction","_initItemClickAction","_contentReadyAction","_createActionByOption","excludeValidators","_selectionChangedAction","_itemClickAction","_initTemplates","_templateManager","addDefaultTemplates","item","_saveFocusOnWidget","initialOption","_focusInput","_fitIntoRange","start","_items","_getPlainItems","availableItems","filter","toArray","_calcNextItem","step","nextIndex","_getSelectedIndex","result","index","_isValueEquals","_createPopup","_updateCustomBoundaryContainer","_popup","_wrapper","addClass","_popupWrapperClass","$popupContent","$content","off","on","that","shown","hidden","removeClass","customContainer","$container","isWindow","get","$containerWithParents","slice","call","parents","unshift","i","getComputedStyle","overflowY","_$customBoundaryContainer","_renderInputValue","_getCurrentValue","_loadInputValue","_setSelectedItem","always","callback","_loadItem","_getItemFromPlain","cache","plainItems","itemByValue","forEach","grep","resolve","promise","_loadValue","push","_this$_list","opened","listFocusedItemId","getFocusedItemId","isElementOnDom","activedescendant","setAria","_displayValue","ensureDefined","_displayGetter","_refreshSelected","_listItemElements","_","itemElement","$itemElement","itemValue","data","isItemSelected","_isSelectedValue","selectItem","unselectItem","_popupShownHandler","_setFocusPolicy","normalizedSearchMode","toLowerCase","Error","_processDataSourceChanging","fail","_isCustomValueAllowed","reset","_clearFilter","_$list","find","_popupConfig","templatesRenderAsynchronously","autoResizeEnabled","maxHeight","_getMaxHeight","width","_getInputWidth","outerWidth","_renderPopupContent","_renderList","_getKeyboardListeners","canListHaveFocus","_canListHaveFocus","_fireContentReadyAction","_setAriaTargetForList","_getAriaTarget","_listId","_value","$list","attr","appendTo","_createComponent","_listConfig","_refreshList","role","_renderPreventBlur","$target","eventName","addNamespace","preventDefault","_renderOpenedState","controls","owns","_popupContentId","_setDefaultAria","haspopup","autocomplete","_shouldRefreshDataSource","_this$option","dataSourceProvided","someItemsSelected","_needPassDataSourceToList","_isDesktopDevice","real","deviceType","selectionMode","_templates","templateProvider","onContentReady","_listContentReadyHandler","itemTemplate","indicateLoading","keyExpr","_getCollectionKeyExpr","displayExpr","_displayGetterExpr","_listItemClickAction","dataSource","_getDataSource","hoverStateEnabled","focusStateEnabled","tabIndex","_dataSourceOptions","paginate","_getGroupedOption","_dataSourceFromUrlLoadMode","dxList","_dimensionChanged","_setListOption","optionName","_setWidgetOption","_listItemClickHandler","_isMinSearchLengthExceeded","_searchValue","toString","_needClearFilter","_canKeepDataSource","_this$_dataSource","isMinSearchLengthExceeded","isLoaded","_isLastMinSearchLengthExceeded","_input","val","_getSearchEvent","NAME","_getSetFocusPolicyEvent","_renderEvents","_shouldRenderSearchEvent","_searchHandler","_refreshEvents","_searchCanceled","_clearSearchTimer","_searchTimer","setTimeout","_searchDataSource","_filterDataSource","searchValue","searchOperation","load","done","_dataSourceFiltered","_refreshPopupVisibility","_shouldOpenPopup","_hasItemsToShow","shouldOpenPopup","_isFocused","_dataSourceChangedHandler","newItems","pageIndex","resultItems","resultAmount","clearTimeout","_updatePopupMinWidth","popupWidth","overlayContent","css","_popupShowingHandler","_getPopupWidth","popupMinWidth","_setPopupOption","isDefined","_updatePopupDimensions","_needPopupRepaint","currentPageIndex","needRepaint","_pageIndex","repaint","updateDimensions","$customBoundaryContainer","offsetTop","top","windowHeight","outerHeight","containerHeight","Math","min","max","_clean","_dispose","_setCollectionWidgetOption","_setSubmitValue","submitValue","_shouldUseDisplayValue","_getSubmitElement","isObject","_optionChanged","args","_dataExpressionOptionChanged","name","fullName","_renderValue","_invalidate","previousValue","include","module","exports"],"mappings":"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","sourcesContent":["/**\r\n * DevExtreme (ui/drop_down_editor/ui.drop_down_list.js)\r\n * Version: 20.1.7\r\n * Build date: Tue Aug 25 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\n\"use strict\";\r\n\r\nfunction _typeof(obj) {\r\n    \"@babel/helpers - typeof\";\r\n    if (\"function\" === typeof Symbol && \"symbol\" === typeof Symbol.iterator) {\r\n        _typeof = function(obj) {\r\n            return typeof obj\r\n        }\r\n    } else {\r\n        _typeof = function(obj) {\r\n            return obj && \"function\" === typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj\r\n        }\r\n    }\r\n    return _typeof(obj)\r\n}\r\nvar $ = require(\"../../core/renderer\");\r\nvar windowUtils = require(\"../../core/utils/window\");\r\nvar eventsEngine = require(\"../../events/core/events_engine\");\r\nvar Guid = require(\"../../core/guid\");\r\nvar registerComponent = require(\"../../core/component_registrator\");\r\nvar commonUtils = require(\"../../core/utils/common\");\r\nvar typeUtils = require(\"../../core/utils/type\");\r\nvar extend = require(\"../../core/utils/extend\").extend;\r\nvar inArray = require(\"../../core/utils/array\").inArray;\r\nvar DropDownEditor = require(\"./ui.drop_down_editor\");\r\nvar List = require(\"../list\");\r\nvar errors = require(\"../widget/ui.errors\");\r\nvar eventUtils = require(\"../../events/utils\");\r\nvar devices = require(\"../../core/devices\");\r\nvar dataQuery = require(\"../../data/query\");\r\nvar each = require(\"../../core/utils/iterator\").each;\r\nvar DataExpressionMixin = require(\"../editor/ui.data_expression\");\r\nvar messageLocalization = require(\"../../localization/message\");\r\nvar ChildDefaultTemplate = require(\"../../core/templates/child_default_template\").ChildDefaultTemplate;\r\nvar Deferred = require(\"../../core/utils/deferred\").Deferred;\r\nvar DataConverterMixin = require(\"../shared/grouped_data_converter_mixin\").default;\r\nvar window = windowUtils.getWindow();\r\nvar LIST_ITEM_SELECTOR = \".dx-list-item\";\r\nvar LIST_ITEM_DATA_KEY = \"dxListItemData\";\r\nvar DROPDOWNLIST_POPUP_WRAPPER_CLASS = \"dx-dropdownlist-popup-wrapper\";\r\nvar SKIP_GESTURE_EVENT_CLASS = \"dx-skip-gesture-event\";\r\nvar SEARCH_EVENT = \"input\";\r\nvar SEARCH_MODES = [\"startswith\", \"contains\", \"endwith\", \"notcontains\"];\r\nvar DropDownList = DropDownEditor.inherit({\r\n    _supportedKeys: function() {\r\n        var parent = this.callBase();\r\n        return extend({}, parent, {\r\n            tab: function(e) {\r\n                if (this._allowSelectItemByTab()) {\r\n                    this._saveValueChangeEvent(e);\r\n                    var $focusedItem = $(this._list.option(\"focusedElement\"));\r\n                    $focusedItem.length && this._setSelectedElement($focusedItem)\r\n                }\r\n                parent.tab.apply(this, arguments)\r\n            },\r\n            space: commonUtils.noop,\r\n            home: commonUtils.noop,\r\n            end: commonUtils.noop\r\n        })\r\n    },\r\n    _allowSelectItemByTab: function() {\r\n        return this.option(\"opened\") && \"instantly\" === this.option(\"applyValueMode\")\r\n    },\r\n    _setSelectedElement: function($element) {\r\n        var value = this._valueGetter(this._list._getItemData($element));\r\n        this._setValue(value)\r\n    },\r\n    _setValue: function(value) {\r\n        this.option(\"value\", value)\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), extend(DataExpressionMixin._dataExpressionDefaultOptions(), {\r\n            displayValue: void 0,\r\n            searchEnabled: false,\r\n            searchMode: \"contains\",\r\n            searchTimeout: 500,\r\n            minSearchLength: 0,\r\n            searchExpr: null,\r\n            valueChangeEvent: \"input change keyup\",\r\n            selectedItem: null,\r\n            noDataText: messageLocalization.format(\"dxCollectionWidget-noDataText\"),\r\n            onSelectionChanged: null,\r\n            onItemClick: commonUtils.noop,\r\n            showDataBeforeSearch: false,\r\n            grouped: false,\r\n            groupTemplate: \"group\",\r\n            popupPosition: {\r\n                my: \"left top\",\r\n                at: \"left bottom\",\r\n                offset: {\r\n                    h: 0,\r\n                    v: 0\r\n                },\r\n                collision: \"flip\"\r\n            },\r\n            wrapItemText: false,\r\n            popupWidthExtension: 0\r\n        }))\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: {\r\n                platform: \"ios\"\r\n            },\r\n            options: {\r\n                popupPosition: {\r\n                    offset: {\r\n                        v: -1\r\n                    }\r\n                }\r\n            }\r\n        }, {\r\n            device: {\r\n                platform: \"generic\"\r\n            },\r\n            options: {\r\n                buttonsLocation: \"bottom center\"\r\n            }\r\n        }])\r\n    },\r\n    _setOptionsByReference: function() {\r\n        this.callBase();\r\n        extend(this._optionsByReference, {\r\n            value: true,\r\n            selectedItem: true,\r\n            displayValue: true\r\n        })\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._initDataExpressions();\r\n        this._initActions();\r\n        this._setListDataSource();\r\n        this._validateSearchMode();\r\n        this._clearSelectedItem();\r\n        this._initItems()\r\n    },\r\n    _setListFocusedElementOptionChange: function() {\r\n        this._list._updateParentActiveDescendant = this._updateActiveDescendant.bind(this)\r\n    },\r\n    _initItems: function() {\r\n        var items = this.option().items;\r\n        if (items && !items.length && this._dataSource) {\r\n            this.option().items = this._dataSource.items()\r\n        }\r\n    },\r\n    _initActions: function() {\r\n        this._initContentReadyAction();\r\n        this._initSelectionChangedAction();\r\n        this._initItemClickAction()\r\n    },\r\n    _initContentReadyAction: function() {\r\n        this._contentReadyAction = this._createActionByOption(\"onContentReady\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    _initSelectionChangedAction: function() {\r\n        this._selectionChangedAction = this._createActionByOption(\"onSelectionChanged\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    _initItemClickAction: function() {\r\n        this._itemClickAction = this._createActionByOption(\"onItemClick\")\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._templateManager.addDefaultTemplates({\r\n            item: new ChildDefaultTemplate(\"item\")\r\n        })\r\n    },\r\n    _saveFocusOnWidget: function(e) {\r\n        if (this._list && this._list.initialOption(\"focusStateEnabled\")) {\r\n            this._focusInput()\r\n        }\r\n    },\r\n    _fitIntoRange: function(value, start, end) {\r\n        if (value > end) {\r\n            return start\r\n        }\r\n        if (value < start) {\r\n            return end\r\n        }\r\n        return value\r\n    },\r\n    _items: function() {\r\n        var items = this._getPlainItems(!this._list && this._dataSource.items());\r\n        var availableItems = new dataQuery(items).filter(\"disabled\", \"<>\", true).toArray();\r\n        return availableItems\r\n    },\r\n    _calcNextItem: function(step) {\r\n        var items = this._items();\r\n        var nextIndex = this._fitIntoRange(this._getSelectedIndex() + step, 0, items.length - 1);\r\n        return items[nextIndex]\r\n    },\r\n    _getSelectedIndex: function() {\r\n        var items = this._items();\r\n        var selectedItem = this.option(\"selectedItem\");\r\n        var result = -1;\r\n        each(items, function(index, item) {\r\n            if (this._isValueEquals(item, selectedItem)) {\r\n                result = index;\r\n                return false\r\n            }\r\n        }.bind(this));\r\n        return result\r\n    },\r\n    _createPopup: function() {\r\n        this.callBase();\r\n        this._updateCustomBoundaryContainer();\r\n        this._popup._wrapper().addClass(this._popupWrapperClass());\r\n        var $popupContent = this._popup.$content();\r\n        eventsEngine.off($popupContent, \"mouseup\");\r\n        eventsEngine.on($popupContent, \"mouseup\", this._saveFocusOnWidget.bind(this));\r\n        var that = this;\r\n        this._popup.on({\r\n            shown: function() {\r\n                that.$element().addClass(SKIP_GESTURE_EVENT_CLASS)\r\n            },\r\n            hidden: function() {\r\n                that.$element().removeClass(SKIP_GESTURE_EVENT_CLASS)\r\n            }\r\n        })\r\n    },\r\n    _updateCustomBoundaryContainer: function() {\r\n        var customContainer = this.option(\"dropDownOptions.container\");\r\n        var $container = customContainer && $(customContainer);\r\n        if ($container && $container.length && !typeUtils.isWindow($container.get(0))) {\r\n            var $containerWithParents = [].slice.call($container.parents());\r\n            $containerWithParents.unshift($container.get(0));\r\n            each($containerWithParents, function(i, parent) {\r\n                if (parent === $(\"body\").get(0)) {\r\n                    return false\r\n                } else {\r\n                    if (\"hidden\" === window.getComputedStyle(parent).overflowY) {\r\n                        this._$customBoundaryContainer = $(parent);\r\n                        return false\r\n                    }\r\n                }\r\n            }.bind(this))\r\n        }\r\n    },\r\n    _popupWrapperClass: function() {\r\n        return DROPDOWNLIST_POPUP_WRAPPER_CLASS\r\n    },\r\n    _renderInputValue: function() {\r\n        var value = this._getCurrentValue();\r\n        return this._loadInputValue(value, this._setSelectedItem.bind(this)).always(this.callBase.bind(this, value))\r\n    },\r\n    _loadInputValue: function(value, callback) {\r\n        return this._loadItem(value).always(callback)\r\n    },\r\n    _getItemFromPlain: function(value, cache) {\r\n        var plainItems;\r\n        var selectedItem;\r\n        if (cache && \"object\" !== _typeof(value)) {\r\n            if (!cache.itemByValue) {\r\n                cache.itemByValue = {};\r\n                plainItems = this._getPlainItems();\r\n                plainItems.forEach(function(item) {\r\n                    cache.itemByValue[this._valueGetter(item)] = item\r\n                }, this)\r\n            }\r\n            selectedItem = cache.itemByValue[value]\r\n        }\r\n        if (!selectedItem) {\r\n            plainItems = this._getPlainItems();\r\n            selectedItem = commonUtils.grep(plainItems, function(item) {\r\n                return this._isValueEquals(this._valueGetter(item), value)\r\n            }.bind(this))[0]\r\n        }\r\n        return selectedItem\r\n    },\r\n    _loadItem: function(value, cache) {\r\n        var selectedItem = this._getItemFromPlain(value, cache);\r\n        return void 0 !== selectedItem ? (new Deferred).resolve(selectedItem).promise() : this._loadValue(value)\r\n    },\r\n    _getPlainItems: function(items) {\r\n        var plainItems = [];\r\n        items = items || this.option(\"items\") || this._dataSource.items() || [];\r\n        for (var i = 0; i < items.length; i++) {\r\n            if (items[i] && items[i].items) {\r\n                plainItems = plainItems.concat(items[i].items)\r\n            } else {\r\n                plainItems.push(items[i])\r\n            }\r\n        }\r\n        return plainItems\r\n    },\r\n    _updateActiveDescendant: function() {\r\n        var _this$_list;\r\n        var opened = this.option(\"opened\");\r\n        var listFocusedItemId = null === (_this$_list = this._list) || void 0 === _this$_list ? void 0 : _this$_list.getFocusedItemId();\r\n        var isElementOnDom = $(\"#\".concat(listFocusedItemId)).length > 0;\r\n        var activedescendant = opened && isElementOnDom && listFocusedItemId;\r\n        this.setAria({\r\n            activedescendant: activedescendant || null\r\n        })\r\n    },\r\n    _setSelectedItem: function(item) {\r\n        var displayValue = this._displayValue(item);\r\n        this.option(\"selectedItem\", commonUtils.ensureDefined(item, null));\r\n        this.option(\"displayValue\", displayValue)\r\n    },\r\n    _displayValue: function(item) {\r\n        return this._displayGetter(item)\r\n    },\r\n    _refreshSelected: function() {\r\n        var cache = {};\r\n        this._listItemElements().each(function(_, itemElement) {\r\n            var $itemElement = $(itemElement);\r\n            var itemValue = this._valueGetter($itemElement.data(LIST_ITEM_DATA_KEY));\r\n            var isItemSelected = this._isSelectedValue(itemValue, cache);\r\n            if (isItemSelected) {\r\n                this._list.selectItem($itemElement)\r\n            } else {\r\n                this._list.unselectItem($itemElement)\r\n            }\r\n        }.bind(this))\r\n    },\r\n    _popupShownHandler: function() {\r\n        this.callBase();\r\n        this._setFocusPolicy()\r\n    },\r\n    _setFocusPolicy: function() {\r\n        if (!this.option(\"focusStateEnabled\") || !this._list) {\r\n            return\r\n        }\r\n        this._list.option(\"focusedElement\", null)\r\n    },\r\n    _isSelectedValue: function(value) {\r\n        return this._isValueEquals(value, this.option(\"value\"))\r\n    },\r\n    _validateSearchMode: function() {\r\n        var searchMode = this.option(\"searchMode\");\r\n        var normalizedSearchMode = searchMode.toLowerCase();\r\n        if (inArray(normalizedSearchMode, SEARCH_MODES) < 0) {\r\n            throw errors.Error(\"E1019\", searchMode)\r\n        }\r\n    },\r\n    _clearSelectedItem: function() {\r\n        this.option(\"selectedItem\", null)\r\n    },\r\n    _processDataSourceChanging: function() {\r\n        this._setListDataSource();\r\n        this._renderInputValue().fail(function() {\r\n            if (this._isCustomValueAllowed()) {\r\n                return\r\n            }\r\n            this._clearSelectedItem()\r\n        }.bind(this))\r\n    },\r\n    _isCustomValueAllowed: function() {\r\n        return this.option(\"displayCustomValue\")\r\n    },\r\n    reset: function() {\r\n        this.callBase();\r\n        this._clearFilter();\r\n        this._clearSelectedItem()\r\n    },\r\n    _listItemElements: function() {\r\n        return this._$list ? this._$list.find(LIST_ITEM_SELECTOR) : $()\r\n    },\r\n    _popupConfig: function() {\r\n        return extend(this.callBase(), {\r\n            templatesRenderAsynchronously: false,\r\n            autoResizeEnabled: false,\r\n            maxHeight: this._getMaxHeight.bind(this),\r\n            width: this._getInputWidth.bind(this)\r\n        })\r\n    },\r\n    _getInputWidth: function() {\r\n        return this.$element().outerWidth()\r\n    },\r\n    _renderPopupContent: function() {\r\n        this.callBase();\r\n        this._renderList()\r\n    },\r\n    _getKeyboardListeners: function() {\r\n        var canListHaveFocus = this._canListHaveFocus();\r\n        return this.callBase().concat([!canListHaveFocus && this._list])\r\n    },\r\n    _fireContentReadyAction: commonUtils.noop,\r\n    _setAriaTargetForList: function() {\r\n        this._list._getAriaTarget = this._getAriaTarget.bind(this)\r\n    },\r\n    _renderList: function() {\r\n        this._listId = \"dx-\" + (new Guid)._value;\r\n        var $list = this._$list = $(\"<div>\").attr(\"id\", this._listId).appendTo(this._popup.$content());\r\n        this._list = this._createComponent($list, List, this._listConfig());\r\n        this._refreshList();\r\n        this._setAriaTargetForList();\r\n        this._list.option(\"_listAttributes\", {\r\n            role: \"combobox\"\r\n        });\r\n        this._renderPreventBlur(this._$list);\r\n        this._setListFocusedElementOptionChange()\r\n    },\r\n    _renderPreventBlur: function($target) {\r\n        var eventName = eventUtils.addNamespace(\"mousedown\", \"dxDropDownList\");\r\n        eventsEngine.off($target, eventName);\r\n        eventsEngine.on($target, eventName, function(e) {\r\n            e.preventDefault()\r\n        }.bind(this))\r\n    },\r\n    _renderOpenedState: function() {\r\n        this.callBase();\r\n        this._list && this._updateActiveDescendant();\r\n        this.setAria({\r\n            controls: this._list && this._listId,\r\n            owns: this._popup && this._popupContentId\r\n        })\r\n    },\r\n    _setDefaultAria: function() {\r\n        this.setAria({\r\n            haspopup: \"listbox\",\r\n            autocomplete: \"list\"\r\n        })\r\n    },\r\n    _refreshList: function() {\r\n        if (this._list && this._shouldRefreshDataSource()) {\r\n            this._setListDataSource()\r\n        }\r\n    },\r\n    _shouldRefreshDataSource: function() {\r\n        var _this$option;\r\n        var dataSourceProvided = !!this._list.option(\"dataSource\");\r\n        var someItemsSelected = (null === (_this$option = this.option(\"selectedItems\")) || void 0 === _this$option ? void 0 : _this$option.length) > 0;\r\n        return dataSourceProvided !== this._needPassDataSourceToList() && !someItemsSelected\r\n    },\r\n    _isDesktopDevice: function() {\r\n        return \"desktop\" === devices.real().deviceType\r\n    },\r\n    _listConfig: function() {\r\n        var options = {\r\n            selectionMode: \"single\",\r\n            _templates: this.option(\"_templates\"),\r\n            templateProvider: this.option(\"templateProvider\"),\r\n            noDataText: this.option(\"noDataText\"),\r\n            grouped: this.option(\"grouped\"),\r\n            wrapItemText: this.option(\"wrapItemText\"),\r\n            onContentReady: this._listContentReadyHandler.bind(this),\r\n            itemTemplate: this.option(\"itemTemplate\"),\r\n            indicateLoading: false,\r\n            keyExpr: this._getCollectionKeyExpr(),\r\n            displayExpr: this._displayGetterExpr(),\r\n            groupTemplate: this.option(\"groupTemplate\"),\r\n            onItemClick: this._listItemClickAction.bind(this),\r\n            dataSource: this._getDataSource(),\r\n            hoverStateEnabled: this._isDesktopDevice() ? this.option(\"hoverStateEnabled\") : false,\r\n            focusStateEnabled: this._isDesktopDevice() ? this.option(\"focusStateEnabled\") : false\r\n        };\r\n        if (!this._canListHaveFocus()) {\r\n            options.tabIndex = null\r\n        }\r\n        return options\r\n    },\r\n    _canListHaveFocus: function() {\r\n        return false\r\n    },\r\n    _getDataSource: function() {\r\n        return this._needPassDataSourceToList() ? this._dataSource : null\r\n    },\r\n    _dataSourceOptions: function() {\r\n        return {\r\n            paginate: false\r\n        }\r\n    },\r\n    _getGroupedOption: function() {\r\n        return this.option(\"grouped\")\r\n    },\r\n    _dataSourceFromUrlLoadMode: function() {\r\n        return \"raw\"\r\n    },\r\n    _listContentReadyHandler: function() {\r\n        this._list = this._list || this._$list.dxList(\"instance\");\r\n        if (!this.option(\"deferRendering\")) {\r\n            this._refreshSelected()\r\n        }\r\n        this._dimensionChanged();\r\n        this._contentReadyAction()\r\n    },\r\n    _setListOption: function(optionName, value) {\r\n        this._setWidgetOption(\"_list\", arguments)\r\n    },\r\n    _listItemClickAction: function(e) {\r\n        this._listItemClickHandler(e);\r\n        this._itemClickAction(e)\r\n    },\r\n    _listItemClickHandler: commonUtils.noop,\r\n    _setListDataSource: function() {\r\n        if (!this._list) {\r\n            return\r\n        }\r\n        this._setListOption(\"dataSource\", this._getDataSource());\r\n        if (!this._needPassDataSourceToList()) {\r\n            this._setListOption(\"items\", [])\r\n        }\r\n    },\r\n    _needPassDataSourceToList: function() {\r\n        return this.option(\"showDataBeforeSearch\") || this._isMinSearchLengthExceeded()\r\n    },\r\n    _isMinSearchLengthExceeded: function() {\r\n        return this._searchValue().toString().length >= this.option(\"minSearchLength\")\r\n    },\r\n    _needClearFilter: function() {\r\n        return this._canKeepDataSource() ? false : this._needPassDataSourceToList()\r\n    },\r\n    _canKeepDataSource: function() {\r\n        var _this$_dataSource;\r\n        var isMinSearchLengthExceeded = this._isMinSearchLengthExceeded();\r\n        return (null === (_this$_dataSource = this._dataSource) || void 0 === _this$_dataSource ? void 0 : _this$_dataSource.isLoaded()) && this.option(\"showDataBeforeSearch\") && this.option(\"minSearchLength\") && !isMinSearchLengthExceeded && !this._isLastMinSearchLengthExceeded\r\n    },\r\n    _searchValue: function() {\r\n        return this._input().val() || \"\"\r\n    },\r\n    _getSearchEvent: function() {\r\n        return eventUtils.addNamespace(SEARCH_EVENT, this.NAME + \"Search\")\r\n    },\r\n    _getSetFocusPolicyEvent: function() {\r\n        return eventUtils.addNamespace(\"input\", this.NAME + \"FocusPolicy\")\r\n    },\r\n    _renderEvents: function() {\r\n        this.callBase();\r\n        eventsEngine.on(this._input(), this._getSetFocusPolicyEvent(), this._setFocusPolicy.bind(this));\r\n        if (this._shouldRenderSearchEvent()) {\r\n            eventsEngine.on(this._input(), this._getSearchEvent(), this._searchHandler.bind(this))\r\n        }\r\n    },\r\n    _shouldRenderSearchEvent: function() {\r\n        return this.option(\"searchEnabled\")\r\n    },\r\n    _refreshEvents: function() {\r\n        eventsEngine.off(this._input(), this._getSearchEvent());\r\n        eventsEngine.off(this._input(), this._getSetFocusPolicyEvent());\r\n        this.callBase()\r\n    },\r\n    _searchHandler: function() {\r\n        if (!this._isMinSearchLengthExceeded()) {\r\n            this._searchCanceled();\r\n            return\r\n        }\r\n        var searchTimeout = this.option(\"searchTimeout\");\r\n        if (searchTimeout) {\r\n            this._clearSearchTimer();\r\n            this._searchTimer = setTimeout(this._searchDataSource.bind(this), searchTimeout)\r\n        } else {\r\n            this._searchDataSource()\r\n        }\r\n    },\r\n    _searchCanceled: function() {\r\n        this._clearSearchTimer();\r\n        if (this._needClearFilter()) {\r\n            this._filterDataSource(null)\r\n        }\r\n        this._refreshList()\r\n    },\r\n    _searchDataSource: function() {\r\n        this._filterDataSource(this._searchValue())\r\n    },\r\n    _filterDataSource: function(searchValue) {\r\n        this._clearSearchTimer();\r\n        var dataSource = this._dataSource;\r\n        if (dataSource) {\r\n            dataSource.searchExpr(this.option(\"searchExpr\") || this._displayGetterExpr());\r\n            dataSource.searchOperation(this.option(\"searchMode\"));\r\n            dataSource.searchValue(searchValue);\r\n            dataSource.load().done(this._dataSourceFiltered.bind(this, searchValue))\r\n        }\r\n    },\r\n    _clearFilter: function() {\r\n        var dataSource = this._dataSource;\r\n        dataSource && dataSource.searchValue() && dataSource.searchValue(null)\r\n    },\r\n    _dataSourceFiltered: function() {\r\n        this._isLastMinSearchLengthExceeded = this._isMinSearchLengthExceeded();\r\n        this._refreshList();\r\n        this._refreshPopupVisibility()\r\n    },\r\n    _shouldOpenPopup: function() {\r\n        return this._hasItemsToShow()\r\n    },\r\n    _refreshPopupVisibility: function() {\r\n        if (this.option(\"readOnly\") || !this._searchValue()) {\r\n            return\r\n        }\r\n        var shouldOpenPopup = this._shouldOpenPopup();\r\n        if (shouldOpenPopup && !this._isFocused()) {\r\n            return\r\n        }\r\n        this.option(\"opened\", shouldOpenPopup);\r\n        if (shouldOpenPopup) {\r\n            this._dimensionChanged()\r\n        }\r\n    },\r\n    _dataSourceChangedHandler: function(newItems) {\r\n        if (0 === this._dataSource.pageIndex()) {\r\n            this.option().items = newItems\r\n        } else {\r\n            this.option().items = this.option().items.concat(newItems)\r\n        }\r\n    },\r\n    _hasItemsToShow: function() {\r\n        var resultItems = this._dataSource && this._dataSource.items() || [];\r\n        var resultAmount = resultItems.length;\r\n        var isMinSearchLengthExceeded = this._needPassDataSourceToList();\r\n        return !!(isMinSearchLengthExceeded && resultAmount)\r\n    },\r\n    _clearSearchTimer: function() {\r\n        clearTimeout(this._searchTimer);\r\n        delete this._searchTimer\r\n    },\r\n    _updatePopupMinWidth: function(popupWidth) {\r\n        if (window && this._popup) {\r\n            if (void 0 === popupWidth) {\r\n                popupWidth = this.$element().outerWidth()\r\n            }\r\n            this._popup.overlayContent().css(\"minWidth\", popupWidth)\r\n        }\r\n    },\r\n    _popupShowingHandler: function() {\r\n        this._dimensionChanged()\r\n    },\r\n    _getPopupWidth: function() {\r\n        var popupWidth = this.option(\"dropDownOptions.width\");\r\n        if (null === popupWidth) {\r\n            return\r\n        }\r\n        if (\"function\" === typeof popupWidth) {\r\n            return popupWidth()\r\n        }\r\n        return popupWidth\r\n    },\r\n    _dimensionChanged: function() {\r\n        var popupWidth = this._getPopupWidth();\r\n        var popupMinWidth = this.option(\"dropDownOptions.minWidth\");\r\n        if (void 0 === popupWidth) {\r\n            this._setPopupOption(\"width\", this._getInputWidth.bind(this))\r\n        }\r\n        if (!typeUtils.isDefined(popupMinWidth)) {\r\n            this._updatePopupMinWidth(popupWidth)\r\n        }\r\n        this._popup && this._updatePopupDimensions()\r\n    },\r\n    _needPopupRepaint: function() {\r\n        if (!this._dataSource) {\r\n            return false\r\n        }\r\n        var currentPageIndex = this._dataSource.pageIndex();\r\n        var needRepaint = typeUtils.isDefined(this._pageIndex) && currentPageIndex <= this._pageIndex;\r\n        this._pageIndex = currentPageIndex;\r\n        return needRepaint\r\n    },\r\n    _updatePopupDimensions: function() {\r\n        if (this._needPopupRepaint()) {\r\n            this._popup.repaint()\r\n        }\r\n        this._list && this._list.updateDimensions()\r\n    },\r\n    _getMaxHeight: function() {\r\n        var $element = this.$element();\r\n        var $customBoundaryContainer = this._$customBoundaryContainer;\r\n        var offsetTop = $element.offset().top - ($customBoundaryContainer ? $customBoundaryContainer.offset().top : 0);\r\n        var windowHeight = $(window).outerHeight();\r\n        var containerHeight = $customBoundaryContainer ? Math.min($customBoundaryContainer.outerHeight(), windowHeight) : windowHeight;\r\n        var maxHeight = Math.max(offsetTop, containerHeight - offsetTop - $element.outerHeight());\r\n        return Math.min(.5 * containerHeight, maxHeight)\r\n    },\r\n    _clean: function() {\r\n        if (this._list) {\r\n            delete this._list\r\n        }\r\n        delete this._isLastMinSearchLengthExceeded;\r\n        this.callBase()\r\n    },\r\n    _dispose: function() {\r\n        this._clearSearchTimer();\r\n        this.callBase()\r\n    },\r\n    _setCollectionWidgetOption: function() {\r\n        this._setListOption.apply(this, arguments)\r\n    },\r\n    _setSubmitValue: function() {\r\n        var value = this.option(\"value\");\r\n        var submitValue = this._shouldUseDisplayValue(value) ? this._displayGetter(value) : value;\r\n        this._getSubmitElement().val(submitValue)\r\n    },\r\n    _shouldUseDisplayValue: function(value) {\r\n        return \"this\" === this.option(\"valueExpr\") && typeUtils.isObject(value)\r\n    },\r\n    _optionChanged: function(args) {\r\n        this._dataExpressionOptionChanged(args);\r\n        switch (args.name) {\r\n            case \"hoverStateEnabled\":\r\n            case \"focusStateEnabled\":\r\n                this._isDesktopDevice() && this._setListOption(args.name, args.value);\r\n                this.callBase(args);\r\n                break;\r\n            case \"dropDownOptions\":\r\n                if (\"dropDownOptions.width\" === args.fullName) {\r\n                    this._dimensionChanged()\r\n                }\r\n                this.callBase(args);\r\n                break;\r\n            case \"items\":\r\n                if (!this.option(\"dataSource\")) {\r\n                    this._processDataSourceChanging()\r\n                }\r\n                break;\r\n            case \"dataSource\":\r\n                this._processDataSourceChanging();\r\n                break;\r\n            case \"valueExpr\":\r\n                this._renderValue();\r\n                this._setListOption(\"keyExpr\", this._getCollectionKeyExpr());\r\n                break;\r\n            case \"displayExpr\":\r\n                this._renderValue();\r\n                this._setListOption(\"displayExpr\", this._displayGetterExpr());\r\n                break;\r\n            case \"searchMode\":\r\n                this._validateSearchMode();\r\n                break;\r\n            case \"minSearchLength\":\r\n                this._refreshList();\r\n                break;\r\n            case \"searchEnabled\":\r\n            case \"showDataBeforeSearch\":\r\n            case \"searchExpr\":\r\n                this._invalidate();\r\n                break;\r\n            case \"onContentReady\":\r\n                this._initContentReadyAction();\r\n                break;\r\n            case \"onSelectionChanged\":\r\n                this._initSelectionChangedAction();\r\n                break;\r\n            case \"onItemClick\":\r\n                this._initItemClickAction();\r\n                break;\r\n            case \"grouped\":\r\n            case \"groupTemplate\":\r\n            case \"wrapItemText\":\r\n            case \"noDataText\":\r\n                this._setListOption(args.name);\r\n                break;\r\n            case \"displayValue\":\r\n                this.option(\"text\", args.value);\r\n                break;\r\n            case \"itemTemplate\":\r\n            case \"searchTimeout\":\r\n            case \"popupWidthExtension\":\r\n                break;\r\n            case \"selectedItem\":\r\n                if (args.previousValue !== args.value) {\r\n                    this._selectionChangedAction({\r\n                        selectedItem: args.value\r\n                    })\r\n                }\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n}).include(DataExpressionMixin, DataConverterMixin);\r\nregisterComponent(\"dxDropDownList\", DropDownList);\r\nmodule.exports = DropDownList;\r\n"]},"metadata":{},"sourceType":"script"}